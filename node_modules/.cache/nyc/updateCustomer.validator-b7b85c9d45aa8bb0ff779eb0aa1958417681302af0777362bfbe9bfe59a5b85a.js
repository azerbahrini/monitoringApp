function cov_le0xgjtsi(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/middleware/validators/customer/updateCustomer.validator.js";var hash="2b70c7efa901ea6d1d5fb5805472d1165d14cd2a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/middleware/validators/customer/updateCustomer.validator.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:26}},"1":{start:{line:2,column:15},end:{line:2,column:48}},"2":{start:{line:4,column:0},end:{line:83,column:2}},"3":{start:{line:6,column:21},end:{line:13,column:4}},"4":{start:{line:14,column:21},end:{line:25,column:15}},"5":{start:{line:26,column:22},end:{line:28,column:4}},"6":{start:{line:30,column:25},end:{line:30,column:54}},"7":{start:{line:31,column:2},end:{line:46,column:3}},"8":{start:{line:32,column:16},end:{line:37,column:5}},"9":{start:{line:38,column:4},end:{line:43,column:6}},"10":{start:{line:45,column:4},end:{line:45,column:37}},"11":{start:{line:47,column:25},end:{line:47,column:54}},"12":{start:{line:48,column:2},end:{line:63,column:3}},"13":{start:{line:49,column:16},end:{line:54,column:5}},"14":{start:{line:55,column:4},end:{line:60,column:6}},"15":{start:{line:62,column:4},end:{line:62,column:37}},"16":{start:{line:64,column:26},end:{line:64,column:57}},"17":{start:{line:65,column:2},end:{line:80,column:3}},"18":{start:{line:66,column:16},end:{line:71,column:5}},"19":{start:{line:72,column:4},end:{line:77,column:6}},"20":{start:{line:79,column:4},end:{line:79,column:37}},"21":{start:{line:82,column:2},end:{line:82,column:9}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:37},end:{line:83,column:1}},line:4}},branchMap:{"0":{loc:{start:{line:31,column:2},end:{line:46,column:3}},type:"if",locations:[{start:{line:31,column:2},end:{line:46,column:3}},{start:{line:31,column:2},end:{line:46,column:3}}],line:31},"1":{loc:{start:{line:48,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:48,column:2},end:{line:63,column:3}},{start:{line:48,column:2},end:{line:63,column:3}}],line:48},"2":{loc:{start:{line:65,column:2},end:{line:80,column:3}},type:"if",locations:[{start:{line:65,column:2},end:{line:80,column:3}},{start:{line:65,column:2},end:{line:80,column:3}}],line:65}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2b70c7efa901ea6d1d5fb5805472d1165d14cd2a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_le0xgjtsi=function(){return actualCoverage;};}return actualCoverage;}cov_le0xgjtsi();const Joi=(cov_le0xgjtsi().s[0]++,require("joi"));const logger=(cov_le0xgjtsi().s[1]++,require("../../../config/logger"));cov_le0xgjtsi().s[2]++;module.exports=(req,res,next)=>{cov_le0xgjtsi().f[0]++;//joi body validation
const bodySchema=(cov_le0xgjtsi().s[3]++,Joi.object().keys({isActive:Joi.boolean().optional(),label:Joi.string().optional(),timeZone:Joi.string().optional(),address:Joi.string().optional(),firstReport:Joi.string().regex(/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/).optional(),listMonitoringType:Joi.string().allow("").optional()}));const fileSchema=(cov_le0xgjtsi().s[4]++,Joi.object().keys({fieldname:Joi.string().required(),originalname:Joi.string().required(),path:Joi.string().required(),encoding:Joi.string().required(),mimetype:Joi.string().required(),destination:Joi.string().required(),size:Joi.number().required(),filename:Joi.string().required()}).optional());const querySchema=(cov_le0xgjtsi().s[5]++,Joi.object().keys({timeZone:Joi.string().required()}));const bodyValidation=(cov_le0xgjtsi().s[6]++,bodySchema.validate(req.body));cov_le0xgjtsi().s[7]++;if(bodyValidation.error){cov_le0xgjtsi().b[0][0]++;const err=(cov_le0xgjtsi().s[8]++,{res:"error",errorUpdateSchema:{message:"body : "+bodyValidation.error.details[0].message}});cov_le0xgjtsi().s[9]++;logger.error("body : "+bodyValidation.error.details[0].message,req.baseUrl+req.route.path,req.method,req.ip);cov_le0xgjtsi().s[10]++;return res.status(400).json(err);}else{cov_le0xgjtsi().b[0][1]++;}const fileValidation=(cov_le0xgjtsi().s[11]++,fileSchema.validate(req.file));cov_le0xgjtsi().s[12]++;if(fileValidation.error){cov_le0xgjtsi().b[1][0]++;const err=(cov_le0xgjtsi().s[13]++,{res:"error",errorUpdateSchema:{message:"file : "+fileValidation.error.details[0].message}});cov_le0xgjtsi().s[14]++;logger.error(fileValidation.error.details[0].message,req.baseUrl+req.route.path,req.method,req.ip);cov_le0xgjtsi().s[15]++;return res.status(400).json(err);}else{cov_le0xgjtsi().b[1][1]++;}const queryValidation=(cov_le0xgjtsi().s[16]++,querySchema.validate(req.query));cov_le0xgjtsi().s[17]++;if(queryValidation.error){cov_le0xgjtsi().b[2][0]++;const err=(cov_le0xgjtsi().s[18]++,{res:"error",errorUpdateSchema:{message:"query : "+queryValidation.error.details[0].message}});cov_le0xgjtsi().s[19]++;logger.error(queryValidation.error.details[0].message,req.baseUrl+req.route.path,req.method,req.ip);cov_le0xgjtsi().s[20]++;return res.status(400).json(err);}else{cov_le0xgjtsi().b[2][1]++;}cov_le0xgjtsi().s[21]++;next();};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwZGF0ZUN1c3RvbWVyLnZhbGlkYXRvci5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwibG9nZ2VyIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJib2R5U2NoZW1hIiwib2JqZWN0Iiwia2V5cyIsImlzQWN0aXZlIiwiYm9vbGVhbiIsIm9wdGlvbmFsIiwibGFiZWwiLCJzdHJpbmciLCJ0aW1lWm9uZSIsImFkZHJlc3MiLCJmaXJzdFJlcG9ydCIsInJlZ2V4IiwibGlzdE1vbml0b3JpbmdUeXBlIiwiYWxsb3ciLCJmaWxlU2NoZW1hIiwiZmllbGRuYW1lIiwicmVxdWlyZWQiLCJvcmlnaW5hbG5hbWUiLCJwYXRoIiwiZW5jb2RpbmciLCJtaW1ldHlwZSIsImRlc3RpbmF0aW9uIiwic2l6ZSIsIm51bWJlciIsImZpbGVuYW1lIiwicXVlcnlTY2hlbWEiLCJib2R5VmFsaWRhdGlvbiIsInZhbGlkYXRlIiwiYm9keSIsImVycm9yIiwiZXJyIiwiZXJyb3JVcGRhdGVTY2hlbWEiLCJtZXNzYWdlIiwiZGV0YWlscyIsImJhc2VVcmwiLCJyb3V0ZSIsIm1ldGhvZCIsImlwIiwic3RhdHVzIiwianNvbiIsImZpbGVWYWxpZGF0aW9uIiwiZmlsZSIsInF1ZXJ5VmFsaWRhdGlvbiIsInF1ZXJ5Il0sIm1hcHBpbmdzIjoia3ZGQWVZO3lGQWZaLEtBQU1BLENBQUFBLEdBQUcseUJBQUdDLE9BQU8sQ0FBQyxLQUFELENBQVYsQ0FBVCxDQUNBLEtBQU1DLENBQUFBLE1BQU0seUJBQUdELE9BQU8sQ0FBQyx3QkFBRCxDQUFWLENBQVosQyx1QkFFQUUsTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixDQUFXQyxJQUFYLEdBQW9CLHdCQUNuQztBQUNBLEtBQU1DLENBQUFBLFVBQVUseUJBQUdSLEdBQUcsQ0FBQ1MsTUFBSixHQUFhQyxJQUFiLENBQWtCLENBQ25DQyxRQUFRLENBQUVYLEdBQUcsQ0FBQ1ksT0FB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RUFBZ0JDLElBQWhCLENBQXFCVCxHQUFyQixDQUFQLENBQ0QsQ0FmRCxnQ0E3RG1DLHdCQThFbkMvQixJQUFJLEdBQ0wsQ0EvRUQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuY29uc3QgbG9nZ2VyID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbmZpZy9sb2dnZXJcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIC8vam9pIGJvZHkgdmFsaWRhdGlvblxuICBjb25zdCBib2R5U2NoZW1hID0gSm9pLm9iamVjdCgpLmtleXMoe1xuICAgIGlzQWN0aXZlOiBKb2kuYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgbGFiZWw6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHRpbWVab25lOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBhZGRyZXNzOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBmaXJzdFJlcG9ydDogSm9pLnN0cmluZygpLnJlZ2V4KC9eKDBbMC05XXwxWzAtOV18MlswLTNdKTpbMC01XVswLTldJC8pLm9wdGlvbmFsKCksXG4gICAgbGlzdE1vbml0b3JpbmdUeXBlOiBKb2kuc3RyaW5nKCkuYWxsb3coXCJcIikub3B0aW9uYWwoKSxcbiAgfSk7XG4gIGNvbnN0IGZpbGVTY2hlbWEgPSBKb2kub2JqZWN0KClcbiAgICAua2V5cyh7XG4gICAgICBmaWVsZG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgb3JpZ2luYWxuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHBhdGg6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgZW5jb2Rpbmc6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgbWltZXR5cGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgZGVzdGluYXRpb246IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgc2l6ZTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICBmaWxlbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSlcbiAgICAub3B0aW9uYWwoKTtcbiAgY29uc3QgcXVlcnlTY2hlbWEgPSBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgdGltZVpvbmU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpXG4gIH0pO1xuXG4gIGNvbnN0IGJvZHlWYWxpZGF0aW9uID0gYm9keVNjaGVtYS52YWxpZGF0ZShyZXEuYm9keSk7XG4gIGlmIChib2R5VmFsaWRhdGlvbi5lcnJvcikge1xuICAgIGNvbnN0IGVyciA9IHtcbiAgICAgIHJlczogXCJlcnJvclwiLFxuICAgICAgZXJyb3JVcGRhdGVTY2hlbWE6IHtcbiAgICAgICAgbWVzc2FnZTogXCJib2R5IDogXCIgKyBib2R5VmFsaWRhdGlvbi5lcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UsXG4gICAgICB9LFxuICAgIH07XG4gICAgbG9nZ2VyLmVycm9yKFxuICAgICAgXCJib2R5IDogXCIgKyBib2R5VmFsaWRhdGlvbi5lcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UsXG4gICAgICByZXEuYmFzZVVybCArIHJlcS5yb3V0ZS5wYXRoLFxuICAgICAgcmVxLm1ldGhvZCxcbiAgICAgIHJlcS5pcFxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oZXJyKTtcbiAgfVxuICBjb25zdCBmaWxlVmFsaWRhdGlvbiA9IGZpbGVTY2hlbWEudmFsaWRhdGUocmVxLmZpbGUpO1xuICBpZiAoZmlsZVZhbGlkYXRpb24uZXJyb3IpIHtcbiAgICBjb25zdCBlcnIgPSB7XG4gICAgICByZXM6IFwiZXJyb3JcIixcbiAgICAgIGVycm9yVXBkYXRlU2NoZW1hOiB7XG4gICAgICAgIG1lc3NhZ2U6IFwiZmlsZSA6IFwiICsgZmlsZVZhbGlkYXRpb24uZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGxvZ2dlci5lcnJvcihcbiAgICAgIGZpbGVWYWxpZGF0aW9uLmVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSxcbiAgICAgIHJlcS5iYXNlVXJsICsgcmVxLnJvdXRlLnBhdGgsXG4gICAgICByZXEubWV0aG9kLFxuICAgICAgcmVxLmlwXG4gICAgKTtcblxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihlcnIpO1xuICB9XG4gIGNvbnN0IHF1ZXJ5VmFsaWRhdGlvbiA9IHF1ZXJ5U2NoZW1hLnZhbGlkYXRlKHJlcS5xdWVyeSk7XG4gIGlmIChxdWVyeVZhbGlkYXRpb24uZXJyb3IpIHtcbiAgICBjb25zdCBlcnIgPSB7XG4gICAgICByZXM6IFwiZXJyb3JcIixcbiAgICAgIGVycm9yVXBkYXRlU2NoZW1hOiB7XG4gICAgICAgIG1lc3NhZ2U6IFwicXVlcnkgOiBcIiArIHF1ZXJ5VmFsaWRhdGlvbi5lcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UsXG4gICAgICB9LFxuICAgIH07XG4gICAgbG9nZ2VyLmVycm9yKFxuICAgICAgcXVlcnlWYWxpZGF0aW9uLmVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSxcbiAgICAgIHJlcS5iYXNlVXJsICsgcmVxLnJvdXRlLnBhdGgsXG4gICAgICByZXEubWV0aG9kLFxuICAgICAgcmVxLmlwXG4gICAgKTtcblxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihlcnIpO1xuICB9XG5cbiAgbmV4dCgpO1xufTtcbiJdfQ==