function cov_1itqyaq0mj(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/controllers/statistics.controller.js";var hash="852cc44f45b97c8abc1362bf9a4a40e778e49f6d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/controllers/statistics.controller.js",statementMap:{"0":{start:{line:1,column:26},end:{line:1,column:59}},"1":{start:{line:3,column:0},end:{line:15,column:2}},"2":{start:{line:4,column:59},end:{line:4,column:68}},"3":{start:{line:5,column:29},end:{line:5,column:38}},"4":{start:{line:6,column:4},end:{line:8,column:5}},"5":{start:{line:7,column:8},end:{line:7,column:26}},"6":{start:{line:9,column:19},end:{line:9,column:120}},"7":{start:{line:10,column:4},end:{line:14,column:5}},"8":{start:{line:11,column:8},end:{line:11,column:56}},"9":{start:{line:13,column:8},end:{line:13,column:76}},"10":{start:{line:17,column:0},end:{line:29,column:5}},"11":{start:{line:18,column:62},end:{line:18,column:71}},"12":{start:{line:19,column:32},end:{line:19,column:41}},"13":{start:{line:20,column:7},end:{line:22,column:8}},"14":{start:{line:21,column:11},end:{line:21,column:29}},"15":{start:{line:23,column:22},end:{line:23,column:126}},"16":{start:{line:24,column:7},end:{line:28,column:8}},"17":{start:{line:25,column:11},end:{line:25,column:67}},"18":{start:{line:27,column:11},end:{line:27,column:79}},"19":{start:{line:30,column:0},end:{line:42,column:2}},"20":{start:{line:31,column:62},end:{line:31,column:71}},"21":{start:{line:32,column:32},end:{line:32,column:41}},"22":{start:{line:33,column:4},end:{line:35,column:5}},"23":{start:{line:34,column:6},end:{line:34,column:24}},"24":{start:{line:36,column:17},end:{line:36,column:115}},"25":{start:{line:37,column:2},end:{line:41,column:3}},"26":{start:{line:38,column:4},end:{line:38,column:52}},"27":{start:{line:40,column:4},end:{line:40,column:72}},"28":{start:{line:44,column:0},end:{line:52,column:2}},"29":{start:{line:45,column:157},end:{line:45,column:166}},"30":{start:{line:46,column:15},end:{line:46,column:155}},"31":{start:{line:47,column:0},end:{line:51,column:1}},"32":{start:{line:48,column:2},end:{line:48,column:58}},"33":{start:{line:50,column:2},end:{line:50,column:70}},"34":{start:{line:54,column:0},end:{line:65,column:2}},"35":{start:{line:55,column:19},end:{line:55,column:38}},"36":{start:{line:56,column:17},end:{line:56,column:34}},"37":{start:{line:57,column:20},end:{line:57,column:40}},"38":{start:{line:58,column:18},end:{line:58,column:36}},"39":{start:{line:59,column:15},end:{line:59,column:106}},"40":{start:{line:60,column:0},end:{line:64,column:1}},"41":{start:{line:61,column:2},end:{line:61,column:61}},"42":{start:{line:63,column:2},end:{line:63,column:71}},"43":{start:{line:67,column:0},end:{line:79,column:1}},"44":{start:{line:68,column:68},end:{line:68,column:77}},"45":{start:{line:69,column:30},end:{line:69,column:39}},"46":{start:{line:70,column:2},end:{line:72,column:3}},"47":{start:{line:71,column:4},end:{line:71,column:22}},"48":{start:{line:73,column:17},end:{line:73,column:127}},"49":{start:{line:74,column:2},end:{line:78,column:3}},"50":{start:{line:75,column:4},end:{line:75,column:52}},"51":{start:{line:77,column:4},end:{line:77,column:72}},"52":{start:{line:81,column:0},end:{line:89,column:1}},"53":{start:{line:82,column:72},end:{line:82,column:81}},"54":{start:{line:83,column:17},end:{line:83,column:126}},"55":{start:{line:84,column:2},end:{line:88,column:3}},"56":{start:{line:85,column:4},end:{line:85,column:52}},"57":{start:{line:87,column:4},end:{line:87,column:72}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:29},end:{line:3,column:30}},loc:{start:{line:3,column:55},end:{line:15,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:32},end:{line:17,column:33}},loc:{start:{line:17,column:58},end:{line:29,column:4}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:30,column:26},end:{line:30,column:27}},loc:{start:{line:30,column:52},end:{line:42,column:1}},line:30},"3":{name:"(anonymous_3)",decl:{start:{line:44,column:22},end:{line:44,column:23}},loc:{start:{line:44,column:48},end:{line:52,column:1}},line:44},"4":{name:"(anonymous_4)",decl:{start:{line:54,column:28},end:{line:54,column:29}},loc:{start:{line:54,column:54},end:{line:65,column:1}},line:54},"5":{name:"(anonymous_5)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:53},end:{line:79,column:1}},line:67},"6":{name:"(anonymous_6)",decl:{start:{line:81,column:30},end:{line:81,column:31}},loc:{start:{line:81,column:56},end:{line:89,column:1}},line:81}},branchMap:{"0":{loc:{start:{line:4,column:29},end:{line:4,column:44}},type:"default-arg",locations:[{start:{line:4,column:40},end:{line:4,column:44}}],line:4},"1":{loc:{start:{line:5,column:7},end:{line:5,column:24}},type:"default-arg",locations:[{start:{line:5,column:20},end:{line:5,column:24}}],line:5},"2":{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:6,column:4},end:{line:8,column:5}}],line:6},"3":{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:10,column:4},end:{line:14,column:5}}],line:10},"4":{loc:{start:{line:18,column:32},end:{line:18,column:47}},type:"default-arg",locations:[{start:{line:18,column:43},end:{line:18,column:47}}],line:18},"5":{loc:{start:{line:19,column:10},end:{line:19,column:27}},type:"default-arg",locations:[{start:{line:19,column:23},end:{line:19,column:27}}],line:19},"6":{loc:{start:{line:20,column:7},end:{line:22,column:8}},type:"if",locations:[{start:{line:20,column:7},end:{line:22,column:8}},{start:{line:20,column:7},end:{line:22,column:8}}],line:20},"7":{loc:{start:{line:24,column:7},end:{line:28,column:8}},type:"if",locations:[{start:{line:24,column:7},end:{line:28,column:8}},{start:{line:24,column:7},end:{line:28,column:8}}],line:24},"8":{loc:{start:{line:31,column:32},end:{line:31,column:47}},type:"default-arg",locations:[{start:{line:31,column:43},end:{line:31,column:47}}],line:31},"9":{loc:{start:{line:32,column:10},end:{line:32,column:27}},type:"default-arg",locations:[{start:{line:32,column:23},end:{line:32,column:27}}],line:32},"10":{loc:{start:{line:33,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:35,column:5}},{start:{line:33,column:4},end:{line:35,column:5}}],line:33},"11":{loc:{start:{line:37,column:2},end:{line:41,column:3}},type:"if",locations:[{start:{line:37,column:2},end:{line:41,column:3}},{start:{line:37,column:2},end:{line:41,column:3}}],line:37},"12":{loc:{start:{line:45,column:9},end:{line:45,column:28}},type:"default-arg",locations:[{start:{line:45,column:24},end:{line:45,column:28}}],line:45},"13":{loc:{start:{line:45,column:30},end:{line:45,column:42}},type:"default-arg",locations:[{start:{line:45,column:38},end:{line:45,column:42}}],line:45},"14":{loc:{start:{line:45,column:44},end:{line:45,column:60}},type:"default-arg",locations:[{start:{line:45,column:56},end:{line:45,column:60}}],line:45},"15":{loc:{start:{line:45,column:62},end:{line:45,column:76}},type:"default-arg",locations:[{start:{line:45,column:72},end:{line:45,column:76}}],line:45},"16":{loc:{start:{line:45,column:78},end:{line:45,column:93}},type:"default-arg",locations:[{start:{line:45,column:89},end:{line:45,column:93}}],line:45},"17":{loc:{start:{line:45,column:95},end:{line:45,column:112}},type:"default-arg",locations:[{start:{line:45,column:108},end:{line:45,column:112}}],line:45},"18":{loc:{start:{line:45,column:114},end:{line:45,column:129}},type:"default-arg",locations:[{start:{line:45,column:125},end:{line:45,column:129}}],line:45},"19":{loc:{start:{line:47,column:0},end:{line:51,column:1}},type:"if",locations:[{start:{line:47,column:0},end:{line:51,column:1}},{start:{line:47,column:0},end:{line:51,column:1}}],line:47},"20":{loc:{start:{line:60,column:0},end:{line:64,column:1}},type:"if",locations:[{start:{line:60,column:0},end:{line:64,column:1}},{start:{line:60,column:0},end:{line:64,column:1}}],line:60},"21":{loc:{start:{line:68,column:38},end:{line:68,column:53}},type:"default-arg",locations:[{start:{line:68,column:49},end:{line:68,column:53}}],line:68},"22":{loc:{start:{line:69,column:8},end:{line:69,column:25}},type:"default-arg",locations:[{start:{line:69,column:21},end:{line:69,column:25}}],line:69},"23":{loc:{start:{line:70,column:2},end:{line:72,column:3}},type:"if",locations:[{start:{line:70,column:2},end:{line:72,column:3}},{start:{line:70,column:2},end:{line:72,column:3}}],line:70},"24":{loc:{start:{line:74,column:2},end:{line:78,column:3}},type:"if",locations:[{start:{line:74,column:2},end:{line:78,column:3}},{start:{line:74,column:2},end:{line:78,column:3}}],line:74},"25":{loc:{start:{line:84,column:2},end:{line:88,column:3}},type:"if",locations:[{start:{line:84,column:2},end:{line:88,column:3}},{start:{line:84,column:2},end:{line:88,column:3}}],line:84}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0],"1":[0],"2":[0,0],"3":[0,0],"4":[0],"5":[0],"6":[0,0],"7":[0,0],"8":[0],"9":[0],"10":[0,0],"11":[0,0],"12":[0],"13":[0],"14":[0],"15":[0],"16":[0],"17":[0],"18":[0],"19":[0,0],"20":[0,0],"21":[0],"22":[0],"23":[0,0],"24":[0,0],"25":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"852cc44f45b97c8abc1362bf9a4a40e778e49f6d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1itqyaq0mj=function(){return actualCoverage;};}return actualCoverage;}cov_1itqyaq0mj();const StatisticsService=(cov_1itqyaq0mj().s[0]++,require('../services/statistics'));cov_1itqyaq0mj().s[1]++;exports.dbGrowthStatistics=async function(req,res){cov_1itqyaq0mj().f[0]++;const{startDate,endDate,systemID=(cov_1itqyaq0mj().b[0][0]++,null),timeZone}=(cov_1itqyaq0mj().s[2]++,req.query);let{customerID=(cov_1itqyaq0mj().b[1][0]++,null)}=(cov_1itqyaq0mj().s[3]++,req.query);cov_1itqyaq0mj().s[4]++;if(systemID!==null){cov_1itqyaq0mj().b[2][0]++;cov_1itqyaq0mj().s[5]++;customerID=null;}else{cov_1itqyaq0mj().b[2][1]++;}const result=(cov_1itqyaq0mj().s[6]++,await StatisticsService.dbGrowthStatisticsService(startDate,endDate,customerID,systemID,timeZone));cov_1itqyaq0mj().s[7]++;if(result.status==='success'){cov_1itqyaq0mj().b[3][0]++;cov_1itqyaq0mj().s[8]++;res.status(result.statusCode).json(result.data);}else{cov_1itqyaq0mj().b[3][1]++;cov_1itqyaq0mj().s[9]++;res.status(result.statusCode).json({message:result.err.message});}};cov_1itqyaq0mj().s[10]++;exports.activeUsersStatistics=async function(req,res){cov_1itqyaq0mj().f[1]++;const{startDate,endDate,systemID=(cov_1itqyaq0mj().b[4][0]++,null),timeZone}=(cov_1itqyaq0mj().s[11]++,req.query);let{customerID=(cov_1itqyaq0mj().b[5][0]++,null)}=(cov_1itqyaq0mj().s[12]++,req.query);cov_1itqyaq0mj().s[13]++;if(systemID!==null){cov_1itqyaq0mj().b[6][0]++;cov_1itqyaq0mj().s[14]++;customerID=null;}else{cov_1itqyaq0mj().b[6][1]++;}const result=(cov_1itqyaq0mj().s[15]++,await StatisticsService.activeUsersStatisticsService(startDate,endDate,customerID,systemID,timeZone));cov_1itqyaq0mj().s[16]++;if(result.status==='success'){cov_1itqyaq0mj().b[7][0]++;cov_1itqyaq0mj().s[17]++;res.status(result.statusCode).json({data:result.data});}else{cov_1itqyaq0mj().b[7][1]++;cov_1itqyaq0mj().s[18]++;res.status(result.statusCode).json({message:result.err.message});}};cov_1itqyaq0mj().s[19]++;exports.AvgResponseTime=async function(req,res){cov_1itqyaq0mj().f[2]++;const{startDate,endDate,systemID=(cov_1itqyaq0mj().b[8][0]++,null),timeZone}=(cov_1itqyaq0mj().s[20]++,req.query);let{customerID=(cov_1itqyaq0mj().b[9][0]++,null)}=(cov_1itqyaq0mj().s[21]++,req.query);cov_1itqyaq0mj().s[22]++;if(systemID!==null){cov_1itqyaq0mj().b[10][0]++;cov_1itqyaq0mj().s[23]++;customerID=null;}else{cov_1itqyaq0mj().b[10][1]++;}const result=(cov_1itqyaq0mj().s[24]++,await StatisticsService.AvgResponseTimeService(startDate,endDate,customerID,systemID,timeZone));cov_1itqyaq0mj().s[25]++;if(result.status==='success'){cov_1itqyaq0mj().b[11][0]++;cov_1itqyaq0mj().s[26]++;res.status(result.statusCode).json(result.data);}else{cov_1itqyaq0mj().b[11][1]++;cov_1itqyaq0mj().s[27]++;res.status(result.statusCode).json({message:result.err.message});}};cov_1itqyaq0mj().s[28]++;exports.listOfTasks=async function(req,res){cov_1itqyaq0mj().f[3]++;const{globalStatus=(cov_1itqyaq0mj().b[12][0]++,null),state=(cov_1itqyaq0mj().b[13][0]++,null),startDate=(cov_1itqyaq0mj().b[14][0]++,null),endDate=(cov_1itqyaq0mj().b[15][0]++,null),systemID=(cov_1itqyaq0mj().b[16][0]++,null),assigneeId=(cov_1itqyaq0mj().b[17][0]++,null),customerId=(cov_1itqyaq0mj().b[18][0]++,null),searchValue,timeZone}=(cov_1itqyaq0mj().s[29]++,req.query);const result=(cov_1itqyaq0mj().s[30]++,await StatisticsService.listOfTasksService(timeZone,customerId,globalStatus,state,startDate,endDate,assigneeId,systemID,searchValue));cov_1itqyaq0mj().s[31]++;if(result.status==='success'){cov_1itqyaq0mj().b[19][0]++;cov_1itqyaq0mj().s[32]++;res.status(result.statusCode).json({data:result.data});}else{cov_1itqyaq0mj().b[19][1]++;cov_1itqyaq0mj().s[33]++;res.status(result.statusCode).json({message:result.err.message});}};//number of systems by customer
cov_1itqyaq0mj().s[34]++;exports.systemsByCustomer=async function(req,res){cov_1itqyaq0mj().f[4]++;const startDate=(cov_1itqyaq0mj().s[35]++,req.query.startDate);const endDate=(cov_1itqyaq0mj().s[36]++,req.query.endDate);const customerID=(cov_1itqyaq0mj().s[37]++,req.query.customerID);const timeZone=(cov_1itqyaq0mj().s[38]++,req.query.timeZone);const result=(cov_1itqyaq0mj().s[39]++,await StatisticsService.numberOfSystemsByCustomer(startDate,endDate,customerID,timeZone));cov_1itqyaq0mj().s[40]++;if(result.status==='success'){cov_1itqyaq0mj().b[20][0]++;cov_1itqyaq0mj().s[41]++;res.status(result.statusCode).json({data:result.data[0]});}else{cov_1itqyaq0mj().b[20][1]++;cov_1itqyaq0mj().s[42]++;res.status(result.statusCode).json({message:result.err?.message});}};cov_1itqyaq0mj().s[43]++;exports.globalStatistics=async function(req,res){cov_1itqyaq0mj().f[5]++;const{UserID,startDate,endDate,systemID=(cov_1itqyaq0mj().b[21][0]++,null),timeZone}=(cov_1itqyaq0mj().s[44]++,req.query);let{customerID=(cov_1itqyaq0mj().b[22][0]++,null)}=(cov_1itqyaq0mj().s[45]++,req.query);cov_1itqyaq0mj().s[46]++;if(systemID!==null){cov_1itqyaq0mj().b[23][0]++;cov_1itqyaq0mj().s[47]++;customerID=null;}else{cov_1itqyaq0mj().b[23][1]++;}const result=(cov_1itqyaq0mj().s[48]++,await StatisticsService.getTasksStatsByUserService(UserID,startDate,endDate,customerID,systemID,timeZone));cov_1itqyaq0mj().s[49]++;if(result.status==='success'){cov_1itqyaq0mj().b[24][0]++;cov_1itqyaq0mj().s[50]++;res.status(result.statusCode).json(result.data);}else{cov_1itqyaq0mj().b[24][1]++;cov_1itqyaq0mj().s[51]++;res.status(result.statusCode).json({message:result.err.message});}};cov_1itqyaq0mj().s[52]++;exports.getAllResultHistory=async function(req,res){cov_1itqyaq0mj().f[6]++;const{customerId,startDate,endDate,systemId,mapId,timeZone}=(cov_1itqyaq0mj().s[53]++,req.query);const result=(cov_1itqyaq0mj().s[54]++,await StatisticsService.getAllResultHistoryService(customerId,systemId,mapId,startDate,endDate,timeZone));cov_1itqyaq0mj().s[55]++;if(result.status==='success'){cov_1itqyaq0mj().b[25][0]++;cov_1itqyaq0mj().s[56]++;res.status(result.statusCode).json(result.data);}else{cov_1itqyaq0mj().b[25][1]++;cov_1itqyaq0mj().s[57]++;res.status(result.statusCode).json({message:result.err.message});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXRpc3RpY3MuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJTdGF0aXN0aWNzU2VydmljZSIsInJlcXVpcmUiLCJleHBvcnRzIiwiZGJHcm93dGhTdGF0aXN0aWNzIiwicmVxIiwicmVzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInN5c3RlbUlEIiwidGltZVpvbmUiLCJxdWVyeSIsImN1c3RvbWVySUQiLCJyZXN1bHQiLCJkYkdyb3d0aFN0YXRpc3RpY3NTZXJ2aWNlIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsImVyciIsImFjdGl2ZVVzZXJzU3RhdGlzdGljcyIsImFjdGl2ZVVzZXJzU3RhdGlzdGljc1NlcnZpY2UiLCJBdmdSZXNwb25zZVRpbWUiLCJBdmdSZXNwb25zZVRpbWVTZXJ2aWNlIiwibGlzdE9mVGFza3MiLCJnbG9iYWxTdGF0dXMiLCJzdGF0ZSIsImFzc2lnbmVlSWQiLCJjdXN0b21lcklkIiwic2VhcmNoVmFsdWUiLCJsaXN0T2ZUYXNrc1NlcnZpY2UiLCJzeXN0ZW1zQnlDdXN0b21lciIsIm51bWJlck9mU3lzdGVtc0J5Q3VzdG9tZXIiLCJnbG9iYWxTdGF0aXN0aWNzIiwiVXNlcklEIiwiZ2V0VGFza3NTdGF0c0J5VXNlclNlcnZpY2UiLCJnZXRBbGxSZXN1bHRIaXN0b3J5Iiwic3lzdGVtSWQiLCJtYXBJZCIsImdldEFsbFJlc3VsdEhpc3RvcnlTZXJ2aWNlIl0sIm1hcHBpbmdzIjoic3dUQWVZOzJGQWZaLEtBQU1BLENBQUFBLGlCQUFpQiwwQkFBR0MsT0FBTyxDQUFDLHdCQUFELENBQVYsQ0FBdkIsQyx3QkFFQUMsT0FBTyxDQUFDQyxrQkFBUixDQUE2QixlQUFnQkMsR0FBaEIsQ0FBcUJDLEdBQXJCLENBQTBCLHlCQUN0RCxLQUFNLENBQUVDLFNBQUYsQ0FBYUMsT0FBYixDQUFzQkMsUUFBUSw2QkFBRyxJQUFILENBQTlCLENBQXVDQyxRQUF2QywyQkFBb0RMLEdBQUcsQ0FBQ00sS0FB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RXVCLFVBQUYsQ0FBY3RCLFNBQWQsQ0FBeUJDLE9BQXpCLENBQWtDOEIsUUFBbEMsQ0FBNENDLEtBQTVDLENBQW1EN0IsUUFBbkQsNEJBQWdFTCxHQUFHLENBQUNNLEtBQXBFLENBQU4sQ0FDQSxLQUFNRSxDQUFBQSxNQUFNLDJCQUFHLEtBQU1aLENBQUFBLGlCQUFpQixDQUFDdUMsMEJBQWxCLENBQTZDWCxVQUE3QyxDQUF5RFMsUUFBekQsQ0FBbUVDLEtBQW5FLENBQTBFaEMsU0FBMUUsQ0FBcUZDLE9BQXJGLENBQThGRSxRQUE5RixDQUFULENBQVosQ0FGc0QseUJBR3RELEdBQUlHLE1BQU0sQ0FBQ0UsTUFBUCxHQUFrQixTQUF0QixDQUFpQyxzREFDL0JULEdBQUcsQ0FBQ1MsTUFBSixDQUFXRixNQUFNLENBQUNHLFVBQWxCLEVBQThCQyxJQUE5QixDQUFtQ0osTUFBTSxDQUFDSyxJQUExQyxFQUNELENBRkQsSUFFTyxzREFDTFosR0FBRyxDQUFDUyxNQUFKLENBQVdGLE1BQU0sQ0FBQ0csVUFBbEIsRUFBOEJDLElBQTlCLENBQW1DLENBQUVFLE9BQU8sQ0FBRU4sTUFBTSxDQUFDTyxHQUFQLENBQVdELE9BQXRCLENBQW5DLEVBQ0QsQ0FDRixDQVJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU3RhdGlzdGljc1NlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9zdGF0aXN0aWNzJyk7XG5cbmV4cG9ydHMuZGJHcm93dGhTdGF0aXN0aWNzID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUsIHN5c3RlbUlEID0gbnVsbCwgdGltZVpvbmUgfSA9IHJlcS5xdWVyeTtcbiBsZXQgeyBjdXN0b21lcklEID0gbnVsbCB9ID0gcmVxLnF1ZXJ5O1xuICAgIGlmIChzeXN0ZW1JRCAhPT0gbnVsbCkge1xuICAgICAgICBjdXN0b21lcklEID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU3RhdGlzdGljc1NlcnZpY2UuZGJHcm93dGhTdGF0aXN0aWNzU2VydmljZShzdGFydERhdGUsIGVuZERhdGUsIGN1c3RvbWVySUQsIHN5c3RlbUlELCB0aW1lWm9uZSk7XG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVyci5tZXNzYWdlIH0pO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuYWN0aXZlVXNlcnNTdGF0aXN0aWNzID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUsIHN5c3RlbUlEID0gbnVsbCwgdGltZVpvbmUgfSA9IHJlcS5xdWVyeTtcbiAgICBsZXQgeyBjdXN0b21lcklEID0gbnVsbCB9ID0gcmVxLnF1ZXJ5O1xuICAgICAgIGlmIChzeXN0ZW1JRCAhPT0gbnVsbCkge1xuICAgICAgICAgICBjdXN0b21lcklEID0gbnVsbDtcbiAgICAgICB9XG4gICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU3RhdGlzdGljc1NlcnZpY2UuYWN0aXZlVXNlcnNTdGF0aXN0aWNzU2VydmljZShzdGFydERhdGUsIGVuZERhdGUsIGN1c3RvbWVySUQsIHN5c3RlbUlELCB0aW1lWm9uZSk7XG4gICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHtkYXRhOiByZXN1bHQuZGF0YX0pO1xuICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2UgfSk7XG4gICAgICAgfVxuICAgfTtcbmV4cG9ydHMuQXZnUmVzcG9uc2VUaW1lID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUsIHN5c3RlbUlEID0gbnVsbCwgdGltZVpvbmUgfSA9IHJlcS5xdWVyeTtcbiAgICBsZXQgeyBjdXN0b21lcklEID0gbnVsbCB9ID0gcmVxLnF1ZXJ5O1xuICAgIGlmIChzeXN0ZW1JRCAhPT0gbnVsbCkge1xuICAgICAgY3VzdG9tZXJJRCA9IG51bGw7XG4gICAgfVxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBTdGF0aXN0aWNzU2VydmljZS5BdmdSZXNwb25zZVRpbWVTZXJ2aWNlKHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgY3VzdG9tZXJJRCwgc3lzdGVtSUQsIHRpbWVab25lKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24ocmVzdWx0LmRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2UgfSk7XG4gIH1cbn07XG5cbmV4cG9ydHMubGlzdE9mVGFza3MgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgY29uc3Qge2dsb2JhbFN0YXR1cyA9IG51bGwsIHN0YXRlID0gbnVsbCwgc3RhcnREYXRlID0gbnVsbCwgZW5kRGF0ZSA9IG51bGwsIHN5c3RlbUlEID0gbnVsbCwgYXNzaWduZWVJZCA9IG51bGwsIGN1c3RvbWVySWQ9bnVsbCwgc2VhcmNoVmFsdWUsIHRpbWVab25lIH0gPSByZXEucXVlcnk7XG5jb25zdCByZXN1bHQgPSBhd2FpdCBTdGF0aXN0aWNzU2VydmljZS5saXN0T2ZUYXNrc1NlcnZpY2UodGltZVpvbmUsIGN1c3RvbWVySWQsIGdsb2JhbFN0YXR1cywgc3RhdGUsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgYXNzaWduZWVJZCwgc3lzdGVtSUQsIHNlYXJjaFZhbHVlKTtcbmlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7ZGF0YTogcmVzdWx0LmRhdGF9KTtcbn0gZWxzZSB7XG4gIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2UgfSk7XG59XG59O1xuLy9udW1iZXIgb2Ygc3lzdGVtcyBieSBjdXN0b21lclxuZXhwb3J0cy5zeXN0ZW1zQnlDdXN0b21lciA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuIGNvbnN0IHN0YXJ0RGF0ZSA9IHJlcS5xdWVyeS5zdGFydERhdGVcbiBjb25zdCBlbmREYXRlID0gcmVxLnF1ZXJ5LmVuZERhdGVcbiBjb25zdCBjdXN0b21lcklEID0gcmVxLnF1ZXJ5LmN1c3RvbWVySURcbiBjb25zdCB0aW1lWm9uZSA9IHJlcS5xdWVyeS50aW1lWm9uZVxuY29uc3QgcmVzdWx0ID0gYXdhaXQgU3RhdGlzdGljc1NlcnZpY2UubnVtYmVyT2ZTeXN0ZW1zQnlDdXN0b21lcihzdGFydERhdGUsIGVuZERhdGUsIGN1c3RvbWVySUQsIHRpbWVab25lKTtcbmlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7ZGF0YTogcmVzdWx0LmRhdGFbMF19KTtcbn0gZWxzZSB7XG4gIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyPy5tZXNzYWdlIH0pO1xufVxufTtcblxuZXhwb3J0cy5nbG9iYWxTdGF0aXN0aWNzID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgVXNlcklELCBzdGFydERhdGUsIGVuZERhdGUsIHN5c3RlbUlEID0gbnVsbCwgdGltZVpvbmUgfSA9IHJlcS5xdWVyeTtcbiAgbGV0IHsgY3VzdG9tZXJJRCA9IG51bGwgfSA9IHJlcS5xdWVyeTtcbiAgaWYgKHN5c3RlbUlEICE9PSBudWxsKSB7XG4gICAgY3VzdG9tZXJJRCA9IG51bGw7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU3RhdGlzdGljc1NlcnZpY2UuZ2V0VGFza3NTdGF0c0J5VXNlclNlcnZpY2UoVXNlcklELCBzdGFydERhdGUsIGVuZERhdGUsIGN1c3RvbWVySUQsIHN5c3RlbUlELCB0aW1lWm9uZSk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHJlc3VsdC5kYXRhKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVyci5tZXNzYWdlIH0pO1xuICB9XG59XG5cbmV4cG9ydHMuZ2V0QWxsUmVzdWx0SGlzdG9yeSA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICBjb25zdCB7IGN1c3RvbWVySWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgc3lzdGVtSWQsIG1hcElkLCB0aW1lWm9uZSB9ID0gcmVxLnF1ZXJ5O1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBTdGF0aXN0aWNzU2VydmljZS5nZXRBbGxSZXN1bHRIaXN0b3J5U2VydmljZShjdXN0b21lcklkLCBzeXN0ZW1JZCwgbWFwSWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgdGltZVpvbmUpO1xuICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbihyZXN1bHQuZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSB9KTtcbiAgfVxufVxuIl19