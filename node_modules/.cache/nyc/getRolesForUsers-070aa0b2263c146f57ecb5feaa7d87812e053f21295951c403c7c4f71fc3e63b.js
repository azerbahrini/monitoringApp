function cov_7xwbr4jom(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/role/getRolesForUsers.js";var hash="d7f0e5334ae9e908c25ddf183b0e858518abb646";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/role/getRolesForUsers.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:43}},"1":{start:{line:2,column:15},end:{line:2,column:32}},"2":{start:{line:4,column:0},end:{line:22,column:2}},"3":{start:{line:5,column:2},end:{line:21,column:3}},"4":{start:{line:6,column:15},end:{line:6,column:37}},"5":{start:{line:7,column:17},end:{line:16,column:13}},"6":{start:{line:18,column:4},end:{line:18,column:45}},"7":{start:{line:20,column:4},end:{line:20,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:29},end:{line:22,column:1}},line:4}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},f:{"0":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d7f0e5334ae9e908c25ddf183b0e858518abb646"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_7xwbr4jom=function(){return actualCoverage;};}return actualCoverage;}cov_7xwbr4jom();const Shift=(cov_7xwbr4jom().s[0]++,require("../../models/Shift"));const moment=(cov_7xwbr4jom().s[1]++,require("moment"));cov_7xwbr4jom().s[2]++;module.exports=async()=>{cov_7xwbr4jom().f[0]++;cov_7xwbr4jom().s[3]++;try{let date=(cov_7xwbr4jom().s[4]++,new Date(moment.now()));const Role=(cov_7xwbr4jom().s[5]++,await Shift.find({type:"app",$and:[{startDate:{$lte:date},endDate:{$gte:date}}]},{role:1,_id:0,user:1}).populate({path:"role",select:{label:1}}).lean().exec());cov_7xwbr4jom().s[6]++;return{data:Role,status:"success"};}catch(err){cov_7xwbr4jom().s[7]++;return{err,status:"error"};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFJvbGVzRm9yVXNlcnMuanMiXSwibmFtZXMiOlsiU2hpZnQiLCJyZXF1aXJlIiwibW9tZW50IiwibW9kdWxlIiwiZXhwb3J0cyIsImRhdGUiLCJEYXRlIiwibm93IiwiUm9sZSIsImZpbmQiLCJ0eXBlIiwiJGFuZCIsInN0YXJ0RGF0ZSIsIiRsdGUiLCJlbmREYXRlIiwiJGd0ZSIsInJvbGUiLCJfaWQiLCJ1c2VyIiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0IiwibGFiZWwiLCJsZWFuIiwiZXhlYyIsImRhdGEiLCJzdGF0dXMiLCJlcnIiXSwibWFwcGluZ3MiOiI2dkNBZVk7eUZBZlosS0FBTUEsQ0FBQUEsS0FBSyx5QkFBR0MsT0FBTyxDQUFDLG9CQUFELENBQVYsQ0FBWCxDQUNBLEtBQU1DLENBQUFBLE1BQU0seUJBQUdELE9BQU8sQ0FBQyxRQUFELENBQVYsQ0FBWixDLHVCQUVBRSxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsU0FBWSwrQ0FDM0IsR0FBSSxDQUNGLEdBQUlDLENBQUFBLElBQUkseUJBQUcsR0FBSUMsQ0FBQUEsSUFBSixDQUFTSixNQUFNLENBQUNLLEdBQVAsRUFBVCxDQUFILENBQVIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLHlCQUFHLEtBQU1SLENBQUFBLEtBQUssQ0FBQ1MsSUFBTixDQUNqQixDQUNFQyxJQUFJLENBQUUsS0FEUixDQUVFQyxJQUFJLENBQUUsQ0FBQyxDQUFFQyxTQUFTLENBQUUsQ0FBRUMsSUFBSSxDQUFFUixJQUFSLENBQWIsQ0FBNkJTLE9BQU8sQ0FBRSxDQUFFQyxJQUFJLENBQUVWLElBQVIsQ0FBdEMsQ0FBRCxDQUZSLENBRGlCLENBS2pCLENBQUVXLElBQUksQ0FBRSxDQUFSLENBQVdDLEdBQUcsQ0FBRSxDQUFoQixDQUFvQkMsSUFBSSxDQUFFLENBQTFCLENBTGlCLEVBT2hCQyxRQVBnQixDQU9QLENBQUVDLElBQUksQ0FBRSxNQUFSLENBQWdCQyxNQUFNLENBQUUsQ0FBRUMsS0FBSyxDQUFFLENBQVQsQ0FBeEIsQ0FQTyxFQVFoQkMsSUFSZ0IsR0FTaEJDLElBVGdCLEVBQVQsQ0FBVixDQUZFLHVCQWFGLE1BQU8sQ0FBRUMsSUFBSSxDQUFFakIsSUFBUixDQUFja0IsTUFBTSxDQUFFLFNBQXRCLENBQVAsQ0FDRCxDQUFDLE1BQU9DLEdBQVAsQ0FBWSx3QkFDWixNQUFPLENBQUVBLEdBQUYsQ0FBT0QsTUFBTSxDQUFFLE9BQWYsQ0FBUCxDQUNELENBQ0YsQ0FsQkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTaGlmdCA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHMvU2hpZnRcIik7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKFwibW9tZW50XCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKG1vbWVudC5ub3coKSlcbiAgICBjb25zdCBSb2xlID0gYXdhaXQgU2hpZnQuZmluZChcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJhcHBcIixcbiAgICAgICAgJGFuZDogW3sgc3RhcnREYXRlOiB7ICRsdGU6IGRhdGUgfSwgZW5kRGF0ZTogeyAkZ3RlOiBkYXRlIH0gfV0sXG4gICAgICB9LFxuICAgICAgeyByb2xlOiAxLCBfaWQ6IDAgLCB1c2VyIDoxIH1cbiAgICApXG4gICAgICAucG9wdWxhdGUoeyBwYXRoOiBcInJvbGVcIiwgc2VsZWN0OiB7IGxhYmVsOiAxIH0gfSkgICAgICBcbiAgICAgIC5sZWFuKClcbiAgICAgIC5leGVjKCk7XG4gICAgXG4gICAgcmV0dXJuIHsgZGF0YTogUm9sZSwgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4geyBlcnIsIHN0YXR1czogXCJlcnJvclwiIH07XG4gIH1cbn07XG4iXX0=