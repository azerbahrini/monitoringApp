function cov_1nrvr7keg9(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/customer/getCustomersInfoForDashboard.service.js";var hash="8fec5e2f704b2812215936c1ce0deb7878675606";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/customer/getCustomersInfoForDashboard.service.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:49}},"1":{start:{line:2,column:15},end:{line:2,column:32}},"2":{start:{line:3,column:0},end:{line:223,column:2}},"3":{start:{line:4,column:2},end:{line:222,column:3}},"4":{start:{line:5,column:22},end:{line:5,column:71}},"5":{start:{line:6,column:26},end:{line:218,column:6}},"6":{start:{line:219,column:4},end:{line:219,column:54}},"7":{start:{line:221,column:4},end:{line:221,column:41}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:29},end:{line:223,column:1}},line:3}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},f:{"0":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8fec5e2f704b2812215936c1ce0deb7878675606"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1nrvr7keg9=function(){return actualCoverage;};}return actualCoverage;}cov_1nrvr7keg9();const Customer=(cov_1nrvr7keg9().s[0]++,require('../../models/Customer'));const moment=(cov_1nrvr7keg9().s[1]++,require('moment'));cov_1nrvr7keg9().s[2]++;module.exports=async()=>{cov_1nrvr7keg9().f[0]++;cov_1nrvr7keg9().s[3]++;try{const dateRange=(cov_1nrvr7keg9().s[4]++,moment().subtract(1,'days').format('YYYY-MM-DD'));const customersInfo=(cov_1nrvr7keg9().s[5]++,await Customer.aggregate([{$match:{isActive:true}},{$lookup:{from:'systems',localField:'_id',foreignField:'customer',as:'systems'}},{$unwind:{path:'$systems',includeArrayIndex:'index',preserveNullAndEmptyArrays:true}},{$match:{'systems.isActive':true}},{$project:{_id:true,index:true,label:true,'systems._id':true,'systems.name':true,'systems.createdAt':true}},{$lookup:{from:'tasks',localField:'systems._id',foreignField:'system',as:'systems.tasks'}},{$unwind:{path:'$systems.tasks',includeArrayIndex:'systems.index',preserveNullAndEmptyArrays:true}},{$match:{'systems.tasks.state':'Done'}},{$match:{'systems.tasks.createdAt':{'$gte':new Date(dateRange)}}},{$lookup:{from:'results',localField:'systems.tasks._id',foreignField:'task',as:'results'}},{$sort:{'results.createdAt':-1}},{$set:{res:{$arrayElemAt:['$results',0]}}},{$group:{_id:{task_title:'$systems.tasks.title',systemId:'$systems._id'},taskGlobalStatus:{$first:'$res.gStatus'},name:{$first:'$systems.name'},customerName:{$first:'$label'},customer:{$first:'$_id'},'grouped tasks':{$sum:{$cond:[{$eq:['$systems.tasks.state','Done']},1,0]}}}},{$group:{_id:'$_id.systemId',customerID:{$first:'$customer'},customerName:{$first:'$customerName'},systemName:{$first:'$name'},Warning:{$sum:{$cond:[{$eq:['$taskGlobalStatus','Warning']},1,0]}},Critical:{$sum:{$cond:[{$eq:['$taskGlobalStatus','Critical']},1,0]}},Good:{$sum:{$cond:[{$eq:['$taskGlobalStatus','Good']},1,0]}}}},{$group:{_id:{customerID:'$customerID',customerName:'$customerName'},Warning:{$sum:{$cond:[{$gt:['$Warning',0]},1,0]}},Critical:{$sum:{$cond:[{$gt:['$Critical',0]},1,0]}},Good:{$sum:{$cond:[{$gt:['$Good',0]},1,0]}}}},{$project:{customerID:'$_id.customerID',customerName:'$_id.customerName',_id:0,Warning:1,Critical:1,Good:1}}]));cov_1nrvr7keg9().s[6]++;return{data:customersInfo,status:'success'};}catch(err){cov_1nrvr7keg9().s[7]++;return{err:err,status:'error'};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldEN1c3RvbWVyc0luZm9Gb3JEYXNoYm9hcmQuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDdXN0b21lciIsInJlcXVpcmUiLCJtb21lbnQiLCJtb2R1bGUiLCJleHBvcnRzIiwiZGF0ZVJhbmdlIiwic3VidHJhY3QiLCJmb3JtYXQiLCJjdXN0b21lcnNJbmZvIiwiYWdncmVnYXRlIiwiJG1hdGNoIiwiaXNBY3RpdmUiLCIkbG9va3VwIiwiZnJvbSIsImxvY2FsRmllbGQiLCJmb3JlaWduRmllbGQiLCJhcyIsIiR1bndpbmQiLCJwYXRoIiwiaW5jbHVkZUFycmF5SW5kZXgiLCJwcmVzZXJ2ZU51bGxBbmRFbXB0eUFycmF5cyIsIiRwcm9qZWN0IiwiX2lkIiwiaW5kZXgiLCJsYWJlbCIsIkRhdGUiLCIkc29ydCIsIiRzZXQiLCJyZXMiLCIkYXJyYXlFbGVtQXQiLCIkZ3JvdXAiLCJ0YXNrX3RpdGxlIiwic3lzdGVtSWQiLCJ0YXNrR2xvYmFsU3RhdHVzIiwiJGZpcnN0IiwibmFtZSIsImN1c3RvbWVyTmFtZSIsImN1c3RvbWVyIiwiJHN1bSIsIiRjb25kIiwiJGVxIiwiY3VzdG9tZXJJRCIsInN5c3RlbU5hbWUiLCJXYXJuaW5nIiwiQ3JpdGljYWwiLCJHb29kIiwiJGd0IiwiZGF0YSIsInN0YXR1cyIsImVyciJdLCJtYXBwaW5ncyI6InF6Q0FlWTsyRkFmWixLQUFNQSxDQUFBQSxRQUFRLDBCQUFHQyxPQUFPLENBQUMsdUJBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLEMsd0JBQ0FFLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixTQUFZLGlEQUMzQixHQUFJLENBQ0YsS0FBTUMsQ0FBQUEsU0FBUywwQkFBR0gsTUFBTSxHQUFHSSxRQUFULENBQWtCLENBQWxCLENBQXFCLE1BQXJCLEVBQTZCQyxNQUE3QixDQUFvQyxZQUFwQyxDQUFILENBQWYsQ0FDQSxLQUFNQyxDQUFBQSxhQUFhLDBC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VSxDQUFFLGlCQURKLENBRVJMLFlBQVksQ0FBRSxtQkFGTixDQUdSZCxHQUFHLENBQUUsQ0FIRyxDQUlScUIsT0FBTyxDQUFFLENBSkQsQ0FLUkMsUUFBUSxDQUFFLENBTEYsQ0FNUkMsSUFBSSxDQUFFLENBTkUsQ0FEWixDQTFNNkMsQ0FBbkIsQ0FBVCxDQUFuQixDQUZFLHdCQXVORixNQUFPLENBQUVFLElBQUksQ0FBRXZDLGFBQVIsQ0FBdUJ3QyxNQUFNLENBQUUsU0FBL0IsQ0FBUCxDQUNELENBQUMsTUFBT0MsR0FBUCxDQUFZLHlCQUNaLE1BQU8sQ0FBRUEsR0FBRyxDQUFFQSxHQUFQLENBQVlELE1BQU0sQ0FBRSxPQUFwQixDQUFQLENBQ0QsQ0FDRixDQTVORCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEN1c3RvbWVyID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzL0N1c3RvbWVyJyk7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKVxubW9kdWxlLmV4cG9ydHMgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0ZVJhbmdlID0gbW9tZW50KCkuc3VidHJhY3QoMSwgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuICAgIGNvbnN0IGN1c3RvbWVyc0luZm8gPSBhd2FpdCBDdXN0b21lci5hZ2dyZWdhdGUoW1xuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAkbG9va3VwOiB7XG4gICAgICAgICAgZnJvbTogJ3N5c3RlbXMnLFxuICAgICAgICAgIGxvY2FsRmllbGQ6ICdfaWQnLFxuICAgICAgICAgIGZvcmVpZ25GaWVsZDogJ2N1c3RvbWVyJyxcbiAgICAgICAgICBhczogJ3N5c3RlbXMnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICR1bndpbmQ6IHtcbiAgICAgICAgICBwYXRoOiAnJHN5c3RlbXMnLFxuICAgICAgICAgIGluY2x1ZGVBcnJheUluZGV4OiAnaW5kZXgnLFxuICAgICAgICAgIHByZXNlcnZlTnVsbEFuZEVtcHR5QXJyYXlzOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdzeXN0ZW1zLmlzQWN0aXZlJzogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgIF9pZDogdHJ1ZSxcbiAgICAgICAgICBpbmRleDogdHJ1ZSxcbiAgICAgICAgICBsYWJlbDogdHJ1ZSxcbiAgICAgICAgICAnc3lzdGVtcy5faWQnOiB0cnVlLFxuICAgICAgICAgICdzeXN0ZW1zLm5hbWUnOiB0cnVlLFxuICAgICAgICAgICdzeXN0ZW1zLmNyZWF0ZWRBdCc6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJGxvb2t1cDoge1xuICAgICAgICAgIGZyb206ICd0YXNrcycsXG4gICAgICAgICAgbG9jYWxGaWVsZDogJ3N5c3RlbXMuX2lkJyxcbiAgICAgICAgICBmb3JlaWduRmllbGQ6ICdzeXN0ZW0nLFxuICAgICAgICAgIGFzOiAnc3lzdGVtcy50YXNrcydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJHVud2luZDoge1xuICAgICAgICAgIHBhdGg6ICckc3lzdGVtcy50YXNrcycsXG4gICAgICAgICAgaW5jbHVkZUFycmF5SW5kZXg6ICdzeXN0ZW1zLmluZGV4JyxcbiAgICAgICAgICBwcmVzZXJ2ZU51bGxBbmRFbXB0eUFycmF5czogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAnc3lzdGVtcy50YXNrcy5zdGF0ZSc6ICdEb25lJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAnc3lzdGVtcy50YXNrcy5jcmVhdGVkQXQnOiB7XG4gICAgICAgICAgICAnJGd0ZSc6IG5ldyBEYXRlKGRhdGVSYW5nZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICRsb29rdXA6IHtcbiAgICAgICAgICBmcm9tOiAncmVzdWx0cycsXG4gICAgICAgICAgbG9jYWxGaWVsZDogJ3N5c3RlbXMudGFza3MuX2lkJyxcbiAgICAgICAgICBmb3JlaWduRmllbGQ6ICd0YXNrJyxcbiAgICAgICAgICBhczogJ3Jlc3VsdHMnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICRzb3J0OiB7XG4gICAgICAgICAgJ3Jlc3VsdHMuY3JlYXRlZEF0JzogLTFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHJlczoge1xuICAgICAgICAgICAgJGFycmF5RWxlbUF0OiBbJyRyZXN1bHRzJywgMF1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICRncm91cDoge1xuICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgdGFza190aXRsZTogJyRzeXN0ZW1zLnRhc2tzLnRpdGxlJyxcbiAgICAgICAgICAgIHN5c3RlbUlkOiAnJHN5c3RlbXMuX2lkJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGFza0dsb2JhbFN0YXR1czoge1xuICAgICAgICAgICAgJGZpcnN0OiAnJHJlcy5nU3RhdHVzJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgJGZpcnN0OiAnJHN5c3RlbXMubmFtZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGN1c3RvbWVyTmFtZToge1xuICAgICAgICAgICAgJGZpcnN0OiAnJGxhYmVsJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY3VzdG9tZXI6IHtcbiAgICAgICAgICAgICRmaXJzdDogJyRfaWQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnZ3JvdXBlZCB0YXNrcyc6IHtcbiAgICAgICAgICAgICRzdW06IHtcbiAgICAgICAgICAgICAgJGNvbmQ6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAkZXE6IFsnJHN5c3RlbXMudGFza3Muc3RhdGUnLCAnRG9uZSddXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgX2lkOiAnJF9pZC5zeXN0ZW1JZCcsXG4gICAgICAgICAgY3VzdG9tZXJJRDoge1xuICAgICAgICAgICAgJGZpcnN0OiAnJGN1c3RvbWVyJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiB7XG4gICAgICAgICAgICAkZmlyc3Q6ICckY3VzdG9tZXJOYW1lJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3lzdGVtTmFtZToge1xuICAgICAgICAgICAgJGZpcnN0OiAnJG5hbWUnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBXYXJuaW5nOiB7XG4gICAgICAgICAgICAkc3VtOiB7XG4gICAgICAgICAgICAgICRjb25kOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgJGVxOiBbJyR0YXNrR2xvYmFsU3RhdHVzJywgJ1dhcm5pbmcnXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIENyaXRpY2FsOiB7XG4gICAgICAgICAgICAkc3VtOiB7XG4gICAgICAgICAgICAgICRjb25kOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgJGVxOiBbJyR0YXNrR2xvYmFsU3RhdHVzJywgJ0NyaXRpY2FsJ11cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBHb29kOiB7XG4gICAgICAgICAgICAkc3VtOiB7XG4gICAgICAgICAgICAgICRjb25kOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgJGVxOiBbJyR0YXNrR2xvYmFsU3RhdHVzJywgJ0dvb2QnXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICRncm91cDoge1xuICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgY3VzdG9tZXJJRDogJyRjdXN0b21lcklEJyxcbiAgICAgICAgICAgIGN1c3RvbWVyTmFtZTogJyRjdXN0b21lck5hbWUnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBXYXJuaW5nOiB7XG4gICAgICAgICAgICAkc3VtOiB7XG4gICAgICAgICAgICAgICRjb25kOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgJGd0OiBbJyRXYXJuaW5nJywgMF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBDcml0aWNhbDoge1xuICAgICAgICAgICAgJHN1bToge1xuICAgICAgICAgICAgICAkY29uZDogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICRndDogWyckQ3JpdGljYWwnLCAwXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIEdvb2Q6IHtcbiAgICAgICAgICAgICRzdW06IHtcbiAgICAgICAgICAgICAgJGNvbmQ6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAkZ3Q6IFsnJEdvb2QnLCAwXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICRwcm9qZWN0OiB7XG4gICAgICAgICAgY3VzdG9tZXJJRDogJyRfaWQuY3VzdG9tZXJJRCcsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiAnJF9pZC5jdXN0b21lck5hbWUnLFxuICAgICAgICAgIF9pZDogMCxcbiAgICAgICAgICBXYXJuaW5nOiAxLFxuICAgICAgICAgIENyaXRpY2FsOiAxLFxuICAgICAgICAgIEdvb2Q6IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0pO1xuICAgIHJldHVybiB7IGRhdGE6IGN1c3RvbWVyc0luZm8sIHN0YXR1czogJ3N1Y2Nlc3MnIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB7IGVycjogZXJyLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgfVxufTtcbiJdfQ==