function cov_1076jjru0j(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/sla/getSlaBySlaContractIdService.js";var hash="d96425721ec9dd040df86181a5f0a6af72610499";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/sla/getSlaBySlaContractIdService.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:39}},"1":{start:{line:2,column:15},end:{line:2,column:45}},"2":{start:{line:3,column:17},end:{line:3,column:44}},"3":{start:{line:5,column:0},end:{line:87,column:2}},"4":{start:{line:6,column:2},end:{line:86,column:3}},"5":{start:{line:7,column:20},end:{line:10,column:5}},"6":{start:{line:11,column:20},end:{line:11,column:43}},"7":{start:{line:12,column:24},end:{line:35,column:5}},"8":{start:{line:36,column:4},end:{line:59,column:7}},"9":{start:{line:37,column:6},end:{line:58,column:9}},"10":{start:{line:61,column:16},end:{line:68,column:5}},"11":{start:{line:70,column:4},end:{line:78,column:5}},"12":{start:{line:71,column:6},end:{line:77,column:8}},"13":{start:{line:79,column:4},end:{line:82,column:6}},"14":{start:{line:84,column:4},end:{line:84,column:75}},"15":{start:{line:85,column:4},end:{line:85,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:68},end:{line:87,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:36,column:17},end:{line:36,column:18}},loc:{start:{line:36,column:37},end:{line:59,column:5}},line:36}},branchMap:{"0":{loc:{start:{line:70,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:78,column:5}},{start:{line:70,column:4},end:{line:78,column:5}}],line:70}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d96425721ec9dd040df86181a5f0a6af72610499"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1076jjru0j=function(){return actualCoverage;};}return actualCoverage;}cov_1076jjru0j();const Sla=(cov_1076jjru0j().s[0]++,require("../../models/Sla"));const logger=(cov_1076jjru0j().s[1]++,require("../../config/logger"));const ObjectId=(cov_1076jjru0j().s[2]++,require("mongodb").ObjectId);cov_1076jjru0j().s[3]++;module.exports=async(slaContract_Id,page,size,searchValue)=>{cov_1076jjru0j().f[0]++;cov_1076jjru0j().s[4]++;try{const options=(cov_1076jjru0j().s[5]++,{offset:page*size,limit:size});const myArray=(cov_1076jjru0j().s[6]++,searchValue?.split(' '));const searchArray=(cov_1076jjru0j().s[7]++,[{$or:[{kpi:{$regex:'',$options:'i'}},{unity:{$regex:'',$options:'i'}},{desc:{$regex:'',$options:'i'}}]}]);cov_1076jjru0j().s[8]++;myArray?.map(searchFragment=>{cov_1076jjru0j().f[1]++;cov_1076jjru0j().s[9]++;searchArray.push({$or:[{kpi:{$regex:searchFragment,$options:'i'}},{unity:{$regex:searchFragment,$options:'i'}},{desc:{$regex:searchFragment,$options:'i'}}]});});const sla=(cov_1076jjru0j().s[10]++,await Sla.paginate({isActive:true,slaContract:new ObjectId(slaContract_Id),$and:searchArray},options));cov_1076jjru0j().s[11]++;if(sla.totalDocs===0){cov_1076jjru0j().b[0][0]++;cov_1076jjru0j().s[12]++;return{err:{message:`No Sla Exist with this slaContract Id:${slaContract_Id}`},status:"error",statusCode:404};}else{cov_1076jjru0j().b[0][1]++;}cov_1076jjru0j().s[13]++;return{data:sla,status:"success"};}catch(err){cov_1076jjru0j().s[14]++;logger.error("Error occur while Getting Sla By slaContract Id :",err);cov_1076jjru0j().s[15]++;return{err,status:"error"};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFNsYUJ5U2xhQ29udHJhY3RJZFNlcnZpY2UuanMiXSwibmFtZXMiOlsiU2xhIiwicmVxdWlyZSIsImxvZ2dlciIsIk9iamVjdElkIiwibW9kdWxlIiwiZXhwb3J0cyIsInNsYUNvbnRyYWN0X0lkIiwicGFnZSIsInNpemUiLCJzZWFyY2hWYWx1ZSIsIm9wdGlvbnMiLCJvZmZzZXQiLCJsaW1pdCIsIm15QXJyYXkiLCJzcGxpdCIsInNlYXJjaEFycmF5IiwiJG9yIiwia3BpIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJ1bml0eSIsImRlc2MiLCJtYXAiLCJzZWFyY2hGcmFnbWVudCIsInB1c2giLCJzbGEiLCJwYWdpbmF0ZSIsImlzQWN0aXZlIiwic2xhQ29udHJhY3QiLCIkYW5kIiwidG90YWxEb2NzIiwiZXJyIiwibWVzc2FnZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJkYXRhIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJrbUVBZVk7MkZBZlosS0FBTUEsQ0FBQUEsR0FBRywwQkFBR0MsT0FBTyxDQUFDLGtCQUFELENBQVYsQ0FBVCxDQUNBLEtBQU1DLENBQUFBLE1BQU0sMEJBQUdELE9BQU8sQ0FBQyxxQkFBRCxDQUFWLENBQVosQ0FDQSxLQUFNRSxDQUFBQSxRQUFRLDBCQUFHRixPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CRSxRQUF0QixDQUFkLEMsd0JBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixNQUFPQyxjQUFQLENBQXVCQyxJQUF2QixDQUE2QkMsSUFBN0IsQ0FBbUNDLFdBQW5DLEdBQW1ELGlEQUNsRSxHQUFJLENBQ0YsS0FBTUMsQ0FBQUEsT0FBTywwQkFBRyxDQUNkQyxNQUFNLENBQUVKLElBQUksQ0FBR0MsSUFERCxDQUVkSSxLQUFLLENBQUVKLElBRk8sQ0FBSCxDQUFiLENBSUEsS0FBTUssQ0FBQUEsT0FBTywwQkFBR0osV0FBVyxFQUFFSyxLQUFiLENBQW1CLEdBQW5CLENBQUgsQ0FBYixDQUNBLEtBQU1DLENBQUFBLFdBQVcsMEJBQUcsQ0FDbEIsQ0FDRUMsR0FBRyxDQUFFLENBQ0gsQ0FDRUMsR0FBRyxDQUFFLENBQ0hDLE1BQU0sQ0FBRSxFQURMLENBRUhDLFFBQVEsQ0FBRSxHQUZQLENBRFAsQ0FERyxDQU9ILENBQ0VDLEtBQUssQ0FBRSxDQUNMRixNQUFNLENBQUUsRUFESCxDQUVMQyxRQUFRLENBQUUsR0FGTCxDQURULENBUEcsQ0FhSCxDQUNFRSxJQUFJLENBQUUsQ0FDSkgsTUFBTSxDQUFFLEVBREosQ0FFSkMsUUFBUSxDQUFFLEdBRk4sQ0FEUixDQWJHLENBRFAsQ0FEa0IsQ0FBSCxDQUFqQixDQU5FLHdCQThCRk4sT0FBTyxFQUFFUyxHQUFULENBQWNDLGNBQUQsRUFBb0IsaURBQy9CUixXQUFXLENBQUNTLElBQVosQ0FBaUIsQ0FDZlIsR0FBRyxDQUFFLENBQ0gsQ0FDRUMsR0FBRyxDQUFFLENBQ0hDLE1BQU0sQ0FBRUssY0FETCxDQUVISixRQUFRLENBQUUsR0FGUCxDQURQLENBREcsQ0FPSCxDQUNFQyxLQUFLLENBQUUsQ0FDTEYsTUFBTSxDQUFFSyxjQURILENBRUxKLFFBQVEsQ0FBRSxHQUZMLENBRFQsQ0FQRyxDQWFILENBQ0VFLElBQUksQ0FBRSxDQUNKSCxNQUFNLENBQUVLLGNBREosQ0FFSkosUUFBUSxDQUFFLEdBRk4sQ0FEUixDQWJHLENBRFUsQ0FBakIsRUFzQkQsQ0F2QkQsRUF5QkEsS0FBTU0sQ0FBQUEsR0FBRywyQkFBRyxLQUFNekIsQ0FBQUEsR0FBRyxDQUFDMEIsUUFBSixDQUNoQixDQUNFQyxRQUFRLENBQUUsSUFEWixDQUVFQyxXQUFXLENBQUUsR0FBSXpCLENBQUFBLFFBQUosQ0FBYUcsY0FBYixDQUZmLENBR0V1QixJQUFJLENBQUVkLFdBSFIsQ0FEZ0IsQ0FNaEJMLE9BTmdCLENBQVQsQ0FBVCxDQXZERSx5QkFnRUYsR0FBSWUsR0FBRyxDQUFDSyxTQUFKLEdBQWtCLENBQXRCLENBQXlCLHFEQUN2QixNQUFPLENBQ0xDLEdBQUcsQ0FBRSxDQUNIQyxPQUFPLENBQUcseUNBQXdDMUIsY0FBZSxFQUQ5RCxDQURBLENBSUwyQixNQUFNLENBQUUsT0FKSCxDQUtMQyxVQUFVLENBQUUsR0FMUCxDQUFQLENBT0QsQ0FSRCxpQ0FoRUUseUJBeUVGLE1BQU8sQ0FDTEMsSUFBSSxDQUFFVixHQURELENBRUxRLE1BQU0sQ0FBRSxTQUZILENBQVAsQ0FJRCxDQUFDLE1BQU9GLEdBQVAsQ0FBWSwwQkFDWjdCLE1BQU0sQ0FBQ2tDLEtBQVAsQ0FBYSxtREFBYixDQUFrRUwsR0FBbEUsRUFEWSx5QkFFWixNQUFPLENBQUVBLEdBQUYsQ0FBT0UsTUFBTSxDQUFFLE9BQWYsQ0FBUCxDQUNELENBQ0YsQ0FsRkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTbGEgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzL1NsYVwiKTtcbmNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoXCIuLi8uLi9jb25maWcvbG9nZ2VyXCIpO1xuY29uc3QgT2JqZWN0SWQgPSByZXF1aXJlKFwibW9uZ29kYlwiKS5PYmplY3RJZDtcblxubW9kdWxlLmV4cG9ydHMgPSBhc3luYyAoc2xhQ29udHJhY3RfSWQsIHBhZ2UsIHNpemUsIHNlYXJjaFZhbHVlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIG9mZnNldDogcGFnZSAqIHNpemUsXG4gICAgICBsaW1pdDogc2l6ZVxuICAgIH07XG4gICAgY29uc3QgbXlBcnJheSA9IHNlYXJjaFZhbHVlPy5zcGxpdCgnICcpO1xuICAgIGNvbnN0IHNlYXJjaEFycmF5ID0gW1xuICAgICAge1xuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrcGk6IHtcbiAgICAgICAgICAgICAgJHJlZ2V4OiAnJyxcbiAgICAgICAgICAgICAgJG9wdGlvbnM6ICdpJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdW5pdHk6IHtcbiAgICAgICAgICAgICAgJHJlZ2V4OiAnJyxcbiAgICAgICAgICAgICAgJG9wdGlvbnM6ICdpJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGVzYzoge1xuICAgICAgICAgICAgICAkcmVnZXg6ICcnLFxuICAgICAgICAgICAgICAkb3B0aW9uczogJ2knXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXTtcbiAgICBteUFycmF5Py5tYXAoKHNlYXJjaEZyYWdtZW50KSA9PiB7XG4gICAgICBzZWFyY2hBcnJheS5wdXNoKHtcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAga3BpOiB7XG4gICAgICAgICAgICAgICRyZWdleDogc2VhcmNoRnJhZ21lbnQsXG4gICAgICAgICAgICAgICRvcHRpb25zOiAnaSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVuaXR5OiB7XG4gICAgICAgICAgICAgICRyZWdleDogc2VhcmNoRnJhZ21lbnQsXG4gICAgICAgICAgICAgICRvcHRpb25zOiAnaSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRlc2M6IHtcbiAgICAgICAgICAgICAgJHJlZ2V4OiBzZWFyY2hGcmFnbWVudCxcbiAgICAgICAgICAgICAgJG9wdGlvbnM6ICdpJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzbGEgPSBhd2FpdCBTbGEucGFnaW5hdGUoXG4gICAgICB7XG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICBzbGFDb250cmFjdDogbmV3IE9iamVjdElkKHNsYUNvbnRyYWN0X0lkKSwgXG4gICAgICAgICRhbmQ6IHNlYXJjaEFycmF5XG4gICAgICB9LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG5cbiAgICBpZiAoc2xhLnRvdGFsRG9jcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyOiB7XG4gICAgICAgICAgbWVzc2FnZTogYE5vIFNsYSBFeGlzdCB3aXRoIHRoaXMgc2xhQ29udHJhY3QgSWQ6JHtzbGFDb250cmFjdF9JZH1gLFxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcbiAgICAgICAgc3RhdHVzQ29kZTogNDA0LFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IHNsYSxcbiAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyLmVycm9yKFwiRXJyb3Igb2NjdXIgd2hpbGUgR2V0dGluZyBTbGEgQnkgc2xhQ29udHJhY3QgSWQgOlwiLCBlcnIpO1xuICAgIHJldHVybiB7IGVyciwgc3RhdHVzOiBcImVycm9yXCIgfTtcbiAgfVxufTtcbiJdfQ==