function cov_6mho6r2ci(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/map/getAll.js";var hash="c6ed2714404a5725fb8d26b79fd4578a797047ff";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/map/getAll.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:68}},"1":{start:{line:2,column:21},end:{line:2,column:59}},"2":{start:{line:4,column:0},end:{line:32,column:2}},"3":{start:{line:5,column:2},end:{line:31,column:3}},"4":{start:{line:7,column:4},end:{line:13,column:6}},"5":{start:{line:15,column:23},end:{line:15,column:54}},"6":{start:{line:16,column:15},end:{line:16,column:32}},"7":{start:{line:17,column:4},end:{line:26,column:7}},"8":{start:{line:18,column:19},end:{line:18,column:27}},"9":{start:{line:19,column:6},end:{line:24,column:8}},"10":{start:{line:25,column:6},end:{line:25,column:20}},"11":{start:{line:27,column:4},end:{line:27,column:46}},"12":{start:{line:28,column:4},end:{line:28,column:53}},"13":{start:{line:30,column:4},end:{line:30,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:39},end:{line:32,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:20},end:{line:17,column:21}},loc:{start:{line:17,column:29},end:{line:26,column:5}},line:17}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c6ed2714404a5725fb8d26b79fd4578a797047ff"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_6mho6r2ci=function(){return actualCoverage;};}return actualCoverage;}cov_6mho6r2ci();const MAP=(cov_6mho6r2ci().s[0]++,require("../../models/MonitoringActivityPlannification"));const minsToString=(cov_6mho6r2ci().s[1]++,require("../../utils/minutesToString"));cov_6mho6r2ci().s[2]++;module.exports=async(page,size)=>{cov_6mho6r2ci().f[0]++;cov_6mho6r2ci().s[3]++;try{cov_6mho6r2ci().s[4]++;options={offset:page*size,limit:size,populate:[{path:"monitoringAct",select:["_id","activity","description"]}]};// const docs = await MAP.find({}).lean().exec();
let gatheredData=(cov_6mho6r2ci().s[5]++,await MAP.paginate({},options));let docs=(cov_6mho6r2ci().s[6]++,gatheredData.docs);cov_6mho6r2ci().s[7]++;docs=docs.map(doc=>{cov_6mho6r2ci().f[1]++;let newDoc=(cov_6mho6r2ci().s[8]++,doc._doc);cov_6mho6r2ci().s[9]++;newDoc={...newDoc,periodicity:minsToString(doc.periodicity),startTime:minsToString(doc.startTime,true),estimation:minsToString(doc.estimation)};cov_6mho6r2ci().s[10]++;return newDoc;});cov_6mho6r2ci().s[11]++;gatheredData={...gatheredData,docs:docs};cov_6mho6r2ci().s[12]++;return{data:gatheredData,status:"success"};}catch(err){cov_6mho6r2ci().s[13]++;return{err,status:"error"};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldEFsbC5qcyJdLCJuYW1lcyI6WyJNQVAiLCJyZXF1aXJlIiwibWluc1RvU3RyaW5nIiwibW9kdWxlIiwiZXhwb3J0cyIsInBhZ2UiLCJzaXplIiwib3B0aW9ucyIsIm9mZnNldCIsImxpbWl0IiwicG9wdWxhdGUiLCJwYXRoIiwic2VsZWN0IiwiZ2F0aGVyZWREYXRhIiwicGFnaW5hdGUiLCJkb2NzIiwibWFwIiwiZG9jIiwibmV3RG9jIiwiX2RvYyIsInBlcmlvZGljaXR5Iiwic3RhcnRUaW1lIiwiZXN0aW1hdGlvbiIsImRhdGEiLCJzdGF0dXMiLCJlcnIiXSwibWFwcGluZ3MiOiJzdkRBZVk7eUZBZlosS0FBTUEsQ0FBQUEsR0FBRyx5QkFBR0MsT0FBTyxDQUFDLCtDQUFELENBQVYsQ0FBVCxDQUNBLEtBQU1DLENBQUFBLFlBQVkseUJBQUdELE9BQU8sQ0FBQyw2QkFBRCxDQUFWLENBQWxCLEMsdUJBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixNQUFPQyxJQUFQLENBQWFDLElBQWIsR0FBc0IsK0NBQ3JDLEdBQUksd0JBRUZDLE9BQU8sQ0FBRyxDQUNSQyxNQUFNLENBQUVILElBQUksQ0FBR0MsSUFEUCxDQUVSRyxLQUFLLENBQUVILElBRkMsQ0FHUkksUUFBUSxDQUFFLENBQ1IsQ0FBRUMsSUFBSSxDQUFFLGVBQVIsQ0FBeUJDLE1BQU0sQ0FBRSxDQUFDLEtBQUQsQ0FBUSxVQUFSLENBQW9CLGFBQXBCLENBQWpDLENBRFEsQ0FIRixDQUFWLENBT0E7QUFDQSxHQUFJQyxDQUFBQSxZQUFZLHlCQUFHLEtBQU1iLENBQUFBLEdBQUcsQ0FBQ2MsUUFBSixDQUFhLEVBQWIsQ0FBaUJQLE9BQWpCLENBQVQsQ0FBaEIsQ0FDQSxHQUFJUSxDQUFBQSxJQUFJLHlCQUFHRixZQUFZLENBQUNFLElBQWhCLENBQVIsQ0FYRSx1QkFZRkEsSUFBSSxDQUFHQSxJQUFJLENBQUNDLEdBQUwsQ0FBVUMsR0FBRCxFQUFTLHdCQUN2QixHQUFJQyxDQUFBQSxNQUFNLHlCQUFHRCxHQUFHLENBQUNFLElBQVAsQ0FBVixDQUR1Qix1QkFFdkJELE1BQU0sQ0FBRyxDQUNQLEdBQUdBLE1BREksQ0FFUEUsV0FBVyxDQUFFbEIsWUFBWSxDQUFDZSxHQUFHLENBQUNHLFdBQUwsQ0FGbEIsQ0FHUEMsU0FBUyxDQUFFbkIsWUFBWSxDQUFFZSxHQUFHLENBQUNJLFNBQU4sQ0FBa0IsSUFBbEIsQ0FIaEIsQ0FJUEMsVUFBVSxDQUFFcEIsWUFBWSxDQUFDZSxHQUFHLENBQUNLLFVBQUwsQ0FKakIsQ0FBVCxDQUZ1Qix3QkFRdkIsTUFBT0osQ0FBQUEsTUFBUCxDQUNELENBVE0sQ0FBUCxDQVpFLHdCQXNCRkwsWUFBWSxDQUFHLENBQUMsR0FBR0EsWUFBSixDQUFpQkUsSUFBSSxDQUFDQSxJQUF0QixDQUFmLENBdEJFLHdCQXVCRixNQUFPLENBQUVRLElBQUksQ0FBRVYsWUFBUixDQUFzQlcsTUFBTSxDQUFFLFNBQTlCLENBQVAsQ0FDRCxDQUFDLE1BQU9DLEdBQVAsQ0FBWSx5QkFDWixNQUFPLENBQUVBLEdBQUYsQ0FBT0QsTUFBTSxDQUFFLE9BQWYsQ0FBUCxDQUNELENBQ0YsQ0E1QkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNQVAgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzL01vbml0b3JpbmdBY3Rpdml0eVBsYW5uaWZpY2F0aW9uXCIpO1xuY29uc3QgbWluc1RvU3RyaW5nID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL21pbnV0ZXNUb1N0cmluZ1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBhc3luYyAocGFnZSwgc2l6ZSkgPT4ge1xuICB0cnkge1xuXG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIG9mZnNldDogcGFnZSAqIHNpemUsXG4gICAgICBsaW1pdDogc2l6ZSxcbiAgICAgIHBvcHVsYXRlOiBbXG4gICAgICAgIHsgcGF0aDogXCJtb25pdG9yaW5nQWN0XCIsIHNlbGVjdDogW1wiX2lkXCIsIFwiYWN0aXZpdHlcIiwgXCJkZXNjcmlwdGlvblwiXSB9LFxuICAgICAgXSxcbiAgICB9O1xuICAgIC8vIGNvbnN0IGRvY3MgPSBhd2FpdCBNQVAuZmluZCh7fSkubGVhbigpLmV4ZWMoKTtcbiAgICBsZXQgZ2F0aGVyZWREYXRhID0gYXdhaXQgTUFQLnBhZ2luYXRlKHt9LCBvcHRpb25zKTtcbiAgICBsZXQgZG9jcyA9IGdhdGhlcmVkRGF0YS5kb2NzO1xuICAgIGRvY3MgPSBkb2NzLm1hcCgoZG9jKSA9PiB7XG4gICAgICBsZXQgbmV3RG9jID0gZG9jLl9kb2M7XG4gICAgICBuZXdEb2MgPSB7XG4gICAgICAgIC4uLm5ld0RvYyxcbiAgICAgICAgcGVyaW9kaWNpdHk6IG1pbnNUb1N0cmluZyhkb2MucGVyaW9kaWNpdHkpLFxuICAgICAgICBzdGFydFRpbWU6IG1pbnNUb1N0cmluZygoZG9jLnN0YXJ0VGltZSksIHRydWUpLFxuICAgICAgICBlc3RpbWF0aW9uOiBtaW5zVG9TdHJpbmcoZG9jLmVzdGltYXRpb24pLFxuICAgICAgfTtcbiAgICAgIHJldHVybiBuZXdEb2M7XG4gICAgfSk7XG4gICAgZ2F0aGVyZWREYXRhID0gey4uLmdhdGhlcmVkRGF0YSxkb2NzOmRvY3N9XG4gICAgcmV0dXJuIHsgZGF0YTogZ2F0aGVyZWREYXRhLCBzdGF0dXM6IFwic3VjY2Vzc1wiIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB7IGVyciwgc3RhdHVzOiBcImVycm9yXCIgfTtcbiAgfVxufTtcbiJdfQ==