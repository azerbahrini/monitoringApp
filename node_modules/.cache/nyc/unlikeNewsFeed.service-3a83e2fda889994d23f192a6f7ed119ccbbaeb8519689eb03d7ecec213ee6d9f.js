function cov_1dpo6f7vvm(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/newsFeed/unlikeNewsFeed.service.js";var hash="b289b89959794c2e8cb8b14fe44622c981605e1a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/newsFeed/unlikeNewsFeed.service.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:45}},"1":{start:{line:3,column:0},end:{line:24,column:1}},"2":{start:{line:4,column:4},end:{line:23,column:5}},"3":{start:{line:5,column:21},end:{line:5,column:44}},"4":{start:{line:7,column:8},end:{line:12,column:11}},"5":{start:{line:7,column:39},end:{line:7,column:70}},"6":{start:{line:8,column:12},end:{line:11,column:16}},"7":{start:{line:14,column:10},end:{line:16,column:12}},"8":{start:{line:15,column:26},end:{line:15,column:52}},"9":{start:{line:18,column:8},end:{line:18,column:26}},"10":{start:{line:20,column:8},end:{line:20,column:54}},"11":{start:{line:22,column:8},end:{line:22,column:40}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:39},end:{line:24,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:7,column:29},end:{line:7,column:30}},loc:{start:{line:7,column:39},end:{line:7,column:70}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:12},end:{line:15,column:13}},loc:{start:{line:15,column:26},end:{line:15,column:52}},line:15}},branchMap:{"0":{loc:{start:{line:7,column:8},end:{line:12,column:11}},type:"if",locations:[{start:{line:7,column:8},end:{line:12,column:11}},{start:{line:7,column:8},end:{line:12,column:11}}],line:7}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b289b89959794c2e8cb8b14fe44622c981605e1a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1dpo6f7vvm=function(){return actualCoverage;};}return actualCoverage;}cov_1dpo6f7vvm();const News=(cov_1dpo6f7vvm().s[0]++,require('../../models/NewsFeed'));cov_1dpo6f7vvm().s[1]++;module.exports=async(id,userId)=>{cov_1dpo6f7vvm().f[0]++;cov_1dpo6f7vvm().s[2]++;try{const post=(cov_1dpo6f7vvm().s[3]++,await News.findById(id));cov_1dpo6f7vvm().s[4]++;if(!post.likes.some(like=>{cov_1dpo6f7vvm().f[1]++;cov_1dpo6f7vvm().s[5]++;return like.user.toString()===userId;})){cov_1dpo6f7vvm().b[0][0]++;cov_1dpo6f7vvm().s[6]++;return{err:{message:'post has not yet been liked'},status:'error'};}else{cov_1dpo6f7vvm().b[0][1]++;}cov_1dpo6f7vvm().s[7]++;post.likes=post.likes.filter(({user})=>{cov_1dpo6f7vvm().f[2]++;cov_1dpo6f7vvm().s[8]++;return user.toString()!==userId;});cov_1dpo6f7vvm().s[9]++;await post.save();cov_1dpo6f7vvm().s[10]++;return{data:post.likes,status:'success'};}catch(err){cov_1dpo6f7vvm().s[11]++;return{err,status:'error'};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVubGlrZU5ld3NGZWVkLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiTmV3cyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiaWQiLCJ1c2VySWQiLCJwb3N0IiwiZmluZEJ5SWQiLCJsaWtlcyIsInNvbWUiLCJsaWtlIiwidXNlciIsInRvU3RyaW5nIiwiZXJyIiwibWVzc2FnZSIsInN0YXR1cyIsImZpbHRlciIsInNhdmUiLCJkYXRhIl0sIm1hcHBpbmdzIjoiKy9EQWVZOzJGQWZaLEtBQU1BLENBQUFBLElBQUksMEJBQUdDLE9BQU8sQ0FBQyx1QkFBRCxDQUFWLENBQVYsQyx3QkFFQUMsTUFBTSxDQUFDQyxPQUFQLENBQWlCLE1BQU9DLEVBQVAsQ0FBV0MsTUFBWCxHQUFzQixpREFDbkMsR0FBSSxDQUNBLEtBQU1DLENBQUFBLElBQUksMEJBQUcsS0FBTU4sQ0FBQUEsSUFBSSxDQUFDTyxRQUFMLENBQWNILEVBQWQsQ0FBVCxDQUFWLENBREEsd0JBR0EsR0FBSSxDQUFDRSxJQUFJLENBQUNFLEtBQUwsQ0FBV0MsSUFBWCxDQUFpQkMsSUFBRCxFQUFVLHVEQUFBQSxDQUFBQSxJQUFJLENBQUNDLElBQUwsQ0FBVUMsUUFBVixLQUF5QlAsTUFBekIsQ0FBK0IsQ0FBekQsQ0FBTCxDQUFpRSxvREFDN0QsTUFBTyxDQUNIUSxHQUFHLENBQUUsQ0FBRUMsT0FBTyxDQUFFLDZCQUFYLENBREYsQ0FFSEMsTUFBTSxDQUFFLE9BRkwsQ0FBUCxDQUlELENBTEgsaUNBSEEsd0JBVUVULElBQUksQ0FBQ0UsS0FBTCxDQUFhRixJQUFJLENBQUNFLEtBQUwsQ0FBV1EsTUFBWCxDQUNYLENBQUMsQ0FBRUwsSUFBRixDQUFELEdBQWMsdURBQUFBLENBQUFBLElBQUksQ0FBQ0MsUUFBTCxLQUFvQlAsTUFBcEIsQ0FBMEIsQ0FEN0IsQ0FBYixDQVZGLHdCQWNBLEtBQU1DLENBQUFBLElBQUksQ0FBQ1csSUFBTCxFQUFOLENBZEEseUJBZ0JBLE1BQU8sQ0FBQ0MsSUFBSSxDQUFFWixJQUFJLENBQUNFLEtBQVosQ0FBbUJPLE1BQU0sQ0FBRSxTQUEzQixDQUFQLENBQ0gsQ0FBQyxNQUFPRixHQUFQLENBQVksMEJBQ1YsTUFBTyxDQUFFQSxHQUFGLENBQU9FLE1BQU0sQ0FBRSxPQUFmLENBQVAsQ0FDSCxDQUNKLENBckJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTmV3cyA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9OZXdzRmVlZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIChpZCwgdXNlcklkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IE5ld3MuZmluZEJ5SWQoaWQpO1xuXG4gICAgICAgIGlmICghcG9zdC5saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLnVzZXIudG9TdHJpbmcoKSA9PT0gdXNlcklkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBlcnI6IHsgbWVzc2FnZTogJ3Bvc3QgaGFzIG5vdCB5ZXQgYmVlbiBsaWtlZCcgfSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcidcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwb3N0Lmxpa2VzID0gcG9zdC5saWtlcy5maWx0ZXIoXG4gICAgICAgICAgICAoeyB1c2VyIH0pID0+IHVzZXIudG9TdHJpbmcoKSAhPT0gdXNlcklkXG4gICAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCBwb3N0LnNhdmUoKTtcblxuICAgICAgICByZXR1cm4ge2RhdGE6IHBvc3QubGlrZXMsIHN0YXR1czogJ3N1Y2Nlc3MnIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB7IGVyciwgc3RhdHVzOiAnZXJyb3InIH07XG4gICAgfVxufVxuXG4iXX0=