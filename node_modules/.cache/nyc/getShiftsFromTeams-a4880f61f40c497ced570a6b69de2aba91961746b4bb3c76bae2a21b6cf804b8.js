function cov_2hbn7zod6j(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/shift/getShiftsFromTeams.js";var hash="e0022b91f8dc640bc7a7c7c725ab417204a859d7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/shift/getShiftsFromTeams.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:17},end:{line:2,column:37}},"2":{start:{line:4,column:0},end:{line:27,column:4}},"3":{start:{line:5,column:4},end:{line:26,column:5}},"4":{start:{line:6,column:21},end:{line:22,column:8}},"5":{start:{line:8,column:8},end:{line:20,column:10}},"6":{start:{line:15,column:10},end:{line:19,column:11}},"7":{start:{line:16,column:12},end:{line:16,column:41}},"8":{start:{line:18,column:12},end:{line:18,column:42}},"9":{start:{line:23,column:6},end:{line:23,column:49}},"10":{start:{line:25,column:6},end:{line:25,column:38}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:52},end:{line:27,column:3}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:39},end:{line:6,column:40}},loc:{start:{line:6,column:60},end:{line:22,column:7}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:14,column:11},end:{line:14,column:12}},loc:{start:{line:14,column:31},end:{line:20,column:9}},line:14}},branchMap:{"0":{loc:{start:{line:15,column:10},end:{line:19,column:11}},type:"if",locations:[{start:{line:15,column:10},end:{line:19,column:11}},{start:{line:15,column:10},end:{line:19,column:11}}],line:15}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e0022b91f8dc640bc7a7c7c725ab417204a859d7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2hbn7zod6j=function(){return actualCoverage;};}return actualCoverage;}cov_2hbn7zod6j();const request=(cov_2hbn7zod6j().s[0]++,require('request'));const GRAPHURL=(cov_2hbn7zod6j().s[1]++,process.env.GRAPHURL);cov_2hbn7zod6j().s[2]++;module.exports=async(token,startDate,endDate)=>{cov_2hbn7zod6j().f[0]++;cov_2hbn7zod6j().s[3]++;try{const shifts=(cov_2hbn7zod6j().s[4]++,await new Promise((resolve,reject)=>{cov_2hbn7zod6j().f[1]++;cov_2hbn7zod6j().s[5]++;request({url:GRAPHURL+startDate+' and sharedShift/endDateTime le '+endDate+'&$top=2000',headers:{'Authorization':'Bearer'+' '+token.access_token},rejectUnauthorized:false},function(err,res){cov_2hbn7zod6j().f[2]++;cov_2hbn7zod6j().s[6]++;if(res.statusCode!=200){cov_2hbn7zod6j().b[0][0]++;cov_2hbn7zod6j().s[7]++;reject(JSON.parse(res.body));}else{cov_2hbn7zod6j().b[0][1]++;cov_2hbn7zod6j().s[8]++;resolve(JSON.parse(res.body));}});}));cov_2hbn7zod6j().s[9]++;return{data:shifts,status:"success"};}catch(err){cov_2hbn7zod6j().s[10]++;return{err,status:"error"};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFNoaWZ0c0Zyb21UZWFtcy5qcyJdLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsIkdSQVBIVVJMIiwicHJvY2VzcyIsImVudiIsIm1vZHVsZSIsImV4cG9ydHMiLCJ0b2tlbiIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJzaGlmdHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInVybCIsImhlYWRlcnMiLCJhY2Nlc3NfdG9rZW4iLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJlcnIiLCJyZXMiLCJzdGF0dXNDb2RlIiwiSlNPTiIsInBhcnNlIiwiYm9keSIsImRhdGEiLCJzdGF0dXMiXSwibWFwcGluZ3MiOiJ5N0RBZVk7MkZBZlosS0FBTUEsQ0FBQUEsT0FBTywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFFBQWYsQ0FBZCxDLHdCQUVBRyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsTUFBT0MsS0FBUCxDQUFhQyxTQUFiLENBQXVCQyxPQUF2QixHQUFtQyxpREFDaEQsR0FBSSxDQUNGLEtBQU1DLENBQUFBLE1BQU0sMEJBQUcsS0FBTSxJQUFJQyxDQUFBQSxPQUFKLENBQVksQ0FBQ0MsT0FBRCxDQUFVQyxNQUFWLEdBQXFCLGlEQUVwRGIsT0FBTyxDQUFDLENBQ05jLEdBQUcsQ0FBRVosUUFBUSxDQUFHTSxTQUFYLENBQXVCLGtDQUF2QixDQUE0REMsT0FBNUQsQ0FBc0UsWUFEckUsQ0FFTk0sT0FBTyxDQUFFLENBQ1AsZ0JBQWlCLFNBQVcsR0FBWCxDQUFpQlIsS0FBSyxDQUFDUyxZQURqQyxDQUZILENBS05DLGtCQUFrQixDQUFFLEtBTGQsQ0FBRCxDQU1KLFNBQVVDLEdBQVYsQ0FBZUMsR0FBZixDQUFvQixpREFDckIsR0FBSUEsR0FBRyxDQUFDQyxVQUFKLEVBQWtCLEdBQXRCLENBQTJCLG9EQUN6QlAsTUFBTSxDQUFDUSxJQUFJLENBQUNDLEtBQUwsQ0FBV0gsR0FBRyxDQUFDSSxJQUFmLENBQUQsQ0FBTixDQUNELENBRkQsSUFFTyxvREFDTFgsT0FBTyxDQUFDUyxJQUFJLENBQUNDLEtBQUwsQ0FBV0gsR0FBRyxDQUFDSSxJQUFmLENBQUQsQ0FBUCxDQUNELENBQ0YsQ0FaTSxDQUFQLENBY0QsQ0FoQm9CLENBQVQsQ0FBWixDQURFLHdCQWtCRixNQUFPLENBQUVDLElBQUksQ0FBRWQsTUFBUixDQUFnQmUsTUFBTSxDQUFFLFNBQXhCLENBQVAsQ0FDRCxDQUFDLE1BQU9QLEdBQVAsQ0FBWSwwQkFDWixNQUFPLENBQUVBLEdBQUYsQ0FBT08sTUFBTSxDQUFFLE9BQWYsQ0FBUCxDQUNELENBQ0YsQ0F2QkgiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgncmVxdWVzdCcpO1xuY29uc3QgR1JBUEhVUkwgPSBwcm9jZXNzLmVudi5HUkFQSFVSTDtcblxubW9kdWxlLmV4cG9ydHMgPSBhc3luYyAodG9rZW4sc3RhcnREYXRlLGVuZERhdGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2hpZnRzID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIHJlcXVlc3Qoe1xuICAgICAgICAgIHVybDogR1JBUEhVUkwgKyBzdGFydERhdGUgKyAnIGFuZCBzaGFyZWRTaGlmdC9lbmREYXRlVGltZSBsZSAnICsgZW5kRGF0ZSArICcmJHRvcD0yMDAwJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXInICsgJyAnICsgdG9rZW4uYWNjZXNzX3Rva2VuXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSAhPSAyMDApIHtcbiAgICAgICAgICAgIHJlamVjdChKU09OLnBhcnNlKHJlcy5ib2R5KSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShyZXMuYm9keSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHsgZGF0YTogc2hpZnRzLCBzdGF0dXM6IFwic3VjY2Vzc1wiIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyBlcnIsIHN0YXR1czogXCJlcnJvclwiIH07XG4gICAgfVxuICB9O1xuICAiXX0=