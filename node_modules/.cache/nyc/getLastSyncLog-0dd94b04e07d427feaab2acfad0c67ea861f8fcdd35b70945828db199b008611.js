function cov_207ml2e7zh(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/syncShiftLog/getLastSyncLog.js";var hash="e6d5039f041fe7f3083bccdafe7b543057a4566e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/syncShiftLog/getLastSyncLog.js",statementMap:{"0":{start:{line:1,column:21},end:{line:1,column:57}},"1":{start:{line:3,column:0},end:{line:21,column:2}},"2":{start:{line:4,column:2},end:{line:20,column:3}},"3":{start:{line:5,column:17},end:{line:5,column:118}},"4":{start:{line:6,column:4},end:{line:6,column:10}},"5":{start:{line:7,column:4},end:{line:7,column:17}},"6":{start:{line:8,column:4},end:{line:15,column:5}},"7":{start:{line:8,column:17},end:{line:8,column:18}},"8":{start:{line:9,column:6},end:{line:14,column:7}},"9":{start:{line:10,column:8},end:{line:13,column:9}},"10":{start:{line:11,column:10},end:{line:11,column:57}},"11":{start:{line:12,column:10},end:{line:12,column:28}},"12":{start:{line:17,column:4},end:{line:17,column:48}},"13":{start:{line:19,column:4},end:{line:19,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:43},end:{line:21,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:9,column:6},end:{line:14,column:7}},type:"if",locations:[{start:{line:9,column:6},end:{line:14,column:7}},{start:{line:9,column:6},end:{line:14,column:7}}],line:9},"1":{loc:{start:{line:10,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:13,column:9}},{start:{line:10,column:8},end:{line:13,column:9}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e6d5039f041fe7f3083bccdafe7b543057a4566e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_207ml2e7zh=function(){return actualCoverage;};}return actualCoverage;}cov_207ml2e7zh();const shiftSyncLog=(cov_207ml2e7zh().s[0]++,require("../../models/shiftSyncLog"));cov_207ml2e7zh().s[1]++;module.exports=async function(req,res){cov_207ml2e7zh().f[0]++;cov_207ml2e7zh().s[2]++;try{const logs=(cov_207ml2e7zh().s[3]++,await shiftSyncLog.find().populate({path:"user",select:['firstName','lastName']}).lean().exec());cov_207ml2e7zh().s[4]++;d=0;cov_207ml2e7zh().s[5]++;lastlog={};cov_207ml2e7zh().s[6]++;for(let i=(cov_207ml2e7zh().s[7]++,0);i<logs.length;i++){cov_207ml2e7zh().s[8]++;if(logs[i].shiftsSyncDate){cov_207ml2e7zh().b[0][0]++;cov_207ml2e7zh().s[9]++;if(new Date(logs[i].shiftsSyncDate).getTime()>d){cov_207ml2e7zh().b[1][0]++;cov_207ml2e7zh().s[10]++;d=new Date(logs[i].shiftsSyncDate).getTime();cov_207ml2e7zh().s[11]++;lastlog=logs[i];}else{cov_207ml2e7zh().b[1][1]++;}}else{cov_207ml2e7zh().b[0][1]++;}}cov_207ml2e7zh().s[12]++;return{data:lastlog,status:"success"};}catch(err){cov_207ml2e7zh().s[13]++;return{err,status:"error"};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldExhc3RTeW5jTG9nLmpzIl0sIm5hbWVzIjpbInNoaWZ0U3luY0xvZyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxIiwicmVzIiwibG9ncyIsImZpbmQiLCJwb3B1bGF0ZSIsInBhdGgiLCJzZWxlY3QiLCJsZWFuIiwiZXhlYyIsImQiLCJsYXN0bG9nIiwiaSIsImxlbmd0aCIsInNoaWZ0c1N5bmNEYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJkYXRhIiwic3RhdHVzIiwiZXJyIl0sIm1hcHBpbmdzIjoib2dFQWVZOzJGQWZaLEtBQU1BLENBQUFBLFlBQVksMEJBQUdDLE9BQU8sQ0FBQywyQkFBRCxDQUFWLENBQWxCLEMsd0JBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixlQUFnQkMsR0FBaEIsQ0FBcUJDLEdBQXJCLENBQTBCLGlEQUN6QyxHQUFJLENBQ0YsS0FBTUMsQ0FBQUEsSUFBSSwwQkFBRyxLQUFNTixDQUFBQSxZQUFZLENBQUNPLElBQWIsR0FBb0JDLFFBQXBCLENBQTZCLENBQUVDLElBQUksQ0FBRSxNQUFSLENBQWdCQyxNQUFNLENBQUUsQ0FBQyxXQUFELENBQWMsVUFBZCxDQUF4QixDQUE3QixFQUFrRkMsSUFBbEYsR0FBeUZDLElBQXpGLEVBQVQsQ0FBVixDQURFLHdCQUVGQyxDQUFDLENBQUcsQ0FBSixDQUZFLHdCQUdGQyxPQUFPLENBQUcsRUFBVixDQUhFLHdCQUlGLElBQUssR0FBSUMsQ0FBQUEsQ0FBQywwQkFBRyxDQUFILENBQVYsQ0FBZ0JBLENBQUMsQ0FBR1QsSUFBSSxDQUFDVSxNQUF6QixDQUFpQ0QsQ0FBQyxFQUFsQyxDQUFzQyx5QkFDcEMsR0FBSVQsSUFBSSxDQUFDUyxDQUFELENBQUosQ0FBUUUsY0FBWixDQUE0QixvREFDMUIsR0FBSSxHQUFJQyxDQUFBQSxJQUFKLENBQVNaLElBQUksQ0FBQ1MsQ0FBRCxDQUFKLENBQVFFLGNBQWpCLEVBQWlDRSxPQUFqQyxHQUE2Q04sQ0FBakQsQ0FBb0QscURBQ2xEQSxDQUFDLENBQUcsR0FBSUssQ0FBQUEsSUFBSixDQUFTWixJQUFJLENBQUNTLENBQUQsQ0FBSixDQUFRRSxjQUFqQixFQUFpQ0UsT0FBakMsRUFBSixDQURrRCx5QkFFbERMLE9BQU8sQ0FBR1IsSUFBSSxDQUFDUyxDQUFELENBQWQsQ0FDRCxDQUhELGlDQUlELENBTEQsaUNBTUQsQ0FYQyx5QkFhRixNQUFPLENBQUVLLElBQUksQ0FBRU4sT0FBUixDQUFpQk8sTUFBTSxDQUFFLFNBQXpCLENBQVAsQ0FDRCxDQUFDLE1BQU9DLEdBQVAsQ0FBWSwwQkFDWixNQUFPLENBQUVBLEdBQUYsQ0FBT0QsTUFBTSxDQUFFLE9BQWYsQ0FBUCxDQUNELENBQ0YsQ0FsQkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzaGlmdFN5bmNMb2cgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzL3NoaWZ0U3luY0xvZ1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBsb2dzID0gYXdhaXQgc2hpZnRTeW5jTG9nLmZpbmQoKS5wb3B1bGF0ZSh7IHBhdGg6IFwidXNlclwiLCBzZWxlY3Q6IFsnZmlyc3ROYW1lJywgJ2xhc3ROYW1lJ10gfSkubGVhbigpLmV4ZWMoKTtcbiAgICBkID0gMDtcbiAgICBsYXN0bG9nID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobG9nc1tpXS5zaGlmdHNTeW5jRGF0ZSkge1xuICAgICAgICBpZiAobmV3IERhdGUobG9nc1tpXS5zaGlmdHNTeW5jRGF0ZSkuZ2V0VGltZSgpID4gZCkge1xuICAgICAgICAgIGQgPSBuZXcgRGF0ZShsb2dzW2ldLnNoaWZ0c1N5bmNEYXRlKS5nZXRUaW1lKCk7XG4gICAgICAgICAgbGFzdGxvZyA9IGxvZ3NbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBkYXRhOiBsYXN0bG9nLCBzdGF0dXM6IFwic3VjY2Vzc1wiIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB7IGVyciwgc3RhdHVzOiBcImVycm9yXCIgfTtcbiAgfVxufTtcbiJdfQ==