function cov_1wn722vxd8(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/controllers/sla.controller.js";var hash="6b63365ddd644209b46cf96e491d1ffc503116b1";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/controllers/sla.controller.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:19},end:{line:2,column:45}},"2":{start:{line:4,column:15},end:{line:4,column:42}},"3":{start:{line:7,column:0},end:{line:27,column:2}},"4":{start:{line:8,column:17},end:{line:8,column:57}},"5":{start:{line:9,column:2},end:{line:17,column:3}},"6":{start:{line:10,column:4},end:{line:15,column:6}},"7":{start:{line:16,column:4},end:{line:16,column:55}},"8":{start:{line:18,column:2},end:{line:26,column:3}},"9":{start:{line:19,column:4},end:{line:24,column:6}},"10":{start:{line:25,column:4},end:{line:25,column:65}},"11":{start:{line:30,column:0},end:{line:49,column:2}},"12":{start:{line:32,column:23},end:{line:32,column:36}},"13":{start:{line:33,column:13},end:{line:33,column:27}},"14":{start:{line:34,column:13},end:{line:34,column:27}},"15":{start:{line:35,column:20},end:{line:35,column:41}},"16":{start:{line:37,column:17},end:{line:42,column:3}},"17":{start:{line:43,column:2},end:{line:44,column:55}},"18":{start:{line:44,column:4},end:{line:44,column:55}},"19":{start:{line:45,column:2},end:{line:48,column:45}},"20":{start:{line:46,column:4},end:{line:48,column:45}},"21":{start:{line:52,column:0},end:{line:74,column:2}},"22":{start:{line:53,column:17},end:{line:53,column:66}},"23":{start:{line:54,column:2},end:{line:62,column:3}},"24":{start:{line:55,column:4},end:{line:60,column:6}},"25":{start:{line:61,column:4},end:{line:61,column:55}},"26":{start:{line:63,column:2},end:{line:73,column:3}},"27":{start:{line:64,column:4},end:{line:69,column:6}},"28":{start:{line:70,column:4},end:{line:72,column:45}},"29":{start:{line:76,column:0},end:{line:102,column:2}},"30":{start:{line:81,column:17},end:{line:81,column:75}},"31":{start:{line:82,column:2},end:{line:90,column:3}},"32":{start:{line:83,column:4},end:{line:88,column:6}},"33":{start:{line:89,column:4},end:{line:89,column:55}},"34":{start:{line:91,column:2},end:{line:101,column:3}},"35":{start:{line:92,column:4},end:{line:97,column:6}},"36":{start:{line:98,column:4},end:{line:100,column:45}},"37":{start:{line:106,column:0},end:{line:128,column:2}},"38":{start:{line:107,column:17},end:{line:107,column:65}},"39":{start:{line:108,column:2},end:{line:116,column:3}},"40":{start:{line:109,column:4},end:{line:114,column:6}},"41":{start:{line:115,column:4},end:{line:115,column:55}},"42":{start:{line:117,column:2},end:{line:127,column:3}},"43":{start:{line:118,column:4},end:{line:123,column:6}},"44":{start:{line:124,column:4},end:{line:126,column:45}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:17},end:{line:7,column:18}},loc:{start:{line:7,column:43},end:{line:27,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:30},end:{line:30,column:31}},loc:{start:{line:30,column:56},end:{line:49,column:1}},line:30},"2":{name:"(anonymous_2)",decl:{start:{line:52,column:21},end:{line:52,column:22}},loc:{start:{line:52,column:47},end:{line:74,column:1}},line:52},"3":{name:"(anonymous_3)",decl:{start:{line:76,column:20},end:{line:76,column:21}},loc:{start:{line:76,column:46},end:{line:102,column:1}},line:76},"4":{name:"(anonymous_4)",decl:{start:{line:106,column:20},end:{line:106,column:21}},loc:{start:{line:106,column:46},end:{line:128,column:1}},line:106}},branchMap:{"0":{loc:{start:{line:9,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:17,column:3}},{start:{line:9,column:2},end:{line:17,column:3}}],line:9},"1":{loc:{start:{line:12,column:6},end:{line:12,column:58}},type:"cond-expr",locations:[{start:{line:12,column:18},end:{line:12,column:46}},{start:{line:12,column:49},end:{line:12,column:58}}],line:12},"2":{loc:{start:{line:13,column:6},end:{line:13,column:41}},type:"cond-expr",locations:[{start:{line:13,column:19},end:{line:13,column:29}},{start:{line:13,column:32},end:{line:13,column:41}}],line:13},"3":{loc:{start:{line:14,column:6},end:{line:14,column:33}},type:"cond-expr",locations:[{start:{line:14,column:15},end:{line:14,column:21}},{start:{line:14,column:24},end:{line:14,column:33}}],line:14},"4":{loc:{start:{line:18,column:2},end:{line:26,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:26,column:3}},{start:{line:18,column:2},end:{line:26,column:3}}],line:18},"5":{loc:{start:{line:21,column:6},end:{line:21,column:58}},type:"cond-expr",locations:[{start:{line:21,column:18},end:{line:21,column:46}},{start:{line:21,column:49},end:{line:21,column:58}}],line:21},"6":{loc:{start:{line:22,column:6},end:{line:22,column:41}},type:"cond-expr",locations:[{start:{line:22,column:19},end:{line:22,column:29}},{start:{line:22,column:32},end:{line:22,column:41}}],line:22},"7":{loc:{start:{line:23,column:6},end:{line:23,column:33}},type:"cond-expr",locations:[{start:{line:23,column:15},end:{line:23,column:21}},{start:{line:23,column:24},end:{line:23,column:33}}],line:23},"8":{loc:{start:{line:43,column:2},end:{line:44,column:55}},type:"if",locations:[{start:{line:43,column:2},end:{line:44,column:55}},{start:{line:43,column:2},end:{line:44,column:55}}],line:43},"9":{loc:{start:{line:45,column:2},end:{line:48,column:45}},type:"if",locations:[{start:{line:45,column:2},end:{line:48,column:45}},{start:{line:45,column:2},end:{line:48,column:45}}],line:45},"10":{loc:{start:{line:47,column:14},end:{line:47,column:57}},type:"cond-expr",locations:[{start:{line:47,column:34},end:{line:47,column:51}},{start:{line:47,column:54},end:{line:47,column:57}}],line:47},"11":{loc:{start:{line:54,column:2},end:{line:62,column:3}},type:"if",locations:[{start:{line:54,column:2},end:{line:62,column:3}},{start:{line:54,column:2},end:{line:62,column:3}}],line:54},"12":{loc:{start:{line:57,column:6},end:{line:57,column:58}},type:"cond-expr",locations:[{start:{line:57,column:18},end:{line:57,column:46}},{start:{line:57,column:49},end:{line:57,column:58}}],line:57},"13":{loc:{start:{line:58,column:6},end:{line:58,column:41}},type:"cond-expr",locations:[{start:{line:58,column:19},end:{line:58,column:29}},{start:{line:58,column:32},end:{line:58,column:41}}],line:58},"14":{loc:{start:{line:59,column:6},end:{line:59,column:33}},type:"cond-expr",locations:[{start:{line:59,column:15},end:{line:59,column:21}},{start:{line:59,column:24},end:{line:59,column:33}}],line:59},"15":{loc:{start:{line:63,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:63,column:2},end:{line:73,column:3}},{start:{line:63,column:2},end:{line:73,column:3}}],line:63},"16":{loc:{start:{line:66,column:6},end:{line:66,column:58}},type:"cond-expr",locations:[{start:{line:66,column:18},end:{line:66,column:46}},{start:{line:66,column:49},end:{line:66,column:58}}],line:66},"17":{loc:{start:{line:67,column:6},end:{line:67,column:41}},type:"cond-expr",locations:[{start:{line:67,column:19},end:{line:67,column:29}},{start:{line:67,column:32},end:{line:67,column:41}}],line:67},"18":{loc:{start:{line:68,column:6},end:{line:68,column:33}},type:"cond-expr",locations:[{start:{line:68,column:15},end:{line:68,column:21}},{start:{line:68,column:24},end:{line:68,column:33}}],line:68},"19":{loc:{start:{line:71,column:14},end:{line:71,column:57}},type:"cond-expr",locations:[{start:{line:71,column:34},end:{line:71,column:51}},{start:{line:71,column:54},end:{line:71,column:57}}],line:71},"20":{loc:{start:{line:82,column:2},end:{line:90,column:3}},type:"if",locations:[{start:{line:82,column:2},end:{line:90,column:3}},{start:{line:82,column:2},end:{line:90,column:3}}],line:82},"21":{loc:{start:{line:85,column:6},end:{line:85,column:58}},type:"cond-expr",locations:[{start:{line:85,column:18},end:{line:85,column:46}},{start:{line:85,column:49},end:{line:85,column:58}}],line:85},"22":{loc:{start:{line:86,column:6},end:{line:86,column:41}},type:"cond-expr",locations:[{start:{line:86,column:19},end:{line:86,column:29}},{start:{line:86,column:32},end:{line:86,column:41}}],line:86},"23":{loc:{start:{line:87,column:6},end:{line:87,column:33}},type:"cond-expr",locations:[{start:{line:87,column:15},end:{line:87,column:21}},{start:{line:87,column:24},end:{line:87,column:33}}],line:87},"24":{loc:{start:{line:91,column:2},end:{line:101,column:3}},type:"if",locations:[{start:{line:91,column:2},end:{line:101,column:3}},{start:{line:91,column:2},end:{line:101,column:3}}],line:91},"25":{loc:{start:{line:94,column:6},end:{line:94,column:58}},type:"cond-expr",locations:[{start:{line:94,column:18},end:{line:94,column:46}},{start:{line:94,column:49},end:{line:94,column:58}}],line:94},"26":{loc:{start:{line:95,column:6},end:{line:95,column:41}},type:"cond-expr",locations:[{start:{line:95,column:19},end:{line:95,column:29}},{start:{line:95,column:32},end:{line:95,column:41}}],line:95},"27":{loc:{start:{line:96,column:6},end:{line:96,column:33}},type:"cond-expr",locations:[{start:{line:96,column:15},end:{line:96,column:21}},{start:{line:96,column:24},end:{line:96,column:33}}],line:96},"28":{loc:{start:{line:99,column:14},end:{line:99,column:57}},type:"cond-expr",locations:[{start:{line:99,column:34},end:{line:99,column:51}},{start:{line:99,column:54},end:{line:99,column:57}}],line:99},"29":{loc:{start:{line:108,column:2},end:{line:116,column:3}},type:"if",locations:[{start:{line:108,column:2},end:{line:116,column:3}},{start:{line:108,column:2},end:{line:116,column:3}}],line:108},"30":{loc:{start:{line:111,column:6},end:{line:111,column:58}},type:"cond-expr",locations:[{start:{line:111,column:18},end:{line:111,column:46}},{start:{line:111,column:49},end:{line:111,column:58}}],line:111},"31":{loc:{start:{line:112,column:6},end:{line:112,column:41}},type:"cond-expr",locations:[{start:{line:112,column:19},end:{line:112,column:29}},{start:{line:112,column:32},end:{line:112,column:41}}],line:112},"32":{loc:{start:{line:113,column:6},end:{line:113,column:33}},type:"cond-expr",locations:[{start:{line:113,column:15},end:{line:113,column:21}},{start:{line:113,column:24},end:{line:113,column:33}}],line:113},"33":{loc:{start:{line:117,column:2},end:{line:127,column:3}},type:"if",locations:[{start:{line:117,column:2},end:{line:127,column:3}},{start:{line:117,column:2},end:{line:127,column:3}}],line:117},"34":{loc:{start:{line:120,column:6},end:{line:120,column:58}},type:"cond-expr",locations:[{start:{line:120,column:18},end:{line:120,column:46}},{start:{line:120,column:49},end:{line:120,column:58}}],line:120},"35":{loc:{start:{line:121,column:6},end:{line:121,column:41}},type:"cond-expr",locations:[{start:{line:121,column:19},end:{line:121,column:29}},{start:{line:121,column:32},end:{line:121,column:41}}],line:121},"36":{loc:{start:{line:122,column:6},end:{line:122,column:33}},type:"cond-expr",locations:[{start:{line:122,column:15},end:{line:122,column:21}},{start:{line:122,column:24},end:{line:122,column:33}}],line:122},"37":{loc:{start:{line:125,column:14},end:{line:125,column:57}},type:"cond-expr",locations:[{start:{line:125,column:34},end:{line:125,column:51}},{start:{line:125,column:54},end:{line:125,column:57}}],line:125}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6b63365ddd644209b46cf96e491d1ffc503116b1"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1wn722vxd8=function(){return actualCoverage;};}return actualCoverage;}cov_1wn722vxd8();const mongoose=(cov_1wn722vxd8().s[0]++,require("mongoose"));const slaService=(cov_1wn722vxd8().s[1]++,require("../services/sla"));const logger=(cov_1wn722vxd8().s[2]++,require("../config/logger"));//Add Sla
cov_1wn722vxd8().s[3]++;exports.addSla=async function(req,res){cov_1wn722vxd8().f[0]++;const result=(cov_1wn722vxd8().s[4]++,await slaService.addSlaService(req.body));cov_1wn722vxd8().s[5]++;if(result.status=="success"){cov_1wn722vxd8().b[0][0]++;cov_1wn722vxd8().s[6]++;logger.info("add Sla success",req.route?(cov_1wn722vxd8().b[1][0]++,req.baseUrl+req.route.path):(cov_1wn722vxd8().b[1][1]++,"testing"),req.method?(cov_1wn722vxd8().b[2][0]++,req.method):(cov_1wn722vxd8().b[2][1]++,"testing"),req.ip?(cov_1wn722vxd8().b[3][0]++,req.ip):(cov_1wn722vxd8().b[3][1]++,"testing"));cov_1wn722vxd8().s[7]++;return res.status(201).json({data:result.data});}else{cov_1wn722vxd8().b[0][1]++;}cov_1wn722vxd8().s[8]++;if(result.status=="error"){cov_1wn722vxd8().b[4][0]++;cov_1wn722vxd8().s[9]++;logger.error("add Sla :"+result.err.message,req.route?(cov_1wn722vxd8().b[5][0]++,req.baseUrl+req.route.path):(cov_1wn722vxd8().b[5][1]++,"testing"),req.method?(cov_1wn722vxd8().b[6][0]++,req.method):(cov_1wn722vxd8().b[6][1]++,"testing"),req.ip?(cov_1wn722vxd8().b[7][0]++,req.ip):(cov_1wn722vxd8().b[7][1]++,"testing"));cov_1wn722vxd8().s[10]++;return res.status(400).json({message:result.err.message});}else{cov_1wn722vxd8().b[4][1]++;}};//Get sla by slaContract_Id
cov_1wn722vxd8().s[11]++;exports.getSlaBySlaContract=async function(req,res){cov_1wn722vxd8().f[1]++;let slaContract_Id=(cov_1wn722vxd8().s[12]++,req.params.id);let page=(cov_1wn722vxd8().s[13]++,req.query.page);let size=(cov_1wn722vxd8().s[14]++,req.query.size);let searchValue=(cov_1wn722vxd8().s[15]++,req.query.searchValue);const result=(cov_1wn722vxd8().s[16]++,await slaService.getSlaBySlaContractIdService(slaContract_Id,page,size,searchValue));cov_1wn722vxd8().s[17]++;if(result.status=="success"){cov_1wn722vxd8().b[8][0]++;cov_1wn722vxd8().s[18]++;return res.status(200).json({data:result.data});}else{cov_1wn722vxd8().b[8][1]++;}cov_1wn722vxd8().s[19]++;if(result.status=="error"){cov_1wn722vxd8().b[9][0]++;cov_1wn722vxd8().s[20]++;return res.status(result.statusCode?(cov_1wn722vxd8().b[10][0]++,result.statusCode):(cov_1wn722vxd8().b[10][1]++,400)).json({message:result.err.message});}else{cov_1wn722vxd8().b[9][1]++;}};//Get Sla by Id
cov_1wn722vxd8().s[21]++;exports.getSlaById=async function(req,res){cov_1wn722vxd8().f[2]++;const result=(cov_1wn722vxd8().s[22]++,await slaService.getSlaByIdService(req.params.id));cov_1wn722vxd8().s[23]++;if(result.status=="success"){cov_1wn722vxd8().b[11][0]++;cov_1wn722vxd8().s[24]++;logger.info("get sla By Id success",req.route?(cov_1wn722vxd8().b[12][0]++,req.baseUrl+req.route.path):(cov_1wn722vxd8().b[12][1]++,"testing"),req.method?(cov_1wn722vxd8().b[13][0]++,req.method):(cov_1wn722vxd8().b[13][1]++,"testing"),req.ip?(cov_1wn722vxd8().b[14][0]++,req.ip):(cov_1wn722vxd8().b[14][1]++,"testing"));cov_1wn722vxd8().s[25]++;return res.status(200).json({data:result.data});}else{cov_1wn722vxd8().b[11][1]++;}cov_1wn722vxd8().s[26]++;if(result.status=="error"){cov_1wn722vxd8().b[15][0]++;cov_1wn722vxd8().s[27]++;logger.error("get sla By Id :"+result.err.message,req.route?(cov_1wn722vxd8().b[16][0]++,req.baseUrl+req.route.path):(cov_1wn722vxd8().b[16][1]++,"testing"),req.method?(cov_1wn722vxd8().b[17][0]++,req.method):(cov_1wn722vxd8().b[17][1]++,"testing"),req.ip?(cov_1wn722vxd8().b[18][0]++,req.ip):(cov_1wn722vxd8().b[18][1]++,"testing"));cov_1wn722vxd8().s[28]++;return res.status(result.statusCode?(cov_1wn722vxd8().b[19][0]++,result.statusCode):(cov_1wn722vxd8().b[19][1]++,400)).json({message:result.err.message});}else{cov_1wn722vxd8().b[15][1]++;}};cov_1wn722vxd8().s[29]++;exports.updateSla=async function(req,res){cov_1wn722vxd8().f[3]++;// if (!req.params.id) {
//   return res.status(404).json({ message: "missing ID" });
// }
const result=(cov_1wn722vxd8().s[30]++,await slaService.updateSlaService(req.params.id,req.body));cov_1wn722vxd8().s[31]++;if(result.status=="success"){cov_1wn722vxd8().b[20][0]++;cov_1wn722vxd8().s[32]++;logger.info("update sla By SlaContract success",req.route?(cov_1wn722vxd8().b[21][0]++,req.baseUrl+req.route.path):(cov_1wn722vxd8().b[21][1]++,"testing"),req.method?(cov_1wn722vxd8().b[22][0]++,req.method):(cov_1wn722vxd8().b[22][1]++,"testing"),req.ip?(cov_1wn722vxd8().b[23][0]++,req.ip):(cov_1wn722vxd8().b[23][1]++,"testing"));cov_1wn722vxd8().s[33]++;return res.status(201).json({data:result.data});}else{cov_1wn722vxd8().b[20][1]++;}cov_1wn722vxd8().s[34]++;if(result.status=="error"){cov_1wn722vxd8().b[24][0]++;cov_1wn722vxd8().s[35]++;logger.error("update sla By SlaContract :"+result.err.message,req.route?(cov_1wn722vxd8().b[25][0]++,req.baseUrl+req.route.path):(cov_1wn722vxd8().b[25][1]++,"testing"),req.method?(cov_1wn722vxd8().b[26][0]++,req.method):(cov_1wn722vxd8().b[26][1]++,"testing"),req.ip?(cov_1wn722vxd8().b[27][0]++,req.ip):(cov_1wn722vxd8().b[27][1]++,"testing"));cov_1wn722vxd8().s[36]++;return res.status(result.statusCode?(cov_1wn722vxd8().b[28][0]++,result.statusCode):(cov_1wn722vxd8().b[28][1]++,400)).json({message:result.err.message});}else{cov_1wn722vxd8().b[24][1]++;}};//Delete Sla
cov_1wn722vxd8().s[37]++;exports.deleteSla=async function(req,res){cov_1wn722vxd8().f[4]++;const result=(cov_1wn722vxd8().s[38]++,await slaService.deleteSlaService(req.params.id));cov_1wn722vxd8().s[39]++;if(result.status=="success"){cov_1wn722vxd8().b[29][0]++;cov_1wn722vxd8().s[40]++;logger.info("delete sla success",req.route?(cov_1wn722vxd8().b[30][0]++,req.baseUrl+req.route.path):(cov_1wn722vxd8().b[30][1]++,"testing"),req.method?(cov_1wn722vxd8().b[31][0]++,req.method):(cov_1wn722vxd8().b[31][1]++,"testing"),req.ip?(cov_1wn722vxd8().b[32][0]++,req.ip):(cov_1wn722vxd8().b[32][1]++,"testing"));cov_1wn722vxd8().s[41]++;return res.status(200).json({data:result.data});}else{cov_1wn722vxd8().b[29][1]++;}cov_1wn722vxd8().s[42]++;if(result.status=="error"){cov_1wn722vxd8().b[33][0]++;cov_1wn722vxd8().s[43]++;logger.error("delete Sla :"+result.err.message,req.route?(cov_1wn722vxd8().b[34][0]++,req.baseUrl+req.route.path):(cov_1wn722vxd8().b[34][1]++,"testing"),req.method?(cov_1wn722vxd8().b[35][0]++,req.method):(cov_1wn722vxd8().b[35][1]++,"testing"),req.ip?(cov_1wn722vxd8().b[36][0]++,req.ip):(cov_1wn722vxd8().b[36][1]++,"testing"));cov_1wn722vxd8().s[44]++;return res.status(result.statusCode?(cov_1wn722vxd8().b[37][0]++,result.statusCode):(cov_1wn722vxd8().b[37][1]++,400)).json({message:result.err.message});}else{cov_1wn722vxd8().b[33][1]++;}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsYS5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsInNsYVNlcnZpY2UiLCJsb2dnZXIiLCJleHBvcnRzIiwiYWRkU2xhIiwicmVxIiwicmVzIiwicmVzdWx0IiwiYWRkU2xhU2VydmljZSIsImJvZHkiLCJzdGF0dXMiLCJpbmZvIiwicm91dGUiLCJiYXNlVXJsIiwicGF0aCIsIm1ldGhvZCIsImlwIiwianNvbiIsImRhdGEiLCJlcnJvciIsImVyciIsIm1lc3NhZ2UiLCJnZXRTbGFCeVNsYUNvbnRyYWN0Iiwic2xhQ29udHJhY3RfSWQiLCJwYXJhbXMiLCJpZCIsInBhZ2UiLCJxdWVyeSIsInNpemUiLCJzZWFyY2hWYWx1ZSIsImdldFNsYUJ5U2xhQ29udHJhY3RJZFNlcnZpY2UiLCJzdGF0dXNDb2RlIiwiZ2V0U2xhQnlJZCIsImdldFNsYUJ5SWRTZXJ2aWNlIiwidXBkYXRlU2xhIiwidXBkYXRlU2xhU2VydmljZSIsImRlbGV0ZVNsYSIsImRlbGV0ZVNsYVNlcnZpY2UiXSwibWFwcGluZ3MiOiIyL1hBZVk7MkZBZlosS0FBTUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUMsQ0FBQUEsVUFBVSwwQkFBR0QsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBaEIsQ0FFQSxLQUFNRSxDQUFBQSxNQUFNLDBCQUFHRixPQUFPLENBQUMsa0JBQUQsQ0FBVixDQUFaLENBRUE7d0JBQ0FHLE9BQU8sQ0FBQ0MsTUFBUixDQUFpQixlQUFnQkMsR0FBaEIsQ0FBcUJDLEdBQXJCLENBQTBCLHlCQUN6QyxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLEtBQU1OLENBQUFBLFVBQVUsQ0FBQ08sYUFBWCxDQUF5QkgsR0FBRyxDQUFDSSxJQUE3QixDQUFULENBQVosQ0FEeUMsd0JBRXpDLEdBQUlGLE1BQU0sQ0FBQ0csTUFBUCxFQUFpQixTQUFyQixDQUFnQyxvREFDOUJSLE1BQU0sQ0FBQ1MsSUFB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RVYsR0FBRyxDQUFDVyxFQUFKLDhCQUFTWCxHQUFHLENBQUNXLEVBQWIsK0JBQWtCLFNBQWxCLENBSkYsRUFEOEIseUJBTzlCLE1BQU9WLENBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JPLElBQWhCLENBQXFCLENBQUVDLElBQUksQ0FBRVgsTUFBTSxDQUFDVyxJQUFmLENBQXJCLENBQVAsQ0FDRCxDQVJELGtDQUY0Qyx5QkFXNUMsR0FBSVgsTUFBTSxDQUFDRyxNQUFQLEVBQWlCLE9BQXJCLENBQThCLHNEQUM1QlIsTUFBTSxDQUFDaUIsS0FBUCxDQUNFLGVBQWlCWixNQUFNLENBQUNhLEdBQVAsQ0FBV0MsT0FEOUIsQ0FFRWhCLEdBQUcsQ0FBQ08sS0FBSiw4QkFBWVAsR0FBRyxDQUFDUSxPQUFKLENBQWNSLEdBQUcsQ0FBQ08sS0FBSixDQUFVRSxJQUFwQywrQkFBMkMsU0FBM0MsQ0FGRixDQUdFVCxHQUFHLENBQUNVLE1BQUosOEJBQWFWLEdBQUcsQ0FBQ1UsTUFBakIsK0JBQTBCLFNBQTFCLENBSEYsQ0FJRVYsR0FBRyxDQUFDVyxFQUFKLDhCQUFTWCxHQUFHLENBQUNXLEVBQWIsK0JBQWtCLFNBQWxCLENBSkYsRUFENEIseUJBTzVCLE1BQU9WLENBQUFBLEdBQUcsQ0FDUEksTUFESSxDQUNHSCxNQUFNLENBQUN3QixVQUFQLDhCQUFvQnhCLE1BQU0sQ0FBQ3dCLFVBQTNCLCtCQUF3QyxHQUF4QyxDQURILEVBRUpkLElBRkksQ0FFQyxDQUFFSSxPQUFPLENBQUVkLE1BQU0sQ0FBQ2EsR0FBUCxDQUFXQyxPQUF0QixDQUZELENBQVAsQ0FHRCxDQVZELGtDQVdELENBdEJEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBzbGFTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL3NsYVwiKTtcblxuY29uc3QgbG9nZ2VyID0gcmVxdWlyZShcIi4uL2NvbmZpZy9sb2dnZXJcIik7XG5cbi8vQWRkIFNsYVxuZXhwb3J0cy5hZGRTbGEgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2xhU2VydmljZS5hZGRTbGFTZXJ2aWNlKHJlcS5ib2R5KTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICBsb2dnZXIuaW5mbyhcbiAgICAgIFwiYWRkIFNsYSBzdWNjZXNzXCIsXG4gICAgICByZXEucm91dGUgPyByZXEuYmFzZVVybCArIHJlcS5yb3V0ZS5wYXRoIDogXCJ0ZXN0aW5nXCIsXG4gICAgICByZXEubWV0aG9kID8gcmVxLm1ldGhvZCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLmlwID8gcmVxLmlwIDogXCJ0ZXN0aW5nXCJcbiAgICApO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IGRhdGE6IHJlc3VsdC5kYXRhIH0pO1xuICB9XG4gIGlmIChyZXN1bHQuc3RhdHVzID09IFwiZXJyb3JcIikge1xuICAgIGxvZ2dlci5lcnJvcihcbiAgICAgIFwiYWRkIFNsYSA6XCIgKyByZXN1bHQuZXJyLm1lc3NhZ2UsXG4gICAgICByZXEucm91dGUgPyByZXEuYmFzZVVybCArIHJlcS5yb3V0ZS5wYXRoIDogXCJ0ZXN0aW5nXCIsXG4gICAgICByZXEubWV0aG9kID8gcmVxLm1ldGhvZCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLmlwID8gcmVxLmlwIDogXCJ0ZXN0aW5nXCJcbiAgICApO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSB9KTtcbiAgfVxufTtcblxuLy9HZXQgc2xhIGJ5IHNsYUNvbnRyYWN0X0lkXG5leHBvcnRzLmdldFNsYUJ5U2xhQ29udHJhY3QgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcblxuICBsZXQgc2xhQ29udHJhY3RfSWQgPSByZXEucGFyYW1zLmlkO1xuICBsZXQgcGFnZSA9IHJlcS5xdWVyeS5wYWdlO1xuICBsZXQgc2l6ZSA9IHJlcS5xdWVyeS5zaXplO1xuICBsZXQgc2VhcmNoVmFsdWUgPSByZXEucXVlcnkuc2VhcmNoVmFsdWU7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2xhU2VydmljZS5nZXRTbGFCeVNsYUNvbnRyYWN0SWRTZXJ2aWNlKFxuICAgIHNsYUNvbnRyYWN0X0lkLFxuICAgIHBhZ2UsXG4gICAgc2l6ZSxcbiAgICBzZWFyY2hWYWx1ZVxuICApO1xuICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcInN1Y2Nlc3NcIilcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiByZXN1bHQuZGF0YSB9KTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJlcnJvclwiKVxuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUgPyByZXN1bHQuc3RhdHVzQ29kZSA6IDQwMClcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVyci5tZXNzYWdlIH0pO1xufTtcblxuLy9HZXQgU2xhIGJ5IElkXG5leHBvcnRzLmdldFNsYUJ5SWQgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2xhU2VydmljZS5nZXRTbGFCeUlkU2VydmljZShyZXEucGFyYW1zLmlkKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICBsb2dnZXIuaW5mbyhcbiAgICAgIFwiZ2V0IHNsYSBCeSBJZCBzdWNjZXNzXCIsXG4gICAgICByZXEucm91dGUgPyByZXEuYmFzZVVybCArIHJlcS5yb3V0ZS5wYXRoIDogXCJ0ZXN0aW5nXCIsXG4gICAgICByZXEubWV0aG9kID8gcmVxLm1ldGhvZCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLmlwID8gcmVxLmlwIDogXCJ0ZXN0aW5nXCJcbiAgICApO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGRhdGE6IHJlc3VsdC5kYXRhIH0pO1xuICB9XG4gIGlmIChyZXN1bHQuc3RhdHVzID09IFwiZXJyb3JcIikge1xuICAgIGxvZ2dlci5lcnJvcihcbiAgICAgIFwiZ2V0IHNsYSBCeSBJZCA6XCIgKyByZXN1bHQuZXJyLm1lc3NhZ2UsXG4gICAgICByZXEucm91dGUgPyByZXEuYmFzZVVybCArIHJlcS5yb3V0ZS5wYXRoIDogXCJ0ZXN0aW5nXCIsXG4gICAgICByZXEubWV0aG9kID8gcmVxLm1ldGhvZCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLmlwID8gcmVxLmlwIDogXCJ0ZXN0aW5nXCJcbiAgICApO1xuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUgPyByZXN1bHQuc3RhdHVzQ29kZSA6IDQwMClcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVyci5tZXNzYWdlIH0pO1xuICB9XG59O1xuXG5leHBvcnRzLnVwZGF0ZVNsYSA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAvLyBpZiAoIXJlcS5wYXJhbXMuaWQpIHtcbiAgLy8gICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiBcIm1pc3NpbmcgSURcIiB9KTtcbiAgLy8gfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNsYVNlcnZpY2UudXBkYXRlU2xhU2VydmljZShyZXEucGFyYW1zLmlkLCByZXEuYm9keSk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09IFwic3VjY2Vzc1wiKSB7XG4gICAgbG9nZ2VyLmluZm8oXG4gICAgICBcInVwZGF0ZSBzbGEgQnkgU2xhQ29udHJhY3Qgc3VjY2Vzc1wiLFxuICAgICAgcmVxLnJvdXRlID8gcmVxLmJhc2VVcmwgKyByZXEucm91dGUucGF0aCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLm1ldGhvZCA/IHJlcS5tZXRob2QgOiBcInRlc3RpbmdcIixcbiAgICAgIHJlcS5pcCA/IHJlcS5pcCA6IFwidGVzdGluZ1wiXG4gICAgKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBkYXRhOiByZXN1bHQuZGF0YSB9KTtcbiAgfVxuICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcImVycm9yXCIpIHtcbiAgICBsb2dnZXIuZXJyb3IoXG4gICAgICBcInVwZGF0ZSBzbGEgQnkgU2xhQ29udHJhY3QgOlwiICsgcmVzdWx0LmVyci5tZXNzYWdlLFxuICAgICAgcmVxLnJvdXRlID8gcmVxLmJhc2VVcmwgKyByZXEucm91dGUucGF0aCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLm1ldGhvZCA/IHJlcS5tZXRob2QgOiBcInRlc3RpbmdcIixcbiAgICAgIHJlcS5pcCA/IHJlcS5pcCA6IFwidGVzdGluZ1wiXG4gICAgKTtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlID8gcmVzdWx0LnN0YXR1c0NvZGUgOiA0MDApXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSB9KTtcbiAgfVxufTtcblxuLy9EZWxldGUgU2xhXG5cbmV4cG9ydHMuZGVsZXRlU2xhID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNsYVNlcnZpY2UuZGVsZXRlU2xhU2VydmljZShyZXEucGFyYW1zLmlkKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICBsb2dnZXIuaW5mbyhcbiAgICAgIFwiZGVsZXRlIHNsYSBzdWNjZXNzXCIsXG4gICAgICByZXEucm91dGUgPyByZXEuYmFzZVVybCArIHJlcS5yb3V0ZS5wYXRoIDogXCJ0ZXN0aW5nXCIsXG4gICAgICByZXEubWV0aG9kID8gcmVxLm1ldGhvZCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLmlwID8gcmVxLmlwIDogXCJ0ZXN0aW5nXCJcbiAgICApO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGRhdGE6IHJlc3VsdC5kYXRhIH0pO1xuICB9XG4gIGlmIChyZXN1bHQuc3RhdHVzID09IFwiZXJyb3JcIikge1xuICAgIGxvZ2dlci5lcnJvcihcbiAgICAgIFwiZGVsZXRlIFNsYSA6XCIgKyByZXN1bHQuZXJyLm1lc3NhZ2UsXG4gICAgICByZXEucm91dGUgPyByZXEuYmFzZVVybCArIHJlcS5yb3V0ZS5wYXRoIDogXCJ0ZXN0aW5nXCIsXG4gICAgICByZXEubWV0aG9kID8gcmVxLm1ldGhvZCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLmlwID8gcmVxLmlwIDogXCJ0ZXN0aW5nXCJcbiAgICApO1xuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUgPyByZXN1bHQuc3RhdHVzQ29kZSA6IDQwMClcbiAgICAgIC5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVyci5tZXNzYWdlIH0pO1xuICB9XG59O1xuIl19