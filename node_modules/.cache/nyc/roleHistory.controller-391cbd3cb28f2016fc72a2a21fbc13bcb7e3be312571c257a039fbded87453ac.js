function cov_218xqogdym(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/controllers/roleHistory.controller.js";var hash="c519fa7f64a6ed23e9abd1594a4d7e06ad1e28fb";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/controllers/roleHistory.controller.js",statementMap:{"0":{start:{line:2,column:28},end:{line:2,column:62}},"1":{start:{line:3,column:15},end:{line:3,column:42}},"2":{start:{line:6,column:0},end:{line:26,column:2}},"3":{start:{line:7,column:17},end:{line:7,column:74}},"4":{start:{line:8,column:2},end:{line:16,column:3}},"5":{start:{line:9,column:4},end:{line:14,column:6}},"6":{start:{line:15,column:4},end:{line:15,column:55}},"7":{start:{line:17,column:2},end:{line:25,column:3}},"8":{start:{line:18,column:4},end:{line:23,column:6}},"9":{start:{line:24,column:4},end:{line:24,column:65}},"10":{start:{line:29,column:0},end:{line:38,column:2}},"11":{start:{line:30,column:17},end:{line:30,column:83}},"12":{start:{line:32,column:2},end:{line:33,column:55}},"13":{start:{line:33,column:4},end:{line:33,column:55}},"14":{start:{line:34,column:2},end:{line:37,column:45}},"15":{start:{line:35,column:4},end:{line:37,column:45}},"16":{start:{line:42,column:0},end:{line:51,column:2}},"17":{start:{line:43,column:13},end:{line:43,column:27}},"18":{start:{line:44,column:13},end:{line:44,column:27}},"19":{start:{line:45,column:17},end:{line:45,column:79}},"20":{start:{line:47,column:2},end:{line:48,column:55}},"21":{start:{line:48,column:4},end:{line:48,column:55}},"22":{start:{line:49,column:2},end:{line:50,column:65}},"23":{start:{line:50,column:4},end:{line:50,column:65}},"24":{start:{line:54,column:0},end:{line:63,column:2}},"25":{start:{line:55,column:17},end:{line:55,column:92}},"26":{start:{line:57,column:2},end:{line:58,column:55}},"27":{start:{line:58,column:4},end:{line:58,column:55}},"28":{start:{line:59,column:2},end:{line:62,column:45}},"29":{start:{line:60,column:4},end:{line:62,column:45}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:35},end:{line:6,column:36}},loc:{start:{line:6,column:61},end:{line:26,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:29,column:39},end:{line:29,column:40}},loc:{start:{line:29,column:65},end:{line:38,column:1}},line:29},"2":{name:"(anonymous_2)",decl:{start:{line:42,column:38},end:{line:42,column:39}},loc:{start:{line:42,column:64},end:{line:51,column:1}},line:42},"3":{name:"(anonymous_3)",decl:{start:{line:54,column:37},end:{line:54,column:38}},loc:{start:{line:54,column:63},end:{line:63,column:1}},line:54}},branchMap:{"0":{loc:{start:{line:8,column:2},end:{line:16,column:3}},type:"if",locations:[{start:{line:8,column:2},end:{line:16,column:3}},{start:{line:8,column:2},end:{line:16,column:3}}],line:8},"1":{loc:{start:{line:11,column:6},end:{line:11,column:58}},type:"cond-expr",locations:[{start:{line:11,column:18},end:{line:11,column:46}},{start:{line:11,column:49},end:{line:11,column:58}}],line:11},"2":{loc:{start:{line:12,column:6},end:{line:12,column:41}},type:"cond-expr",locations:[{start:{line:12,column:19},end:{line:12,column:29}},{start:{line:12,column:32},end:{line:12,column:41}}],line:12},"3":{loc:{start:{line:13,column:6},end:{line:13,column:33}},type:"cond-expr",locations:[{start:{line:13,column:15},end:{line:13,column:21}},{start:{line:13,column:24},end:{line:13,column:33}}],line:13},"4":{loc:{start:{line:17,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:25,column:3}},{start:{line:17,column:2},end:{line:25,column:3}}],line:17},"5":{loc:{start:{line:20,column:6},end:{line:20,column:58}},type:"cond-expr",locations:[{start:{line:20,column:18},end:{line:20,column:46}},{start:{line:20,column:49},end:{line:20,column:58}}],line:20},"6":{loc:{start:{line:21,column:6},end:{line:21,column:41}},type:"cond-expr",locations:[{start:{line:21,column:19},end:{line:21,column:29}},{start:{line:21,column:32},end:{line:21,column:41}}],line:21},"7":{loc:{start:{line:22,column:6},end:{line:22,column:33}},type:"cond-expr",locations:[{start:{line:22,column:15},end:{line:22,column:21}},{start:{line:22,column:24},end:{line:22,column:33}}],line:22},"8":{loc:{start:{line:32,column:2},end:{line:33,column:55}},type:"if",locations:[{start:{line:32,column:2},end:{line:33,column:55}},{start:{line:32,column:2},end:{line:33,column:55}}],line:32},"9":{loc:{start:{line:34,column:2},end:{line:37,column:45}},type:"if",locations:[{start:{line:34,column:2},end:{line:37,column:45}},{start:{line:34,column:2},end:{line:37,column:45}}],line:34},"10":{loc:{start:{line:36,column:14},end:{line:36,column:57}},type:"cond-expr",locations:[{start:{line:36,column:34},end:{line:36,column:51}},{start:{line:36,column:54},end:{line:36,column:57}}],line:36},"11":{loc:{start:{line:47,column:2},end:{line:48,column:55}},type:"if",locations:[{start:{line:47,column:2},end:{line:48,column:55}},{start:{line:47,column:2},end:{line:48,column:55}}],line:47},"12":{loc:{start:{line:49,column:2},end:{line:50,column:65}},type:"if",locations:[{start:{line:49,column:2},end:{line:50,column:65}},{start:{line:49,column:2},end:{line:50,column:65}}],line:49},"13":{loc:{start:{line:57,column:2},end:{line:58,column:55}},type:"if",locations:[{start:{line:57,column:2},end:{line:58,column:55}},{start:{line:57,column:2},end:{line:58,column:55}}],line:57},"14":{loc:{start:{line:59,column:2},end:{line:62,column:45}},type:"if",locations:[{start:{line:59,column:2},end:{line:62,column:45}},{start:{line:59,column:2},end:{line:62,column:45}}],line:59},"15":{loc:{start:{line:61,column:14},end:{line:61,column:57}},type:"cond-expr",locations:[{start:{line:61,column:34},end:{line:61,column:51}},{start:{line:61,column:54},end:{line:61,column:57}}],line:61}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c519fa7f64a6ed23e9abd1594a4d7e06ad1e28fb"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_218xqogdym=function(){return actualCoverage;};}return actualCoverage;}cov_218xqogdym();const roleHistoryServices=(cov_218xqogdym().s[0]++,require("../services/roleHistory"));const logger=(cov_218xqogdym().s[1]++,require("../config/logger"));//Add Role History
cov_218xqogdym().s[2]++;exports.addRoleHistoryController=async function(req,res){cov_218xqogdym().f[0]++;const result=(cov_218xqogdym().s[3]++,await roleHistoryServices.addRoleHistoryService(req.body));cov_218xqogdym().s[4]++;if(result.status=="success"){cov_218xqogdym().b[0][0]++;cov_218xqogdym().s[5]++;logger.info("add Role History success",req.route?(cov_218xqogdym().b[1][0]++,req.baseUrl+req.route.path):(cov_218xqogdym().b[1][1]++,"testing"),req.method?(cov_218xqogdym().b[2][0]++,req.method):(cov_218xqogdym().b[2][1]++,"testing"),req.ip?(cov_218xqogdym().b[3][0]++,req.ip):(cov_218xqogdym().b[3][1]++,"testing"));cov_218xqogdym().s[6]++;return res.status(201).json({data:result.data});}else{cov_218xqogdym().b[0][1]++;}cov_218xqogdym().s[7]++;if(result.status=="error"){cov_218xqogdym().b[4][0]++;cov_218xqogdym().s[8]++;logger.error("add Client :"+result.err.message,req.route?(cov_218xqogdym().b[5][0]++,req.baseUrl+req.route.path):(cov_218xqogdym().b[5][1]++,"testing"),req.method?(cov_218xqogdym().b[6][0]++,req.method):(cov_218xqogdym().b[6][1]++,"testing"),req.ip?(cov_218xqogdym().b[7][0]++,req.ip):(cov_218xqogdym().b[7][1]++,"testing"));cov_218xqogdym().s[9]++;return res.status(400).json({message:result.err.message});}else{cov_218xqogdym().b[4][1]++;}};//Get Role History by Id
cov_218xqogdym().s[10]++;exports.getRoleHistoryByIdController=async function(req,res){cov_218xqogdym().f[1]++;const result=(cov_218xqogdym().s[11]++,await roleHistoryServices.getRoleHistoryByIdService(req.params.id));cov_218xqogdym().s[12]++;if(result.status=="success"){cov_218xqogdym().b[8][0]++;cov_218xqogdym().s[13]++;return res.status(200).json({data:result.data});}else{cov_218xqogdym().b[8][1]++;}cov_218xqogdym().s[14]++;if(result.status=="error"){cov_218xqogdym().b[9][0]++;cov_218xqogdym().s[15]++;res.status(result.statusCode?(cov_218xqogdym().b[10][0]++,result.statusCode):(cov_218xqogdym().b[10][1]++,400)).json({message:result.err.message});}else{cov_218xqogdym().b[9][1]++;}};//Get All Role History
cov_218xqogdym().s[16]++;exports.getAllRoleHistoryController=async function(req,res){cov_218xqogdym().f[2]++;let page=(cov_218xqogdym().s[17]++,req.query.page);let size=(cov_218xqogdym().s[18]++,req.query.size);const result=(cov_218xqogdym().s[19]++,await roleHistoryServices.getAllRoleHistoryService(page,size));cov_218xqogdym().s[20]++;if(result.status=="success"){cov_218xqogdym().b[11][0]++;cov_218xqogdym().s[21]++;return res.status(200).json({data:result.data});}else{cov_218xqogdym().b[11][1]++;}cov_218xqogdym().s[22]++;if(result.status=="error"){cov_218xqogdym().b[12][0]++;cov_218xqogdym().s[23]++;return res.status(400).json({message:result.err.message});}else{cov_218xqogdym().b[12][1]++;}};//update Role History
cov_218xqogdym().s[24]++;exports.updateRoleHistoryController=async function(req,res){cov_218xqogdym().f[3]++;const result=(cov_218xqogdym().s[25]++,await roleHistoryServices.updateRoleHistoryService(req.body,req.params.id));cov_218xqogdym().s[26]++;if(result.status=="success"){cov_218xqogdym().b[13][0]++;cov_218xqogdym().s[27]++;return res.status(201).json({data:result.data});}else{cov_218xqogdym().b[13][1]++;}cov_218xqogdym().s[28]++;if(result.status=="error"){cov_218xqogdym().b[14][0]++;cov_218xqogdym().s[29]++;return res.status(result.statusCode?(cov_218xqogdym().b[15][0]++,result.statusCode):(cov_218xqogdym().b[15][1]++,400)).json({message:result.err.message});}else{cov_218xqogdym().b[14][1]++;}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGVIaXN0b3J5LmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsicm9sZUhpc3RvcnlTZXJ2aWNlcyIsInJlcXVpcmUiLCJsb2dnZXIiLCJleHBvcnRzIiwiYWRkUm9sZUhpc3RvcnlDb250cm9sbGVyIiwicmVxIiwicmVzIiwicmVzdWx0IiwiYWRkUm9sZUhpc3RvcnlTZXJ2aWNlIiwiYm9keSIsInN0YXR1cyIsImluZm8iLCJyb3V0ZSIsImJhc2VVcmwiLCJwYXRoIiwibWV0aG9kIiwiaXAiLCJqc29uIiwiZGF0YSIsImVycm9yIiwiZXJyIiwibWVzc2FnZSIsImdldFJvbGVIaXN0b3J5QnlJZENvbnRyb2xsZXIiLCJnZXRSb2xlSGlzdG9yeUJ5SWRTZXJ2aWNlIiwicGFyYW1zIiwiaWQiLCJzdGF0dXNDb2RlIiwiZ2V0QWxsUm9sZUhpc3RvcnlDb250cm9sbGVyIiwicGFnZSIsInF1ZXJ5Iiwic2l6ZSIsImdldEFsbFJvbGVIaXN0b3J5U2VydmljZSIsInVwZGF0ZVJvbGVIaXN0b3J5Q29udHJvbGxlciIsInVwZGF0ZVJvbGVIaXN0b3J5U2VydmljZSJdLCJtYXBwaW5ncyI6Iit5TUFlWTsyRkFkWixLQUFNQSxDQUFBQSxtQkFBbUIsMEJBQUdDLE9BQU8sQ0FBQyx5QkFBRCxDQUFWLENBQXpCLENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBR0QsT0FBTyxDQUFDLGtCQUFELENBQVYsQ0FBWixDQUVBO3dCQUNBRSxPQUFPLENBQUNDLHdCQUFSLENBQW1DLGVBQWdCQyxHQUFoQixDQUFxQkMsR0FBckIsQ0FBMEIseUJBQzNELEtBQU1DLENBQUFBLE1BQU0sMEJBQUcsS0FBTVAsQ0FBQUEsbUJBQW1CLENBQUNRLHFCQUFwQixDQUEwQ0gsR0FBRyxDQUFDSSxJQUE5QyxDQUFULENBQVosQ0FEMkQsd0JBRTNELEdBQUlGLE1BQU0sQ0FBQ0csTUFBUCxFQUFpQixTQUFyQixDQUFnQyxvREFDOUJSLE1BQU0sQ0FBQ1MsSUFBUCxDQUNFLDBCQURGLENBRUVOLEdB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WyJcbmNvbnN0IHJvbGVIaXN0b3J5U2VydmljZXMgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvcm9sZUhpc3RvcnlcIik7XG5jb25zdCBsb2dnZXIgPSByZXF1aXJlKFwiLi4vY29uZmlnL2xvZ2dlclwiKTtcblxuLy9BZGQgUm9sZSBIaXN0b3J5XG5leHBvcnRzLmFkZFJvbGVIaXN0b3J5Q29udHJvbGxlciA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByb2xlSGlzdG9yeVNlcnZpY2VzLmFkZFJvbGVIaXN0b3J5U2VydmljZShyZXEuYm9keSk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09IFwic3VjY2Vzc1wiKSB7XG4gICAgbG9nZ2VyLmluZm8oXG4gICAgICBcImFkZCBSb2xlIEhpc3Rvcnkgc3VjY2Vzc1wiLFxuICAgICAgcmVxLnJvdXRlID8gcmVxLmJhc2VVcmwgKyByZXEucm91dGUucGF0aCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLm1ldGhvZCA/IHJlcS5tZXRob2QgOiBcInRlc3RpbmdcIixcbiAgICAgIHJlcS5pcCA/IHJlcS5pcCA6IFwidGVzdGluZ1wiXG4gICAgKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBkYXRhOiByZXN1bHQuZGF0YSB9KTtcbiAgfVxuICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcImVycm9yXCIpIHtcbiAgICBsb2dnZXIuZXJyb3IoXG4gICAgICBcImFkZCBDbGllbnQgOlwiICsgcmVzdWx0LmVyci5tZXNzYWdlLFxuICAgICAgcmVxLnJvdXRlID8gcmVxLmJhc2VVcmwgKyByZXEucm91dGUucGF0aCA6IFwidGVzdGluZ1wiLFxuICAgICAgcmVxLm1ldGhvZCA/IHJlcS5tZXRob2QgOiBcInRlc3RpbmdcIixcbiAgICAgIHJlcS5pcCA/IHJlcS5pcCA6IFwidGVzdGluZ1wiXG4gICAgKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2UgfSk7XG4gIH1cbn07XG5cbi8vR2V0IFJvbGUgSGlzdG9yeSBieSBJZFxuZXhwb3J0cy5nZXRSb2xlSGlzdG9yeUJ5SWRDb250cm9sbGVyID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJvbGVIaXN0b3J5U2VydmljZXMuZ2V0Um9sZUhpc3RvcnlCeUlkU2VydmljZShyZXEucGFyYW1zLmlkKTtcblxuICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcInN1Y2Nlc3NcIilcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiByZXN1bHQuZGF0YSB9KTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJlcnJvclwiKVxuICAgIHJlc1xuICAgICAgLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSA/IHJlc3VsdC5zdGF0dXNDb2RlIDogNDAwKVxuICAgICAgLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2UgfSk7XG59O1xuXG5cbi8vR2V0IEFsbCBSb2xlIEhpc3RvcnlcbmV4cG9ydHMuZ2V0QWxsUm9sZUhpc3RvcnlDb250cm9sbGVyID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIGxldCBwYWdlID0gcmVxLnF1ZXJ5LnBhZ2VcbiAgbGV0IHNpemUgPSByZXEucXVlcnkuc2l6ZVxuICBjb25zdCByZXN1bHQgPSBhd2FpdCByb2xlSGlzdG9yeVNlcnZpY2VzLmdldEFsbFJvbGVIaXN0b3J5U2VydmljZShwYWdlLCBzaXplKTtcblxuICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcInN1Y2Nlc3NcIilcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiByZXN1bHQuZGF0YSB9KTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJlcnJvclwiKVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSB9KTtcbn07XG5cbi8vdXBkYXRlIFJvbGUgSGlzdG9yeVxuZXhwb3J0cy51cGRhdGVSb2xlSGlzdG9yeUNvbnRyb2xsZXI9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByb2xlSGlzdG9yeVNlcnZpY2VzLnVwZGF0ZVJvbGVIaXN0b3J5U2VydmljZShyZXEuYm9keSwgcmVxLnBhcmFtcy5pZCk7XG5cbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgZGF0YTogcmVzdWx0LmRhdGEgfSk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09IFwiZXJyb3JcIilcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlID8gcmVzdWx0LnN0YXR1c0NvZGUgOiA0MDApXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSB9KTtcbn07XG4iXX0=