function cov_1fqulxavqm(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/middleware/uploadFile.js";var hash="8c7fc08304aa5cf736d19173f079d2bc7e5b9ead";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/middleware/uploadFile.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:32}},"1":{start:{line:2,column:13},end:{line:2,column:28}},"2":{start:{line:3,column:23},end:{line:3,column:38}},"3":{start:{line:6,column:16},end:{line:11,column:2}},"4":{start:{line:9,column:4},end:{line:9,column:57}},"5":{start:{line:26,column:15},end:{line:36,column:2}},"6":{start:{line:38,column:0},end:{line:38,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:12},end:{line:8,column:13}},loc:{start:{line:8,column:37},end:{line:10,column:3}},line:8}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},f:{"0":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8c7fc08304aa5cf736d19173f079d2bc7e5b9ead"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1fqulxavqm=function(){return actualCoverage;};}return actualCoverage;}cov_1fqulxavqm();const multer=(cov_1fqulxavqm().s[0]++,require('multer'));const path=(cov_1fqulxavqm().s[1]++,require('path'));const{v4:uuidv4}=(cov_1fqulxavqm().s[2]++,require('uuid'));// SET STORAGE
const storage=(cov_1fqulxavqm().s[3]++,multer.diskStorage({destination:'./uploads/',filename:function(req,file,cb){cov_1fqulxavqm().f[0]++;cov_1fqulxavqm().s[4]++;cb(null,uuidv4()+path.extname(file.originalname));}}));// Set file filter
// const fileFilter = (req, file, cb) => {
//   if (
//     file.mimetype === 'image/jpeg' ||
//     file.mimetype === 'image/jpg' ||
//     file.mimetype === 'image/png'
//   ) {
//     cb(null, true);
//   } else {
//     cb(null, false);
//   }
// };
const upload=(cov_1fqulxavqm().s[5]++,multer({storage:storage,limits:{fields:10,fieldNameSize:100,fieldSize:50000,//150 KB for a 1080x1080 JPG 90
fileSize:5000000}// fileFilter: fileFilter
}));cov_1fqulxavqm().s[6]++;module.exports=upload;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZEZpbGUuanMiXSwibmFtZXMiOlsibXVsdGVyIiwicmVxdWlyZSIsInBhdGgiLCJ2NCIsInV1aWR2NCIsInN0b3JhZ2UiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXEiLCJmaWxlIiwiY2IiLCJleHRuYW1lIiwib3JpZ2luYWxuYW1lIiwidXBsb2FkIiwibGltaXRzIiwiZmllbGRzIiwiZmllbGROYW1lU2l6ZSIsImZpZWxkU2l6ZSIsImZpbGVTaXplIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6ImdyQ0FlWTsyRkFmWixLQUFNQSxDQUFBQSxNQUFNLDBCQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFWLENBQVosQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLDBCQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNLENBQUVFLEVBQUUsQ0FBRUMsTUFBTiwyQkFBaUJILE9BQU8sQ0FBQyxNQUFELENBQXhCLENBQU4sQ0FFQTtBQUNBLEtBQU1JLENBQUFBLE9BQU8sMEJBQUdMLE1BQU0sQ0FBQ00sV0FBUCxDQUFtQixDQUNqQ0MsV0FBVyxDQUFFLFlBRG9CLENBRWpDQyxRQUFRLENBQUUsU0FBVUMsR0FBVixDQUFlQyxJQUFmLENBQXFCQyxFQUFyQixDQUF5QixpREFDakNBLEVBQUUsQ0FBQyxJQUFELENBQU9QLE1BQU0sR0FBS0YsSUFBSSxDQUFDVSxPQUFMLENBQWFGLElBQUksQ0FBQ0csWUFBbEIsQ0FBbEIsQ0FBRixDQUNELENBSmdDLENBQW5CLENBQUgsQ0FBYixDQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLEtBQU1DLENBQUFBLE1BQU0sMEJBQUdkLE1BQU0sQ0FBQyxDQUNwQkssT0FBTyxDQUFFQSxPQURXLENBRXBCVSxNQUFNLENBQUUsQ0FDTkMsTUFBTSxDQUFFLEVBREYsQ0FFTkMsYUFBYSxDQUFFLEdBRlQsQ0FHTkMsU0FBUyxDQUFFLEtBSEwsQ0FJTjtBQUNBQyxRQUFRLENBQUUsT0FMSixDQU9UO0FBVHFCLENBQUQsQ0FBVCxDQUFaLEMsd0JBWUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQlAsTUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtdWx0ZXIgPSByZXF1aXJlKCdtdWx0ZXInKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoJ3V1aWQnKTtcblxuLy8gU0VUIFNUT1JBR0VcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICBkZXN0aW5hdGlvbjogJy4vdXBsb2Fkcy8nLFxuICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcbiAgICBjYihudWxsLCB1dWlkdjQoKSArIHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkpO1xuICB9XG59KTtcblxuLy8gU2V0IGZpbGUgZmlsdGVyXG4vLyBjb25zdCBmaWxlRmlsdGVyID0gKHJlcSwgZmlsZSwgY2IpID0+IHtcbi8vICAgaWYgKFxuLy8gICAgIGZpbGUubWltZXR5cGUgPT09ICdpbWFnZS9qcGVnJyB8fFxuLy8gICAgIGZpbGUubWltZXR5cGUgPT09ICdpbWFnZS9qcGcnIHx8XG4vLyAgICAgZmlsZS5taW1ldHlwZSA9PT0gJ2ltYWdlL3BuZydcbi8vICAgKSB7XG4vLyAgICAgY2IobnVsbCwgdHJ1ZSk7XG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgY2IobnVsbCwgZmFsc2UpO1xuLy8gICB9XG4vLyB9O1xuXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xuICBzdG9yYWdlOiBzdG9yYWdlLFxuICBsaW1pdHM6IHtcbiAgICBmaWVsZHM6IDEwLFxuICAgIGZpZWxkTmFtZVNpemU6IDEwMCxcbiAgICBmaWVsZFNpemU6IDUwMDAwLFxuICAgIC8vMTUwIEtCIGZvciBhIDEwODB4MTA4MCBKUEcgOTBcbiAgICBmaWxlU2l6ZTogNTAwMDAwMFxuICB9XG4gLy8gZmlsZUZpbHRlcjogZmlsZUZpbHRlclxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gdXBsb2FkO1xuIl19