function cov_2ggf92p3wv(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/controllers/map.controller.js";var hash="34ae25c699160821cba7e7c3444c648afdb07260";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/controllers/map.controller.js",statementMap:{"0":{start:{line:2,column:19},end:{line:2,column:45}},"1":{start:{line:3,column:15},end:{line:3,column:42}},"2":{start:{line:4,column:31},end:{line:4,column:66}},"3":{start:{line:5,column:15},end:{line:5,column:32}},"4":{start:{line:9,column:0},end:{line:25,column:2}},"5":{start:{line:10,column:16},end:{line:18,column:3}},"6":{start:{line:20,column:17},end:{line:20,column:49}},"7":{start:{line:21,column:2},end:{line:22,column:55}},"8":{start:{line:22,column:4},end:{line:22,column:55}},"9":{start:{line:23,column:2},end:{line:24,column:65}},"10":{start:{line:24,column:4},end:{line:24,column:65}},"11":{start:{line:29,column:0},end:{line:37,column:2}},"12":{start:{line:30,column:13},end:{line:30,column:27}},"13":{start:{line:31,column:13},end:{line:31,column:27}},"14":{start:{line:32,column:17},end:{line:32,column:63}},"15":{start:{line:33,column:2},end:{line:34,column:55}},"16":{start:{line:34,column:4},end:{line:34,column:55}},"17":{start:{line:35,column:2},end:{line:36,column:58}},"18":{start:{line:36,column:4},end:{line:36,column:58}},"19":{start:{line:41,column:0},end:{line:50,column:2}},"20":{start:{line:42,column:17},end:{line:42,column:79}},"21":{start:{line:43,column:2},end:{line:49,column:3}},"22":{start:{line:44,column:4},end:{line:44,column:55}},"23":{start:{line:46,column:4},end:{line:48,column:45}},"24":{start:{line:54,column:0},end:{line:87,column:2}},"25":{start:{line:56,column:16},end:{line:64,column:3}},"26":{start:{line:66,column:25},end:{line:66,column:57}},"27":{start:{line:67,column:2},end:{line:80,column:3}},"28":{start:{line:69,column:25},end:{line:69,column:66}},"29":{start:{line:71,column:4},end:{line:73,column:5}},"30":{start:{line:72,column:6},end:{line:72,column:65}},"31":{start:{line:75,column:4},end:{line:79,column:5}},"32":{start:{line:76,column:6},end:{line:78,column:53}},"33":{start:{line:81,column:2},end:{line:83,column:3}},"34":{start:{line:82,column:4},end:{line:82,column:73}},"35":{start:{line:91,column:0},end:{line:106,column:2}},"36":{start:{line:92,column:17},end:{line:92,column:58}},"37":{start:{line:93,column:2},end:{line:94,column:55}},"38":{start:{line:94,column:4},end:{line:94,column:55}},"39":{start:{line:95,column:2},end:{line:105,column:3}},"40":{start:{line:96,column:4},end:{line:101,column:6}},"41":{start:{line:102,column:4},end:{line:104,column:45}},"42":{start:{line:110,column:0},end:{line:123,column:2}},"43":{start:{line:111,column:13},end:{line:111,column:27}},"44":{start:{line:112,column:13},end:{line:112,column:27}},"45":{start:{line:113,column:20},end:{line:113,column:41}},"46":{start:{line:114,column:17},end:{line:114,column:35}},"47":{start:{line:115,column:17},end:{line:115,column:101}},"48":{start:{line:116,column:2},end:{line:122,column:3}},"49":{start:{line:117,column:4},end:{line:117,column:55}},"50":{start:{line:119,column:4},end:{line:121,column:45}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:17},end:{line:9,column:18}},loc:{start:{line:9,column:43},end:{line:25,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:29,column:21},end:{line:29,column:22}},loc:{start:{line:29,column:47},end:{line:37,column:1}},line:29},"2":{name:"(anonymous_2)",decl:{start:{line:41,column:21},end:{line:41,column:22}},loc:{start:{line:41,column:47},end:{line:50,column:1}},line:41},"3":{name:"(anonymous_3)",decl:{start:{line:54,column:20},end:{line:54,column:21}},loc:{start:{line:54,column:46},end:{line:87,column:1}},line:54},"4":{name:"(anonymous_4)",decl:{start:{line:91,column:20},end:{line:91,column:21}},loc:{start:{line:91,column:46},end:{line:106,column:1}},line:91},"5":{name:"(anonymous_5)",decl:{start:{line:110,column:28},end:{line:110,column:29}},loc:{start:{line:110,column:48},end:{line:123,column:1}},line:110}},branchMap:{"0":{loc:{start:{line:21,column:2},end:{line:22,column:55}},type:"if",locations:[{start:{line:21,column:2},end:{line:22,column:55}},{start:{line:21,column:2},end:{line:22,column:55}}],line:21},"1":{loc:{start:{line:23,column:2},end:{line:24,column:65}},type:"if",locations:[{start:{line:23,column:2},end:{line:24,column:65}},{start:{line:23,column:2},end:{line:24,column:65}}],line:23},"2":{loc:{start:{line:33,column:2},end:{line:34,column:55}},type:"if",locations:[{start:{line:33,column:2},end:{line:34,column:55}},{start:{line:33,column:2},end:{line:34,column:55}}],line:33},"3":{loc:{start:{line:35,column:2},end:{line:36,column:58}},type:"if",locations:[{start:{line:35,column:2},end:{line:36,column:58}},{start:{line:35,column:2},end:{line:36,column:58}}],line:35},"4":{loc:{start:{line:43,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:49,column:3}},{start:{line:43,column:2},end:{line:49,column:3}}],line:43},"5":{loc:{start:{line:47,column:14},end:{line:47,column:57}},type:"cond-expr",locations:[{start:{line:47,column:34},end:{line:47,column:51}},{start:{line:47,column:54},end:{line:47,column:57}}],line:47},"6":{loc:{start:{line:67,column:2},end:{line:80,column:3}},type:"if",locations:[{start:{line:67,column:2},end:{line:80,column:3}},{start:{line:67,column:2},end:{line:80,column:3}}],line:67},"7":{loc:{start:{line:71,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:73,column:5}},{start:{line:71,column:4},end:{line:73,column:5}}],line:71},"8":{loc:{start:{line:75,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:79,column:5}},{start:{line:75,column:4},end:{line:79,column:5}}],line:75},"9":{loc:{start:{line:77,column:16},end:{line:77,column:71}},type:"cond-expr",locations:[{start:{line:77,column:42},end:{line:77,column:65}},{start:{line:77,column:68},end:{line:77,column:71}}],line:77},"10":{loc:{start:{line:81,column:2},end:{line:83,column:3}},type:"if",locations:[{start:{line:81,column:2},end:{line:83,column:3}},{start:{line:81,column:2},end:{line:83,column:3}}],line:81},"11":{loc:{start:{line:93,column:2},end:{line:94,column:55}},type:"if",locations:[{start:{line:93,column:2},end:{line:94,column:55}},{start:{line:93,column:2},end:{line:94,column:55}}],line:93},"12":{loc:{start:{line:95,column:2},end:{line:105,column:3}},type:"if",locations:[{start:{line:95,column:2},end:{line:105,column:3}},{start:{line:95,column:2},end:{line:105,column:3}}],line:95},"13":{loc:{start:{line:98,column:6},end:{line:98,column:58}},type:"cond-expr",locations:[{start:{line:98,column:18},end:{line:98,column:46}},{start:{line:98,column:49},end:{line:98,column:58}}],line:98},"14":{loc:{start:{line:99,column:6},end:{line:99,column:41}},type:"cond-expr",locations:[{start:{line:99,column:19},end:{line:99,column:29}},{start:{line:99,column:32},end:{line:99,column:41}}],line:99},"15":{loc:{start:{line:100,column:6},end:{line:100,column:33}},type:"cond-expr",locations:[{start:{line:100,column:15},end:{line:100,column:21}},{start:{line:100,column:24},end:{line:100,column:33}}],line:100},"16":{loc:{start:{line:103,column:14},end:{line:103,column:57}},type:"cond-expr",locations:[{start:{line:103,column:34},end:{line:103,column:51}},{start:{line:103,column:54},end:{line:103,column:57}}],line:103},"17":{loc:{start:{line:116,column:2},end:{line:122,column:3}},type:"if",locations:[{start:{line:116,column:2},end:{line:122,column:3}},{start:{line:116,column:2},end:{line:122,column:3}}],line:116},"18":{loc:{start:{line:120,column:14},end:{line:120,column:57}},type:"cond-expr",locations:[{start:{line:120,column:34},end:{line:120,column:51}},{start:{line:120,column:54},end:{line:120,column:57}}],line:120}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"34ae25c699160821cba7e7c3444c648afdb07260"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2ggf92p3wv=function(){return actualCoverage;};}return actualCoverage;}cov_2ggf92p3wv();//Service Object : contains the business logic CRUD
const mapService=(cov_2ggf92p3wv().s[0]++,require("../services/map"));const logger=(cov_2ggf92p3wv().s[1]++,require("../config/logger"));const stringToMinutesDecoder=(cov_2ggf92p3wv().s[2]++,require('../utils/stringToMinutes'));const moment=(cov_2ggf92p3wv().s[3]++,require('moment'));//POST Map Controller
cov_2ggf92p3wv().s[4]++;exports.addMap=async function(req,res){cov_2ggf92p3wv().f[0]++;let payload=(cov_2ggf92p3wv().s[5]++,{periodicity:stringToMinutesDecoder(req.body.periodicity),active:req.body.active,estimation:stringToMinutesDecoder(req.body.estimation),task:req.body.task,system:req.body.system,monitoringAct:req.body.monitoringAct,startTime:stringToMinutesDecoder(moment(moment.tz(req.body.startTime,'HH:mm',req.query.timeZone)).tz('UTC').format('HH:mm'))});const result=(cov_2ggf92p3wv().s[6]++,await mapService.addMAP(payload));cov_2ggf92p3wv().s[7]++;if(result.status=="success"){cov_2ggf92p3wv().b[0][0]++;cov_2ggf92p3wv().s[8]++;return res.status(201).json({data:result.data});}else{cov_2ggf92p3wv().b[0][1]++;}cov_2ggf92p3wv().s[9]++;if(result.status=="error"){cov_2ggf92p3wv().b[1][0]++;cov_2ggf92p3wv().s[10]++;return res.status(400).json({message:result.err.message});}else{cov_2ggf92p3wv().b[1][1]++;}};//GET ALL Maps Controller
cov_2ggf92p3wv().s[11]++;exports.getAllMaps=async function(req,res){cov_2ggf92p3wv().f[1]++;let page=(cov_2ggf92p3wv().s[12]++,req.query.page);let size=(cov_2ggf92p3wv().s[13]++,req.query.size);const result=(cov_2ggf92p3wv().s[14]++,await mapService.getAllMAPsService(page,size));cov_2ggf92p3wv().s[15]++;if(result.status=="success"){cov_2ggf92p3wv().b[2][0]++;cov_2ggf92p3wv().s[16]++;return res.status(200).json({data:result.data});}else{cov_2ggf92p3wv().b[2][1]++;}cov_2ggf92p3wv().s[17]++;if(result.status=="error"){cov_2ggf92p3wv().b[3][0]++;cov_2ggf92p3wv().s[18]++;res.status(400).json({message:result.err.message});}else{cov_2ggf92p3wv().b[3][1]++;}};//GET Map by Id Controller
cov_2ggf92p3wv().s[19]++;exports.getMapById=async function(req,res){cov_2ggf92p3wv().f[2]++;const result=(cov_2ggf92p3wv().s[20]++,await mapService.getMAPById(req.params.id,req.query.timeZone));cov_2ggf92p3wv().s[21]++;if(result.status==='success'){cov_2ggf92p3wv().b[4][0]++;cov_2ggf92p3wv().s[22]++;return res.status(200).json({data:result.data});}else{cov_2ggf92p3wv().b[4][1]++;cov_2ggf92p3wv().s[23]++;return res.status(result.statusCode?(cov_2ggf92p3wv().b[5][0]++,result.statusCode):(cov_2ggf92p3wv().b[5][1]++,400)).json({message:result.err.message});}};//PATCH Map by Id Controller
cov_2ggf92p3wv().s[24]++;exports.updateMap=async function(req,res){cov_2ggf92p3wv().f[3]++;let payload=(cov_2ggf92p3wv().s[25]++,{periodicity:stringToMinutesDecoder(req.body.periodicity),active:req.body.active,estimation:stringToMinutesDecoder(req.body.estimation),task:req.body.task,system:req.body.system,monitoringAct:req.body.monitoringAct,startTime:stringToMinutesDecoder(moment(moment.tz(req.body.startTime,'HH:mm',req.query.timeZone)).tz('UTC').format('HH:mm'))});const resultCreation=(cov_2ggf92p3wv().s[26]++,await mapService.addMAP(payload));cov_2ggf92p3wv().s[27]++;if(resultCreation.status=="success"){cov_2ggf92p3wv().b[6][0]++;const resultDelete=(cov_2ggf92p3wv().s[28]++,await mapService.deleteMAP(req.params.id));cov_2ggf92p3wv().s[29]++;if(resultDelete.status=="success"){cov_2ggf92p3wv().b[7][0]++;cov_2ggf92p3wv().s[30]++;return res.status(201).json({data:resultCreation.data});}else{cov_2ggf92p3wv().b[7][1]++;}cov_2ggf92p3wv().s[31]++;if(resultDelete.status=="error"){cov_2ggf92p3wv().b[8][0]++;cov_2ggf92p3wv().s[32]++;return res.status(resultDelete.statusCode?(cov_2ggf92p3wv().b[9][0]++,resultDelete.statusCode):(cov_2ggf92p3wv().b[9][1]++,400)).json({message:resultDelete.err.message});}else{cov_2ggf92p3wv().b[8][1]++;}}else{cov_2ggf92p3wv().b[6][1]++;}cov_2ggf92p3wv().s[33]++;if(resultCreation.status=="error"){cov_2ggf92p3wv().b[10][0]++;cov_2ggf92p3wv().s[34]++;return res.status(400).json({message:resultCreation.err.message});}else{cov_2ggf92p3wv().b[10][1]++;}};//DELETE Map Controller
cov_2ggf92p3wv().s[35]++;exports.deleteMap=async function(req,res){cov_2ggf92p3wv().f[4]++;const result=(cov_2ggf92p3wv().s[36]++,await mapService.deleteMAP(req.params.id));cov_2ggf92p3wv().s[37]++;if(result.status=="success"){cov_2ggf92p3wv().b[11][0]++;cov_2ggf92p3wv().s[38]++;return res.status(200).json({data:result.data});}else{cov_2ggf92p3wv().b[11][1]++;}cov_2ggf92p3wv().s[39]++;if(result.status=="error"){cov_2ggf92p3wv().b[12][0]++;cov_2ggf92p3wv().s[40]++;logger.error("delete Map By Id :"+result.err.message,req.route?(cov_2ggf92p3wv().b[13][0]++,req.baseUrl+req.route.path):(cov_2ggf92p3wv().b[13][1]++,"testing"),req.method?(cov_2ggf92p3wv().b[14][0]++,req.method):(cov_2ggf92p3wv().b[14][1]++,"testing"),req.ip?(cov_2ggf92p3wv().b[15][0]++,req.ip):(cov_2ggf92p3wv().b[15][1]++,"testing"));cov_2ggf92p3wv().s[41]++;return res.status(result.statusCode?(cov_2ggf92p3wv().b[16][0]++,result.statusCode):(cov_2ggf92p3wv().b[16][1]++,400)).json({message:result.err.message});}else{cov_2ggf92p3wv().b[12][1]++;}};// get all MAPs by system
cov_2ggf92p3wv().s[42]++;exports.getAllMAPBySystem=async(req,res)=>{cov_2ggf92p3wv().f[5]++;let page=(cov_2ggf92p3wv().s[43]++,req.query.page);let size=(cov_2ggf92p3wv().s[44]++,req.query.size);let searchValue=(cov_2ggf92p3wv().s[45]++,req.query.searchValue);let timeZone=(cov_2ggf92p3wv().s[46]++,req.query.timeZone);const result=(cov_2ggf92p3wv().s[47]++,await mapService.getBySystemId(req.params.sysId,page,size,searchValue,timeZone));cov_2ggf92p3wv().s[48]++;if(result.status=="success"){cov_2ggf92p3wv().b[17][0]++;cov_2ggf92p3wv().s[49]++;return res.status(200).json({data:result.data});}else{cov_2ggf92p3wv().b[17][1]++;cov_2ggf92p3wv().s[50]++;return res.status(result.statusCode?(cov_2ggf92p3wv().b[18][0]++,result.statusCode):(cov_2ggf92p3wv().b[18][1]++,400)).json({message:result.err.message});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIm1hcFNlcnZpY2UiLCJyZXF1aXJlIiwibG9nZ2VyIiwic3RyaW5nVG9NaW51dGVzRGVjb2RlciIsIm1vbWVudCIsImV4cG9ydHMiLCJhZGRNYXAiLCJyZXEiLCJyZXMiLCJwYXlsb2FkIiwicGVyaW9kaWNpdHkiLCJib2R5IiwiYWN0aXZlIiwiZXN0aW1hdGlvbiIsInRhc2siLCJzeXN0ZW0iLCJtb25pdG9yaW5nQWN0Iiwic3RhcnRUaW1lIiwidHoiLCJxdWVyeSIsInRpbWVab25lIiwiZm9ybWF0IiwicmVzdWx0IiwiYWRkTUFQIiwic3RhdHVzIiwianNvbiIsImRhdGEiLCJtZXNzYWdlIiwiZXJyIiwiZ2V0QWxsTWFwcyIsInBhZ2UiLCJzaXplIiwiZ2V0QWxsTUFQc1NlcnZpY2UiLCJnZXRNYXBCeUlkIiwiZ2V0TUFQQnlJZCIsInBhcmFtcyIsImlkIiwic3RhdHVzQ29kZSIsInVwZGF0ZU1hcCIsInJlc3VsdENyZWF0aW9uIiwicmVzdWx0RGVsZXRlIiwiZGVsZXRlTUFQIiwiZGVsZXRlTWFwIiwiZXJyb3IiLCJyb3V0ZSIsImJhc2VVcmwiLCJwYXRoIiwibWV0aG9kIiwiaXAiLCJnZXRBbGxNQVBCeVN5c3RlbSIsInNlYXJjaFZhbHVlIiwiZ2V0QnlTeXN0ZW1JZCIsInN5c0lkIl0sIm1hcHBpbmdzIjoiaWhSQWVZOzJGQWZaO0FBQ0EsS0FBTUEsQ0FBQUEsVUFBVSwwQkFBR0MsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBaEIsQ0FDQSxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHRCxPQUFPLENBQUMsa0JBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTUUsQ0FBQUEsc0JBQXNCLDBCQUFHRixPQUFPLENBQUMsMEJBQUQsQ0FBVixDQUE1QixDQUNBLEtBQU1HLENBQUFBLE1BQU0sMEJBQUdILE9BQU8sQ0FBQyxRQUFELENBQVYsQ0FBWixDQUVBO3dCQUVBSSxPQUFPLENBQUNDLE1BQVIsQ0FBaUIsZUFBZ0JD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SUFGSSxDQUVDLENBQUVFLE9BQU8sQ0FBRUwsTUFBTSxDQUFDTSxHQUFQLENBQVdELE9BQXRCLENBRkQsQ0FBUCxDQUdELENBQ0YsQ0FiRCIsInNvdXJjZXNDb250ZW50IjpbIi8vU2VydmljZSBPYmplY3QgOiBjb250YWlucyB0aGUgYnVzaW5lc3MgbG9naWMgQ1JVRFxuY29uc3QgbWFwU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9tYXBcIik7XG5jb25zdCBsb2dnZXIgPSByZXF1aXJlKFwiLi4vY29uZmlnL2xvZ2dlclwiKTtcbmNvbnN0IHN0cmluZ1RvTWludXRlc0RlY29kZXIgPSByZXF1aXJlKCcuLi91dGlscy9zdHJpbmdUb01pbnV0ZXMnKVxuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbi8vUE9TVCBNYXAgQ29udHJvbGxlclxuXG5leHBvcnRzLmFkZE1hcCA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICBsZXQgcGF5bG9hZCA9IHtcbiAgICBwZXJpb2RpY2l0eTogc3RyaW5nVG9NaW51dGVzRGVjb2RlcihyZXEuYm9keS5wZXJpb2RpY2l0eSksXG4gICAgYWN0aXZlOiByZXEuYm9keS5hY3RpdmUsXG4gICAgZXN0aW1hdGlvbjogc3RyaW5nVG9NaW51dGVzRGVjb2RlcihyZXEuYm9keS5lc3RpbWF0aW9uKSxcbiAgICB0YXNrOiByZXEuYm9keS50YXNrLFxuICAgIHN5c3RlbTogcmVxLmJvZHkuc3lzdGVtLFxuICAgIG1vbml0b3JpbmdBY3Q6IHJlcS5ib2R5Lm1vbml0b3JpbmdBY3QsXG4gICAgc3RhcnRUaW1lOiBzdHJpbmdUb01pbnV0ZXNEZWNvZGVyKG1vbWVudChtb21lbnQudHoocmVxLmJvZHkuc3RhcnRUaW1lLCAnSEg6bW0nLCByZXEucXVlcnkudGltZVpvbmUpKS50eignVVRDJykuZm9ybWF0KCdISDptbScpKVxuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFwU2VydmljZS5hZGRNQVAocGF5bG9hZCk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09IFwic3VjY2Vzc1wiKVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IGRhdGE6IHJlc3VsdC5kYXRhIH0pO1xuICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcImVycm9yXCIpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0LmVyci5tZXNzYWdlIH0pO1xufTtcblxuLy9HRVQgQUxMIE1hcHMgQ29udHJvbGxlclxuXG5leHBvcnRzLmdldEFsbE1hcHMgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgbGV0IHBhZ2UgPSByZXEucXVlcnkucGFnZTtcbiAgbGV0IHNpemUgPSByZXEucXVlcnkuc2l6ZTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFwU2VydmljZS5nZXRBbGxNQVBzU2VydmljZShwYWdlLCBzaXplKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogcmVzdWx0LmRhdGEgfSk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09IFwiZXJyb3JcIilcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSB9KTtcbn07XG5cbi8vR0VUIE1hcCBieSBJZCBDb250cm9sbGVyXG5cbmV4cG9ydHMuZ2V0TWFwQnlJZCA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBtYXBTZXJ2aWNlLmdldE1BUEJ5SWQocmVxLnBhcmFtcy5pZCwgcmVxLnF1ZXJ5LnRpbWVab25lKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJyl7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogcmVzdWx0LmRhdGEgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSA/IHJlc3VsdC5zdGF0dXNDb2RlIDogNDAwKVxuICAgICAgLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2UgfSk7XG4gIH1cbn07XG5cbi8vUEFUQ0ggTWFwIGJ5IElkIENvbnRyb2xsZXJcblxuZXhwb3J0cy51cGRhdGVNYXAgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcblxuICBsZXQgcGF5bG9hZCA9IHtcbiAgICBwZXJpb2RpY2l0eTogc3RyaW5nVG9NaW51dGVzRGVjb2RlcihyZXEuYm9keS5wZXJpb2RpY2l0eSksXG4gICAgYWN0aXZlOiByZXEuYm9keS5hY3RpdmUsXG4gICAgZXN0aW1hdGlvbjogc3RyaW5nVG9NaW51dGVzRGVjb2RlcihyZXEuYm9keS5lc3RpbWF0aW9uKSxcbiAgICB0YXNrOiByZXEuYm9keS50YXNrLFxuICAgIHN5c3RlbTogcmVxLmJvZHkuc3lzdGVtLFxuICAgIG1vbml0b3JpbmdBY3Q6IHJlcS5ib2R5Lm1vbml0b3JpbmdBY3QsXG4gICAgc3RhcnRUaW1lOiBzdHJpbmdUb01pbnV0ZXNEZWNvZGVyKG1vbWVudChtb21lbnQudHoocmVxLmJvZHkuc3RhcnRUaW1lLCAnSEg6bW0nLCByZXEucXVlcnkudGltZVpvbmUpKS50eignVVRDJykuZm9ybWF0KCdISDptbScpKVxuICB9XG5cbiAgY29uc3QgcmVzdWx0Q3JlYXRpb24gPSBhd2FpdCBtYXBTZXJ2aWNlLmFkZE1BUChwYXlsb2FkKTtcbiAgaWYgKHJlc3VsdENyZWF0aW9uLnN0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuXG4gICAgY29uc3QgcmVzdWx0RGVsZXRlID0gYXdhaXQgbWFwU2VydmljZS5kZWxldGVNQVAocmVxLnBhcmFtcy5pZCk7XG5cbiAgICBpZiAocmVzdWx0RGVsZXRlLnN0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgZGF0YTogcmVzdWx0Q3JlYXRpb24uZGF0YSB9KTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHJlc3VsdERlbGV0ZS5zdGF0dXMgPT0gXCJlcnJvclwiKSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMocmVzdWx0RGVsZXRlLnN0YXR1c0NvZGUgPyByZXN1bHREZWxldGUuc3RhdHVzQ29kZSA6IDQwMClcbiAgICAgICAgLmpzb24oeyBtZXNzYWdlOiByZXN1bHREZWxldGUuZXJyLm1lc3NhZ2UgfSk7XG4gICAgfVxuICB9XG4gIGlmIChyZXN1bHRDcmVhdGlvbi5zdGF0dXMgPT0gXCJlcnJvclwiKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogcmVzdWx0Q3JlYXRpb24uZXJyLm1lc3NhZ2UgfSk7XG4gIH1cblxuXG5cbn07XG5cbi8vREVMRVRFIE1hcCBDb250cm9sbGVyXG5cbmV4cG9ydHMuZGVsZXRlTWFwID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1hcFNlcnZpY2UuZGVsZXRlTUFQKHJlcS5wYXJhbXMuaWQpO1xuICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcInN1Y2Nlc3NcIilcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiByZXN1bHQuZGF0YSB9KTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJlcnJvclwiKSB7XG4gICAgbG9nZ2VyLmVycm9yKFxuICAgICAgXCJkZWxldGUgTWFwIEJ5IElkIDpcIiArIHJlc3VsdC5lcnIubWVzc2FnZSxcbiAgICAgIHJlcS5yb3V0ZSA/IHJlcS5iYXNlVXJsICsgcmVxLnJvdXRlLnBhdGggOiBcInRlc3RpbmdcIixcbiAgICAgIHJlcS5tZXRob2QgPyByZXEubWV0aG9kIDogXCJ0ZXN0aW5nXCIsXG4gICAgICByZXEuaXAgPyByZXEuaXAgOiBcInRlc3RpbmdcIlxuICAgICk7XG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSA/IHJlc3VsdC5zdGF0dXNDb2RlIDogNDAwKVxuICAgICAgLmpzb24oeyBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2UgfSk7XG4gIH1cbn07XG5cbi8vIGdldCBhbGwgTUFQcyBieSBzeXN0ZW1cblxuZXhwb3J0cy5nZXRBbGxNQVBCeVN5c3RlbSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBsZXQgcGFnZSA9IHJlcS5xdWVyeS5wYWdlO1xuICBsZXQgc2l6ZSA9IHJlcS5xdWVyeS5zaXplO1xuICBsZXQgc2VhcmNoVmFsdWUgPSByZXEucXVlcnkuc2VhcmNoVmFsdWUgOyBcbiAgbGV0IHRpbWVab25lID0gcmVxLnF1ZXJ5LnRpbWVab25lIDsgXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1hcFNlcnZpY2UuZ2V0QnlTeXN0ZW1JZChyZXEucGFyYW1zLnN5c0lkLCBwYWdlLCBzaXplICwgc2VhcmNoVmFsdWUsIHRpbWVab25lKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiByZXN1bHQuZGF0YSB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlID8gcmVzdWx0LnN0YXR1c0NvZGUgOiA0MDApXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSB9KTtcbiAgfVxufTtcbiJdfQ==