function cov_1eimrl7xr2(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/monitoringActivity/notAssignedActivity.js";var hash="8d66d38710f0ff6e4b01f016ddd87cc12e05b681";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/monitoringActivity/notAssignedActivity.js",statementMap:{"0":{start:{line:1,column:27},end:{line:1,column:69}},"1":{start:{line:2,column:12},end:{line:2,column:68}},"2":{start:{line:4,column:0},end:{line:39,column:2}},"3":{start:{line:5,column:2},end:{line:38,column:3}},"4":{start:{line:6,column:30},end:{line:6,column:32}},"5":{start:{line:8,column:17},end:{line:11,column:13}},"6":{start:{line:12,column:23},end:{line:12,column:83}},"7":{start:{line:14,column:4},end:{line:26,column:5}},"8":{start:{line:15,column:6},end:{line:25,column:9}},"9":{start:{line:16,column:8},end:{line:16,column:18}},"10":{start:{line:17,column:8},end:{line:21,column:11}},"11":{start:{line:18,column:10},end:{line:20,column:11}},"12":{start:{line:19,column:12},end:{line:19,column:23}},"13":{start:{line:22,column:8},end:{line:24,column:9}},"14":{start:{line:23,column:10},end:{line:23,column:38}},"15":{start:{line:28,column:4},end:{line:31,column:6}},"16":{start:{line:33,column:4},end:{line:33,column:23}},"17":{start:{line:34,column:4},end:{line:37,column:6}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:17},end:{line:4,column:18}},loc:{start:{line:4,column:37},end:{line:39,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:25},end:{line:15,column:26}},loc:{start:{line:15,column:32},end:{line:25,column:7}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:21},end:{line:17,column:22}},loc:{start:{line:17,column:28},end:{line:21,column:9}},line:17}},branchMap:{"0":{loc:{start:{line:14,column:4},end:{line:26,column:5}},type:"if",locations:[{start:{line:14,column:4},end:{line:26,column:5}},{start:{line:14,column:4},end:{line:26,column:5}}],line:14},"1":{loc:{start:{line:14,column:8},end:{line:14,column:26}},type:"binary-expr",locations:[{start:{line:14,column:8},end:{line:14,column:12}},{start:{line:14,column:16},end:{line:14,column:26}}],line:14},"2":{loc:{start:{line:18,column:10},end:{line:20,column:11}},type:"if",locations:[{start:{line:18,column:10},end:{line:20,column:11}},{start:{line:18,column:10},end:{line:20,column:11}}],line:18},"3":{loc:{start:{line:22,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:24,column:9}},{start:{line:22,column:8},end:{line:24,column:9}}],line:22}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d66d38710f0ff6e4b01f016ddd87cc12e05b681"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1eimrl7xr2=function(){return actualCoverage;};}return actualCoverage;}cov_1eimrl7xr2();const MonitoringActivity=(cov_1eimrl7xr2().s[0]++,require("../../models/MonitoringActivity"));const MAP=(cov_1eimrl7xr2().s[1]++,require("../../models/MonitoringActivityPlannification"));cov_1eimrl7xr2().s[2]++;module.exports=async systemId=>{cov_1eimrl7xr2().f[0]++;cov_1eimrl7xr2().s[3]++;try{let notAssignedActivity=(cov_1eimrl7xr2().s[4]++,[]);const MAPS=(cov_1eimrl7xr2().s[5]++,await MAP.find({active:true,system:systemId}).populate("monitoringAct").lean().exec());const activities=(cov_1eimrl7xr2().s[6]++,await MonitoringActivity.find({isActive:true}).lean().exec());cov_1eimrl7xr2().s[7]++;if((cov_1eimrl7xr2().b[1][0]++,MAPS)&&(cov_1eimrl7xr2().b[1][1]++,activities)){cov_1eimrl7xr2().b[0][0]++;cov_1eimrl7xr2().s[8]++;activities.forEach(a=>{cov_1eimrl7xr2().f[1]++;cov_1eimrl7xr2().s[9]++;ok=true;cov_1eimrl7xr2().s[10]++;MAPS.forEach(m=>{cov_1eimrl7xr2().f[2]++;cov_1eimrl7xr2().s[11]++;if(m.monitoringAct._id.toString()===a._id.toString()){cov_1eimrl7xr2().b[2][0]++;cov_1eimrl7xr2().s[12]++;ok=false;}else{cov_1eimrl7xr2().b[2][1]++;}});cov_1eimrl7xr2().s[13]++;if(ok){cov_1eimrl7xr2().b[3][0]++;cov_1eimrl7xr2().s[14]++;notAssignedActivity.push(a);}else{cov_1eimrl7xr2().b[3][1]++;}});}else{cov_1eimrl7xr2().b[0][1]++;}cov_1eimrl7xr2().s[15]++;return{data:notAssignedActivity,status:"success"};}catch(err){cov_1eimrl7xr2().s[16]++;console.error(err);cov_1eimrl7xr2().s[17]++;return{err,status:"error"};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdEFzc2lnbmVkQWN0aXZpdHkuanMiXSwibmFtZXMiOlsiTW9uaXRvcmluZ0FjdGl2aXR5IiwicmVxdWlyZSIsIk1BUCIsIm1vZHVsZSIsImV4cG9ydHMiLCJzeXN0ZW1JZCIsIm5vdEFzc2lnbmVkQWN0aXZpdHkiLCJNQVBTIiwiZmluZCIsImFjdGl2ZSIsInN5c3RlbSIsInBvcHVsYXRlIiwibGVhbiIsImV4ZWMiLCJhY3Rpdml0aWVzIiwiaXNBY3RpdmUiLCJmb3JFYWNoIiwiYSIsIm9rIiwibSIsIm1vbml0b3JpbmdBY3QiLCJfaWQiLCJ0b1N0cmluZyIsInB1c2giLCJkYXRhIiwic3RhdHVzIiwiZXJyIiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiby9GQWVZOzJGQWZaLEtBQU1BLENBQUFBLGtCQUFrQiwwQkFBR0MsT0FBTyxDQUFDLGlDQUFELENBQVYsQ0FBeEIsQ0FDQSxLQUFNQyxDQUFBQSxHQUFHLDBCQUFHRCxPQUFPLENBQUMsK0NBQUQsQ0FBVixDQUFULEMsd0JBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixLQUFPQyxDQUFBQSxRQUFQLEVBQW9CLGlEQUNuQyxHQUFJLENBQ0YsR0FBSUMsQ0FBQUEsbUJBQW1CLDBCQUFHLEVBQUgsQ0FBdkIsQ0FFQSxLQUFNQyxDQUFBQSxJQUFJLDBCQUFHLEtBQU1MLENBQUFBLEdBQUcsQ0FBQ00sSUFBSixDQUFTLENBQUVDLE1BQU0sQ0FBRSxJQUFWLENBQWdCQyxNQUFNLENBQUVMLFFBQXhCLENBQVQsRUFDaEJNLFFBRGdCLENBQ1AsZUFETyxFQUVoQkMsSUFGZ0IsR0FHaEJDLElBSGdCLEVBQVQsQ0FBVixDQUlBLEtBQU1DLENBQUFBLFVBQVUsMEJBQUcsS0FBTWQsQ0FBQUEsa0JBQWtCLENBQUNRLElBQW5CLENBQXdCLENBQUNPLFFBQVEsQ0FBQyxJQUFWLENBQXhCLEVBQXlDSCxJQUF6QyxHQUFnREMsSUFBaEQsRUFBVCxDQUFoQixDQVBFLHdCQVNGLEdBQUksNEJBQUFOLElBQUksK0JBQUlPLFVBQUosQ0FBUixDQUF3QixvREFDdEJBLFVBQVUsQ0FBQ0UsT0FBWCxDQUFvQkMsQ0FBRCxFQUFPLGlEQUN4QkMsRUFBRSxDQUFHLElBQUwsQ0FEd0IseUJBRXhCWCxJQUFJLENBQUNTLE9BQUwsQ0FBY0csQ0FBRCxFQUFPLGtEQUNsQixHQUFJQSxDQUFDLENBQUNDLGFBQUYsQ0FBZ0JDLEdBQWhCLENBQW9CQyxRQUFwQixLQUFtQ0wsQ0FBQyxDQUFDSSxHQUFGLENBQU1DLFFBQU4sRUFBdkMsQ0FBeUQscURBQ3ZESixFQUFFLENBQUcsS0FBTCxDQUNELENBRkQsaUNBR0QsQ0FKRCxFQUZ3Qix5QkFPeEIsR0FBSUEsRUFBSixDQUFRLHFEQUNOWixtQkFBbUIsQ0FBQ2lCLElBQXBCLENBQXlCTixDQUF6QixFQUNELENBRkQsaUNBR0QsQ0FWRCxFQVdELENBWkQsaUNBVEUseUJBdUJGLE1BQU8sQ0FDTE8sSUFBSSxDQUFFbEIsbUJBREQsQ0FFTG1CLE1BQU0sQ0FBRSxTQUZILENBQVAsQ0FJRCxDQUFDLE1BQU9DLEdBQVAsQ0FBWSwwQkFDWkMsT0FBTyxDQUFDQyxLQUFSLENBQWNGLEdBQWQsRUFEWSx5QkFFWixNQUFPLENBQ0xBLEdBREssQ0FFTEQsTUFBTSxDQUFFLE9BRkgsQ0FBUCxDQUlELENBQ0YsQ0FuQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNb25pdG9yaW5nQWN0aXZpdHkgPSByZXF1aXJlKFwiLi4vLi4vbW9kZWxzL01vbml0b3JpbmdBY3Rpdml0eVwiKTtcbmNvbnN0IE1BUCA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHMvTW9uaXRvcmluZ0FjdGl2aXR5UGxhbm5pZmljYXRpb25cIik7XG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKHN5c3RlbUlkKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IG5vdEFzc2lnbmVkQWN0aXZpdHkgPSBbXTtcblxuICAgIGNvbnN0IE1BUFMgPSBhd2FpdCBNQVAuZmluZCh7IGFjdGl2ZTogdHJ1ZSwgc3lzdGVtOiBzeXN0ZW1JZCB9KVxuICAgICAgLnBvcHVsYXRlKFwibW9uaXRvcmluZ0FjdFwiKVxuICAgICAgLmxlYW4oKVxuICAgICAgLmV4ZWMoKTtcbiAgICBjb25zdCBhY3Rpdml0aWVzID0gYXdhaXQgTW9uaXRvcmluZ0FjdGl2aXR5LmZpbmQoe2lzQWN0aXZlOnRydWV9KS5sZWFuKCkuZXhlYygpO1xuXG4gICAgaWYgKE1BUFMgJiYgYWN0aXZpdGllcykge1xuICAgICAgYWN0aXZpdGllcy5mb3JFYWNoKChhKSA9PiB7XG4gICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgTUFQUy5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgICAgaWYgKG0ubW9uaXRvcmluZ0FjdC5faWQudG9TdHJpbmcoKSA9PT0gYS5faWQudG9TdHJpbmcoKSkge1xuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBub3RBc3NpZ25lZEFjdGl2aXR5LnB1c2goYSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBub3RBc3NpZ25lZEFjdGl2aXR5LFxuICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycixcbiAgICAgIHN0YXR1czogXCJlcnJvclwiLFxuICAgIH07XG4gIH1cbn07XG4iXX0=