function cov_27mt5ljulg(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/services/customerContact/getCustomerContactByCustomer.service.js";var hash="7d842ba96d1fa697f4383d828b7b3eaa92b169d9";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/services/customerContact/getCustomerContactByCustomer.service.js",statementMap:{"0":{start:{line:1,column:24},end:{line:1,column:63}},"1":{start:{line:2,column:0},end:{line:43,column:2}},"2":{start:{line:3,column:2},end:{line:42,column:3}},"3":{start:{line:4,column:20},end:{line:4,column:56}},"4":{start:{line:5,column:21},end:{line:5,column:44}},"5":{start:{line:6,column:24},end:{line:13,column:5}},"6":{start:{line:15,column:4},end:{line:22,column:7}},"7":{start:{line:16,column:6},end:{line:21,column:9}},"8":{start:{line:24,column:17},end:{line:31,column:5}},"9":{start:{line:33,column:4},end:{line:36,column:6}},"10":{start:{line:38,column:4},end:{line:41,column:6}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:17},end:{line:2,column:18}},loc:{start:{line:2,column:64},end:{line:43,column:1}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:18},end:{line:15,column:19}},loc:{start:{line:15,column:38},end:{line:22,column:5}},line:15}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7d842ba96d1fa697f4383d828b7b3eaa92b169d9"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_27mt5ljulg=function(){return actualCoverage;};}return actualCoverage;}cov_27mt5ljulg();const CustomerContact=(cov_27mt5ljulg().s[0]++,require('../../models/CustomerContact'));cov_27mt5ljulg().s[1]++;module.exports=async(customerId,page,size,searchValue)=>{cov_27mt5ljulg().f[0]++;cov_27mt5ljulg().s[2]++;try{const options=(cov_27mt5ljulg().s[3]++,{offset:page*size,limit:size});const mySearch=(cov_27mt5ljulg().s[4]++,searchValue?.split(' '));const searchArray=(cov_27mt5ljulg().s[5]++,[{$or:[{lastName:{$regex:'',$options:'i'}},{mail:{$regex:'',$options:'i'}}]}]);cov_27mt5ljulg().s[6]++;mySearch?.map(searchFragment=>{cov_27mt5ljulg().f[1]++;cov_27mt5ljulg().s[7]++;searchArray.push({$or:[{lastName:{$regex:searchFragment,$options:'i'}},{mail:{$regex:searchFragment,$options:'i'}}]});});const docs=(cov_27mt5ljulg().s[8]++,await CustomerContact.paginate({customer:customerId,isActive:true,$and:searchArray},options));cov_27mt5ljulg().s[9]++;return{data:docs,status:'success'};}catch(err){cov_27mt5ljulg().s[10]++;return{err,status:'error'};}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldEN1c3RvbWVyQ29udGFjdEJ5Q3VzdG9tZXIuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDdXN0b21lckNvbnRhY3QiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN1c3RvbWVySWQiLCJwYWdlIiwic2l6ZSIsInNlYXJjaFZhbHVlIiwib3B0aW9ucyIsIm9mZnNldCIsImxpbWl0IiwibXlTZWFyY2giLCJzcGxpdCIsInNlYXJjaEFycmF5IiwiJG9yIiwibGFzdE5hbWUiLCIkcmVnZXgiLCIkb3B0aW9ucyIsIm1haWwiLCJtYXAiLCJzZWFyY2hGcmFnbWVudCIsInB1c2giLCJkb2NzIiwicGFnaW5hdGUiLCJjdXN0b21lciIsImlzQWN0aXZlIiwiJGFuZCIsImRhdGEiLCJzdGF0dXMiLCJlcnIiXSwibWFwcGluZ3MiOiJ5b0RBZVk7MkZBZlosS0FBTUEsQ0FBQUEsZUFBZSwwQkFBR0MsT0FBTyxDQUFDLDhCQUFELENBQVYsQ0FBckIsQyx3QkFDQUMsTUFBTSxDQUFDQyxPQUFQLENBQWlCLE1BQU9DLFVBQVAsQ0FBbUJDLElBQW5CLENBQXlCQyxJQUF6QixDQUErQkMsV0FBL0IsR0FBK0MsaURBQzlELEdBQUksQ0FDRixLQUFNQyxDQUFBQSxPQUFPLDBCQUFHLENBQUVDLE1BQU0sQ0FBRUosSUFBSSxDQUFHQyxJQUFqQixDQUF1QkksS0FBSyxDQUFFSixJQUE5QixDQUFILENBQWIsQ0FDQSxLQUFNSyxDQUFBQSxRQUFRLDBCQUFHSixXQUFXLEVBQUVLLEtBQWIsQ0FBbUIsR0FBbkIsQ0FBSCxDQUFkLENBQ0EsS0FBTUMsQ0FBQUEsV0FBVywwQkFBRyxDQUNsQixDQUNFQyxHQUFHLENBQUUsQ0FDSCxDQUFFQyxRQUFRLENBQUUsQ0FBRUMsTUFBTSxDQUFFLEVBQVYsQ0FBY0MsUUFBUSxDQUFFLEdBQXhCLENBQVosQ0FERyxDQUVILENBQUVDLElBQUksQ0FBRSxDQUFFRixNQUFNLENBQUUsRUFBVixDQUFjQyxRQUFRLENBQUUsR0FBeEIsQ0FBUixDQUZHLENBRFAsQ0FEa0IsQ0FBSCxDQUFqQixDQUhFLHdCQVlGTixRQUFRLEVBQUVRLEdBQVYsQ0FBZUMsY0FBRCxFQUFvQixpREFDaENQLFdBQVcsQ0FBQ1EsSUFBWixDQUFpQixDQUNmUCxHQUFHLENBQUUsQ0FDSCxDQUFFQyxRQUFRLENBQUUsQ0FBRUMsTUFBTSxDQUFFSSxjQUFWLENBQTBCSCxRQUFRLENBQUUsR0FBcEMsQ0FBWixDQURHLENBRUgsQ0FBRUMsSUFBSSxDQUFFLENBQUVGLE1BQU0sQ0FBRUksY0FBVixDQUEwQkgsUUFBUSxDQUFFLEdBQXBDLENBQVIsQ0FGRyxDQURVLENBQWpCLEVBTUQsQ0FQRCxFQVNBLEtBQU1LLENBQUFBLElBQUksMEJBQUcsS0FBTXRCLENBQUFBLGVBQWUsQ0FBQ3VCLFFBQWhCLENBQ2pCLENBQ0VDLFFBQVEsQ0FBRXBCLFVBRFosQ0FFRXFCLFFBQVEsQ0FBRSxJQUZaLENBR0VDLElBQUksQ0FBRWIsV0FIUixDQURpQixDQU1qQkwsT0FOaUIsQ0FBVCxDQUFWLENBckJFLHdCQThCRixNQUFPLENBQ0xtQixJQUFJLENBQUVMLElBREQsQ0FFTE0sTUFBTSxDQUFFLFNBRkgsQ0FBUCxDQUlELENBQUMsTUFBT0MsR0FBUCxDQUFZLDBCQUNaLE1BQU8sQ0FDTEEsR0FESyxDQUVMRCxNQUFNLENBQUUsT0FGSCxDQUFQLENBSUQsQ0FDRixDQXpDRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEN1c3RvbWVyQ29udGFjdCA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9DdXN0b21lckNvbnRhY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKGN1c3RvbWVySWQsIHBhZ2UsIHNpemUsIHNlYXJjaFZhbHVlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgb2Zmc2V0OiBwYWdlICogc2l6ZSwgbGltaXQ6IHNpemUgfTtcbiAgICBjb25zdCBteVNlYXJjaCA9IHNlYXJjaFZhbHVlPy5zcGxpdCgnICcpO1xuICAgIGNvbnN0IHNlYXJjaEFycmF5ID0gW1xuICAgICAge1xuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7IGxhc3ROYW1lOiB7ICRyZWdleDogJycsICRvcHRpb25zOiAnaScgfSB9LFxuICAgICAgICAgIHsgbWFpbDogeyAkcmVnZXg6ICcnLCAkb3B0aW9uczogJ2knIH0gfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXTtcblxuICAgIG15U2VhcmNoPy5tYXAoKHNlYXJjaEZyYWdtZW50KSA9PiB7XG4gICAgICBzZWFyY2hBcnJheS5wdXNoKHtcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAgeyBsYXN0TmFtZTogeyAkcmVnZXg6IHNlYXJjaEZyYWdtZW50LCAkb3B0aW9uczogJ2knIH0gfSxcbiAgICAgICAgICB7IG1haWw6IHsgJHJlZ2V4OiBzZWFyY2hGcmFnbWVudCwgJG9wdGlvbnM6ICdpJyB9IH1cbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkb2NzID0gYXdhaXQgQ3VzdG9tZXJDb250YWN0LnBhZ2luYXRlKFxuICAgICAge1xuICAgICAgICBjdXN0b21lcjogY3VzdG9tZXJJZCxcbiAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICRhbmQ6IHNlYXJjaEFycmF5XG4gICAgICB9LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogZG9jcyxcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycixcbiAgICAgIHN0YXR1czogJ2Vycm9yJ1xuICAgIH07XG4gIH1cbn07XG4iXX0=