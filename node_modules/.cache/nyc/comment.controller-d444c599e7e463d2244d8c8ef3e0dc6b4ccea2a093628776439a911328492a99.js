function cov_10v463293e(){var path="/home/azer/Desktop/jenkins/app/monitoringApp/controllers/comment.controller.js";var hash="fd21e0fd405ab572394265964d4e001766aff8a8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/azer/Desktop/jenkins/app/monitoringApp/controllers/comment.controller.js",statementMap:{"0":{start:{line:1,column:23},end:{line:1,column:53}},"1":{start:{line:2,column:19},end:{line:2,column:40}},"2":{start:{line:3,column:20},end:{line:3,column:47}},"3":{start:{line:5,column:0},end:{line:35,column:2}},"4":{start:{line:6,column:17},end:{line:6,column:30}},"5":{start:{line:7,column:22},end:{line:7,column:54}},"6":{start:{line:8,column:2},end:{line:34,column:3}},"7":{start:{line:9,column:26},end:{line:9,column:57}},"8":{start:{line:11,column:17},end:{line:16,column:5}},"9":{start:{line:17,column:19},end:{line:17,column:56}},"10":{start:{line:18,column:4},end:{line:28,column:5}},"11":{start:{line:19,column:6},end:{line:22,column:9}},"12":{start:{line:24,column:6},end:{line:27,column:9}},"13":{start:{line:30,column:4},end:{line:33,column:7}},"14":{start:{line:36,column:18},end:{line:45,column:1}},"15":{start:{line:37,column:19},end:{line:37,column:55}},"16":{start:{line:38,column:16},end:{line:38,column:21}},"17":{start:{line:39,column:2},end:{line:43,column:5}},"18":{start:{line:40,column:4},end:{line:42,column:5}},"19":{start:{line:41,column:6},end:{line:41,column:21}},"20":{start:{line:44,column:2},end:{line:44,column:17}},"21":{start:{line:46,column:23},end:{line:52,column:1}},"22":{start:{line:47,column:2},end:{line:51,column:3}},"23":{start:{line:48,column:4},end:{line:48,column:16}},"24":{start:{line:50,column:4},end:{line:50,column:17}},"25":{start:{line:53,column:0},end:{line:97,column:2}},"26":{start:{line:54,column:20},end:{line:54,column:33}},"27":{start:{line:55,column:18},end:{line:55,column:64}},"28":{start:{line:56,column:2},end:{line:61,column:3}},"29":{start:{line:57,column:4},end:{line:60,column:7}},"30":{start:{line:62,column:22},end:{line:62,column:54}},"31":{start:{line:63,column:2},end:{line:96,column:3}},"32":{start:{line:64,column:26},end:{line:64,column:57}},"33":{start:{line:65,column:20},end:{line:65,column:50}},"34":{start:{line:66,column:28},end:{line:66,column:66}},"35":{start:{line:67,column:4},end:{line:90,column:5}},"36":{start:{line:68,column:19},end:{line:71,column:7}},"37":{start:{line:72,column:21},end:{line:72,column:70}},"38":{start:{line:73,column:6},end:{line:84,column:7}},"39":{start:{line:74,column:8},end:{line:78,column:11}},"40":{start:{line:80,column:8},end:{line:83,column:11}},"41":{start:{line:86,column:6},end:{line:89,column:9}},"42":{start:{line:92,column:4},end:{line:95,column:7}},"43":{start:{line:98,column:0},end:{line:140,column:2}},"44":{start:{line:99,column:20},end:{line:99,column:33}},"45":{start:{line:100,column:18},end:{line:100,column:64}},"46":{start:{line:101,column:2},end:{line:139,column:3}},"47":{start:{line:102,column:24},end:{line:102,column:56}},"48":{start:{line:103,column:4},end:{line:133,column:5}},"49":{start:{line:104,column:28},end:{line:104,column:59}},"50":{start:{line:105,column:22},end:{line:105,column:52}},"51":{start:{line:106,column:30},end:{line:106,column:68}},"52":{start:{line:107,column:6},end:{line:127,column:7}},"53":{start:{line:108,column:23},end:{line:108,column:68}},"54":{start:{line:109,column:8},end:{line:121,column:9}},"55":{start:{line:110,column:10},end:{line:114,column:13}},"56":{start:{line:116,column:10},end:{line:120,column:13}},"57":{start:{line:123,column:8},end:{line:126,column:11}},"58":{start:{line:129,column:6},end:{line:132,column:9}},"59":{start:{line:135,column:4},end:{line:138,column:7}},"60":{start:{line:142,column:0},end:{line:183,column:2}},"61":{start:{line:143,column:20},end:{line:143,column:33}},"62":{start:{line:144,column:18},end:{line:144,column:64}},"63":{start:{line:145,column:2},end:{line:182,column:3}},"64":{start:{line:146,column:24},end:{line:146,column:56}},"65":{start:{line:147,column:4},end:{line:176,column:5}},"66":{start:{line:148,column:28},end:{line:148,column:59}},"67":{start:{line:149,column:22},end:{line:149,column:52}},"68":{start:{line:150,column:6},end:{line:170,column:7}},"69":{start:{line:151,column:23},end:{line:151,column:67}},"70":{start:{line:152,column:8},end:{line:164,column:9}},"71":{start:{line:153,column:10},end:{line:157,column:13}},"72":{start:{line:159,column:10},end:{line:163,column:13}},"73":{start:{line:166,column:8},end:{line:169,column:11}},"74":{start:{line:172,column:6},end:{line:175,column:9}},"75":{start:{line:178,column:4},end:{line:181,column:7}},"76":{start:{line:185,column:0},end:{line:199,column:2}},"77":{start:{line:186,column:17},end:{line:186,column:30}},"78":{start:{line:187,column:17},end:{line:187,column:65}},"79":{start:{line:188,column:2},end:{line:198,column:3}},"80":{start:{line:189,column:4},end:{line:192,column:7}},"81":{start:{line:194,column:4},end:{line:197,column:7}},"82":{start:{line:201,column:0},end:{line:215,column:2}},"83":{start:{line:202,column:17},end:{line:202,column:30}},"84":{start:{line:203,column:17},end:{line:203,column:65}},"85":{start:{line:204,column:2},end:{line:214,column:3}},"86":{start:{line:205,column:4},end:{line:208,column:7}},"87":{start:{line:210,column:4},end:{line:213,column:7}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:21},end:{line:5,column:22}},loc:{start:{line:5,column:47},end:{line:35,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:36,column:18},end:{line:36,column:19}},loc:{start:{line:36,column:36},end:{line:45,column:1}},line:36},"2":{name:"(anonymous_2)",decl:{start:{line:39,column:11},end:{line:39,column:12}},loc:{start:{line:39,column:19},end:{line:43,column:3}},line:39},"3":{name:"(anonymous_3)",decl:{start:{line:46,column:23},end:{line:46,column:24}},loc:{start:{line:46,column:44},end:{line:52,column:1}},line:46},"4":{name:"(anonymous_4)",decl:{start:{line:53,column:22},end:{line:53,column:23}},loc:{start:{line:53,column:48},end:{line:97,column:1}},line:53},"5":{name:"(anonymous_5)",decl:{start:{line:98,column:24},end:{line:98,column:25}},loc:{start:{line:98,column:50},end:{line:140,column:1}},line:98},"6":{name:"(anonymous_6)",decl:{start:{line:142,column:23},end:{line:142,column:24}},loc:{start:{line:142,column:49},end:{line:183,column:1}},line:142},"7":{name:"(anonymous_7)",decl:{start:{line:185,column:30},end:{line:185,column:31}},loc:{start:{line:185,column:56},end:{line:199,column:1}},line:185},"8":{name:"(anonymous_8)",decl:{start:{line:201,column:30},end:{line:201,column:31}},loc:{start:{line:201,column:56},end:{line:215,column:1}},line:201}},branchMap:{"0":{loc:{start:{line:18,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:28,column:5}},{start:{line:18,column:4},end:{line:28,column:5}}],line:18},"1":{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:40,column:4},end:{line:42,column:5}}],line:40},"2":{loc:{start:{line:40,column:8},end:{line:40,column:89}},type:"binary-expr",locations:[{start:{line:40,column:8},end:{line:40,column:39}},{start:{line:40,column:43},end:{line:40,column:89}}],line:40},"3":{loc:{start:{line:47,column:2},end:{line:51,column:3}},type:"if",locations:[{start:{line:47,column:2},end:{line:51,column:3}},{start:{line:47,column:2},end:{line:51,column:3}}],line:47},"4":{loc:{start:{line:56,column:2},end:{line:61,column:3}},type:"if",locations:[{start:{line:56,column:2},end:{line:61,column:3}},{start:{line:56,column:2},end:{line:61,column:3}}],line:56},"5":{loc:{start:{line:67,column:4},end:{line:90,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:90,column:5}},{start:{line:67,column:4},end:{line:90,column:5}}],line:67},"6":{loc:{start:{line:67,column:8},end:{line:67,column:34}},type:"binary-expr",locations:[{start:{line:67,column:8},end:{line:67,column:15}},{start:{line:67,column:19},end:{line:67,column:34}}],line:67},"7":{loc:{start:{line:73,column:6},end:{line:84,column:7}},type:"if",locations:[{start:{line:73,column:6},end:{line:84,column:7}},{start:{line:73,column:6},end:{line:84,column:7}}],line:73},"8":{loc:{start:{line:101,column:2},end:{line:139,column:3}},type:"if",locations:[{start:{line:101,column:2},end:{line:139,column:3}},{start:{line:101,column:2},end:{line:139,column:3}}],line:101},"9":{loc:{start:{line:107,column:6},end:{line:127,column:7}},type:"if",locations:[{start:{line:107,column:6},end:{line:127,column:7}},{start:{line:107,column:6},end:{line:127,column:7}}],line:107},"10":{loc:{start:{line:107,column:10},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:10},end:{line:107,column:17}},{start:{line:107,column:21},end:{line:107,column:36}}],line:107},"11":{loc:{start:{line:109,column:8},end:{line:121,column:9}},type:"if",locations:[{start:{line:109,column:8},end:{line:121,column:9}},{start:{line:109,column:8},end:{line:121,column:9}}],line:109},"12":{loc:{start:{line:145,column:2},end:{line:182,column:3}},type:"if",locations:[{start:{line:145,column:2},end:{line:182,column:3}},{start:{line:145,column:2},end:{line:182,column:3}}],line:145},"13":{loc:{start:{line:150,column:6},end:{line:170,column:7}},type:"if",locations:[{start:{line:150,column:6},end:{line:170,column:7}},{start:{line:150,column:6},end:{line:170,column:7}}],line:150},"14":{loc:{start:{line:152,column:8},end:{line:164,column:9}},type:"if",locations:[{start:{line:152,column:8},end:{line:164,column:9}},{start:{line:152,column:8},end:{line:164,column:9}}],line:152},"15":{loc:{start:{line:188,column:2},end:{line:198,column:3}},type:"if",locations:[{start:{line:188,column:2},end:{line:198,column:3}},{start:{line:188,column:2},end:{line:198,column:3}}],line:188},"16":{loc:{start:{line:204,column:2},end:{line:214,column:3}},type:"if",locations:[{start:{line:204,column:2},end:{line:214,column:3}},{start:{line:204,column:2},end:{line:214,column:3}}],line:204}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fd21e0fd405ab572394265964d4e001766aff8a8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_10v463293e=function(){return actualCoverage;};}return actualCoverage;}cov_10v463293e();const CommentService=(cov_10v463293e().s[0]++,require('../services/comment'));const jwt_decode=(cov_10v463293e().s[1]++,require('jwt-decode'));const roleService=(cov_10v463293e().s[2]++,require('../services/role'));cov_10v463293e().s[3]++;exports.addComment=async function(req,res){cov_10v463293e().f[0]++;const feedID=(cov_10v463293e().s[4]++,req.params.id);const accessToken=(cov_10v463293e().s[5]++,req.header('x-auth-accessToken'));cov_10v463293e().s[6]++;try{const currentUserID=(cov_10v463293e().s[7]++,jwt_decode(accessToken).user.id);const body=(cov_10v463293e().s[8]++,{content:req.body.content,feed:feedID,user:currentUserID,isActive:true});const result=(cov_10v463293e().s[9]++,await CommentService.addComment(body));cov_10v463293e().s[10]++;if(result.status==='success'){cov_10v463293e().b[0][0]++;cov_10v463293e().s[11]++;res.status(result.statusCode).json({message:'Successfully added the comment',data:result.data});}else{cov_10v463293e().b[0][1]++;cov_10v463293e().s[12]++;res.status(result.statusCode).json({status:result.status,message:result.err.message});}}catch(error){cov_10v463293e().s[13]++;res.status(401).json({status:'error',message:'Invalid Token'});}};cov_10v463293e().s[14]++;const isAnAdmin=async userID=>{cov_10v463293e().f[1]++;const{data}=(cov_10v463293e().s[15]++,await roleService.getRolesForUsers());let isAdmin=(cov_10v463293e().s[16]++,false);cov_10v463293e().s[17]++;data.map(item=>{cov_10v463293e().f[2]++;cov_10v463293e().s[18]++;if((cov_10v463293e().b[2][0]++,item.user.toString()===userID)&&(cov_10v463293e().b[2][1]++,item.role.label.toString()==='Administrator')){cov_10v463293e().b[1][0]++;cov_10v463293e().s[19]++;isAdmin=true;}else{cov_10v463293e().b[1][1]++;}});cov_10v463293e().s[20]++;return isAdmin;};cov_10v463293e().s[21]++;const isCommentOwner=(comment,userID)=>{cov_10v463293e().f[3]++;cov_10v463293e().s[22]++;if(comment.data.user.toString()===userID){cov_10v463293e().b[3][0]++;cov_10v463293e().s[23]++;return true;}else{cov_10v463293e().b[3][1]++;cov_10v463293e().s[24]++;return false;}};cov_10v463293e().s[25]++;exports.editComment=async function(req,res){cov_10v463293e().f[4]++;const commentID=(cov_10v463293e().s[26]++,req.params.id);const comment=(cov_10v463293e().s[27]++,await CommentService.getCommentByID(commentID));cov_10v463293e().s[28]++;if(comment.statusCode===204){cov_10v463293e().b[4][0]++;cov_10v463293e().s[29]++;res.status(204).json({status:'error',message:'Comment not found'});}else{cov_10v463293e().b[4][1]++;}const accessToken=(cov_10v463293e().s[30]++,req.header('x-auth-accessToken'));cov_10v463293e().s[31]++;try{const currentUserID=(cov_10v463293e().s[32]++,jwt_decode(accessToken).user.id);const isAdmin=(cov_10v463293e().s[33]++,await isAnAdmin(currentUserID));const isaCommentOwner=(cov_10v463293e().s[34]++,isCommentOwner(comment,currentUserID));cov_10v463293e().s[35]++;if((cov_10v463293e().b[6][0]++,isAdmin)||(cov_10v463293e().b[6][1]++,isaCommentOwner)){cov_10v463293e().b[5][0]++;const body=(cov_10v463293e().s[36]++,{content:req.body.content,isActive:req.body.isActive});const result=(cov_10v463293e().s[37]++,await CommentService.editComment(commentID,body));cov_10v463293e().s[38]++;if(result.status==='success'){cov_10v463293e().b[7][0]++;cov_10v463293e().s[39]++;res.status(result.statusCode).json({status:result.status,data:result.data,message:'Successfully edited the comment'});}else{cov_10v463293e().b[7][1]++;cov_10v463293e().s[40]++;res.status(result.statusCode).json({status:result.status,message:result.err.message});}}else{cov_10v463293e().b[5][1]++;cov_10v463293e().s[41]++;res.status(403).json({status:'error',message:'You are not authorized to edit this comment'});}}catch(error){cov_10v463293e().s[42]++;res.status(401).json({status:'error',message:'Invalid Token'});}};cov_10v463293e().s[43]++;exports.deleteComment=async function(req,res){cov_10v463293e().f[5]++;const commentID=(cov_10v463293e().s[44]++,req.params.id);const comment=(cov_10v463293e().s[45]++,await CommentService.getCommentByID(commentID));cov_10v463293e().s[46]++;if(comment.statusCode===200){cov_10v463293e().b[8][0]++;const accessToken=(cov_10v463293e().s[47]++,req.header('x-auth-accessToken'));cov_10v463293e().s[48]++;try{const currentUserID=(cov_10v463293e().s[49]++,jwt_decode(accessToken).user.id);const isAdmin=(cov_10v463293e().s[50]++,await isAnAdmin(currentUserID));const isaCommentOwner=(cov_10v463293e().s[51]++,isCommentOwner(comment,currentUserID));cov_10v463293e().s[52]++;if((cov_10v463293e().b[10][0]++,isAdmin)||(cov_10v463293e().b[10][1]++,isaCommentOwner)){cov_10v463293e().b[9][0]++;const result=(cov_10v463293e().s[53]++,await CommentService.deleteComment(commentID));cov_10v463293e().s[54]++;if(result.status==='success'){cov_10v463293e().b[11][0]++;cov_10v463293e().s[55]++;res.status(result.statusCode).json({status:result.status,data:result.data,message:'Successfully deleted the comment'});}else{cov_10v463293e().b[11][1]++;cov_10v463293e().s[56]++;res.status(result.statusCode).json({status:result.status,message:result.err.message,statusCode:result.statusCode});}}else{cov_10v463293e().b[9][1]++;cov_10v463293e().s[57]++;res.status(403).json({status:'error',message:'You are not authorized to edit this comment'});}}catch(error){cov_10v463293e().s[58]++;res.status(401).json({status:'error',message:'Invalid Token'});}}else{cov_10v463293e().b[8][1]++;cov_10v463293e().s[59]++;res.status(comment.statusCode).json({status:comment.status,message:comment.err.message});}};cov_10v463293e().s[60]++;exports.blockComment=async function(req,res){cov_10v463293e().f[6]++;const commentID=(cov_10v463293e().s[61]++,req.params.id);const comment=(cov_10v463293e().s[62]++,await CommentService.getCommentByID(commentID));cov_10v463293e().s[63]++;if(comment.statusCode===200){cov_10v463293e().b[12][0]++;const accessToken=(cov_10v463293e().s[64]++,req.header('x-auth-accessToken'));cov_10v463293e().s[65]++;try{const currentUserID=(cov_10v463293e().s[66]++,jwt_decode(accessToken).user.id);const isAdmin=(cov_10v463293e().s[67]++,await isAnAdmin(currentUserID));cov_10v463293e().s[68]++;if(isAdmin){cov_10v463293e().b[13][0]++;const result=(cov_10v463293e().s[69]++,await CommentService.blockComment(commentID));cov_10v463293e().s[70]++;if(result.status==='success'){cov_10v463293e().b[14][0]++;cov_10v463293e().s[71]++;res.status(result.statusCode).json({status:result.status,data:result.data,message:'Successfully blocked the comment'});}else{cov_10v463293e().b[14][1]++;cov_10v463293e().s[72]++;res.status(result.statusCode).json({status:result.status,message:result.err.message,statusCode:result.statusCode});}}else{cov_10v463293e().b[13][1]++;cov_10v463293e().s[73]++;res.status(403).json({status:'error',message:'You are not authorized to edit this comment'});}}catch(error){cov_10v463293e().s[74]++;res.status(401).json({status:'error',message:'Invalid Token'});}}else{cov_10v463293e().b[12][1]++;cov_10v463293e().s[75]++;res.status(comment.statusCode).json({status:comment.status,message:comment.err.message});}};cov_10v463293e().s[76]++;exports.getCommentsByFeedID=async function(req,res){cov_10v463293e().f[7]++;const feedID=(cov_10v463293e().s[77]++,req.params.id);const result=(cov_10v463293e().s[78]++,await CommentService.getCommentsByFeedID(feedID));cov_10v463293e().s[79]++;if(result.statusCode===200){cov_10v463293e().b[15][0]++;cov_10v463293e().s[80]++;res.status(result.statusCode).json({data:result.data,status:result.status});}else{cov_10v463293e().b[15][1]++;cov_10v463293e().s[81]++;res.status(result.statusCode).json({status:result.status,message:result.err.message});}};cov_10v463293e().s[82]++;exports.getCommentsByUserID=async function(req,res){cov_10v463293e().f[8]++;const userID=(cov_10v463293e().s[83]++,req.params.id);const result=(cov_10v463293e().s[84]++,await CommentService.getCommentsByUserID(userID));cov_10v463293e().s[85]++;if(result.statusCode===200){cov_10v463293e().b[16][0]++;cov_10v463293e().s[86]++;res.status(result.statusCode).json({data:result.data,status:result.status});}else{cov_10v463293e().b[16][1]++;cov_10v463293e().s[87]++;res.status(result.statusCode).json({status:result.status,message:result.err.message});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnQuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJDb21tZW50U2VydmljZSIsInJlcXVpcmUiLCJqd3RfZGVjb2RlIiwicm9sZVNlcnZpY2UiLCJleHBvcnRzIiwiYWRkQ29tbWVudCIsInJlcSIsInJlcyIsImZlZWRJRCIsInBhcmFtcyIsImlkIiwiYWNjZXNzVG9rZW4iLCJoZWFkZXIiLCJjdXJyZW50VXNlcklEIiwidXNlciIsImJvZHkiLCJjb250ZW50IiwiZmVlZCIsImlzQWN0aXZlIiwicmVzdWx0Iiwic3RhdHVzIiwic3RhdHVzQ29kZSIsImpzb24iLCJtZXNzYWdlIiwiZGF0YSIsImVyciIsImVycm9yIiwiaXNBbkFkbWluIiwidXNlcklEIiwiZ2V0Um9sZXNGb3JVc2VycyIsImlzQWRtaW4iLCJtYXAiLCJpdGVtIiwidG9TdHJpbmciLCJyb2xlIiwibGFiZWwiLCJpc0NvbW1lbnRPd25lciIsImNvbW1lbnQiLCJlZGl0Q29tbWVudCIsImNvbW1lbnRJRCIsImdldENvbW1lbnRCeUlEIiwiaXNhQ29tbWVudE93bmVyIiwiZGVsZXRlQ29tbWVudCIsImJsb2NrQ29tbWVudCIsImdldENvbW1lbnRzQnlGZWVkSUQiLCJnZXRDb21tZW50c0J5VXNlcklEIl0sIm1hcHBpbmdzIjoiNDRWQWVZOzJGQWZaLEtBQU1BLENBQUFBLGNBQWMsMEJBQUdDLE9BQU8sQ0FBQyxxQkFBRCxDQUFWLENBQXBCLENBQ0EsS0FBTUMsQ0FBQUEsVUFBVSwwQkFBR0QsT0FBTyxDQUFDLFlBQUQsQ0FBVixDQUFoQixDQUNBLEtBQU1FLENBQUFBLFdBQVcsMEJBQUdGLE9BQU8sQ0FBQyxrQkFBRCxDQUFWLENBQWpCLEMsd0JBRUFHLE9BQU8sQ0FBQ0MsVUFBUixDQUFxQixlQUFnQkMsR0FBaEIsQ0FBcUJDLEdBQXJCLENBQTBCLHlCQUM3QyxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsRUFBZCxDQUFaLENBQ0EsS0FBTUMsQ0FB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LElBS08sc0RBQ0xiLEdBQUcsQ0FBQ2EsTUFBSixDQUFXRCxNQUFNLENBQUNFLFVBQWxCLEVBQThCQyxJQUE5QixDQUFtQyxDQUNqQ0YsTUFBTSxDQUFFRCxNQUFNLENBQUNDLE1BRGtCLENBRWpDRyxPQUFPLENBQUVKLE1BQU0sQ0FBQ00sR0FBUCxDQUFXRixPQUZhLENBQW5DLEVBSUQsQ0FDRixDQWREIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQ29tbWVudFNlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9jb21tZW50Jyk7XG5jb25zdCBqd3RfZGVjb2RlID0gcmVxdWlyZSgnand0LWRlY29kZScpO1xuY29uc3Qgcm9sZVNlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9yb2xlJyk7XG5cbmV4cG9ydHMuYWRkQ29tbWVudCA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICBjb25zdCBmZWVkSUQgPSByZXEucGFyYW1zLmlkO1xuICBjb25zdCBhY2Nlc3NUb2tlbiA9IHJlcS5oZWFkZXIoJ3gtYXV0aC1hY2Nlc3NUb2tlbicpO1xuICB0cnkge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VySUQgPSBqd3RfZGVjb2RlKGFjY2Vzc1Rva2VuKS51c2VyLmlkO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIGNvbnRlbnQ6IHJlcS5ib2R5LmNvbnRlbnQsXG4gICAgICBmZWVkOiBmZWVkSUQsXG4gICAgICB1c2VyOiBjdXJyZW50VXNlcklELFxuICAgICAgaXNBY3RpdmU6IHRydWVcbiAgICB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRTZXJ2aWNlLmFkZENvbW1lbnQoYm9keSk7XG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgYWRkZWQgdGhlIGNvbW1lbnQnLFxuICAgICAgICBkYXRhOiByZXN1bHQuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oe1xuICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsXG4gICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJ1xuICAgIH0pO1xuICB9XG59O1xuY29uc3QgaXNBbkFkbWluID0gYXN5bmMgKHVzZXJJRCkgPT4ge1xuICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHJvbGVTZXJ2aWNlLmdldFJvbGVzRm9yVXNlcnMoKTtcbiAgbGV0IGlzQWRtaW4gPSBmYWxzZTtcbiAgZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgaWYgKGl0ZW0udXNlci50b1N0cmluZygpID09PSB1c2VySUQgJiYgaXRlbS5yb2xlLmxhYmVsLnRvU3RyaW5nKCkgPT09ICdBZG1pbmlzdHJhdG9yJykge1xuICAgICAgaXNBZG1pbiA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGlzQWRtaW47XG59O1xuY29uc3QgaXNDb21tZW50T3duZXIgPSAoY29tbWVudCwgdXNlcklEKSA9PiB7XG4gIGlmIChjb21tZW50LmRhdGEudXNlci50b1N0cmluZygpID09PSB1c2VySUQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5leHBvcnRzLmVkaXRDb21tZW50ID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIGNvbnN0IGNvbW1lbnRJRCA9IHJlcS5wYXJhbXMuaWQ7XG4gIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50U2VydmljZS5nZXRDb21tZW50QnlJRChjb21tZW50SUQpO1xuICBpZiAoY29tbWVudC5zdGF0dXNDb2RlID09PSAyMDQpIHtcbiAgICByZXMuc3RhdHVzKDIwNCkuanNvbih7XG4gICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICBtZXNzYWdlOiAnQ29tbWVudCBub3QgZm91bmQnXG4gICAgfSk7XG4gIH1cbiAgY29uc3QgYWNjZXNzVG9rZW4gPSByZXEuaGVhZGVyKCd4LWF1dGgtYWNjZXNzVG9rZW4nKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBjdXJyZW50VXNlcklEID0gand0X2RlY29kZShhY2Nlc3NUb2tlbikudXNlci5pZDtcbiAgICBjb25zdCBpc0FkbWluID0gYXdhaXQgaXNBbkFkbWluKGN1cnJlbnRVc2VySUQpO1xuICAgIGNvbnN0IGlzYUNvbW1lbnRPd25lciA9IGlzQ29tbWVudE93bmVyKGNvbW1lbnQsIGN1cnJlbnRVc2VySUQpO1xuICAgIGlmIChpc0FkbWluIHx8IGlzYUNvbW1lbnRPd25lcikge1xuICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgY29udGVudDogcmVxLmJvZHkuY29udGVudCxcbiAgICAgICAgaXNBY3RpdmU6IHJlcS5ib2R5LmlzQWN0aXZlXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudFNlcnZpY2UuZWRpdENvbW1lbnQoY29tbWVudElELCBib2R5KTtcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBjb21tZW50J1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1c0NvZGUpLmpzb24oe1xuICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBlZGl0IHRoaXMgY29tbWVudCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICBtZXNzYWdlOiAnSW52YWxpZCBUb2tlbidcbiAgICB9KTtcbiAgfVxufTtcbmV4cG9ydHMuZGVsZXRlQ29tbWVudCA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICBjb25zdCBjb21tZW50SUQgPSByZXEucGFyYW1zLmlkO1xuICBjb25zdCBjb21tZW50ID0gYXdhaXQgQ29tbWVudFNlcnZpY2UuZ2V0Q29tbWVudEJ5SUQoY29tbWVudElEKTtcbiAgaWYgKGNvbW1lbnQuc3RhdHVzQ29kZSA9PT0gMjAwKSB7XG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSByZXEuaGVhZGVyKCd4LWF1dGgtYWNjZXNzVG9rZW4nKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudFVzZXJJRCA9IGp3dF9kZWNvZGUoYWNjZXNzVG9rZW4pLnVzZXIuaWQ7XG4gICAgICBjb25zdCBpc0FkbWluID0gYXdhaXQgaXNBbkFkbWluKGN1cnJlbnRVc2VySUQpO1xuICAgICAgY29uc3QgaXNhQ29tbWVudE93bmVyID0gaXNDb21tZW50T3duZXIoY29tbWVudCwgY3VycmVudFVzZXJJRCk7XG4gICAgICBpZiAoaXNBZG1pbiB8fCBpc2FDb21tZW50T3duZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudFNlcnZpY2UuZGVsZXRlQ29tbWVudChjb21tZW50SUQpO1xuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7XG4gICAgICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgZGVsZXRlZCB0aGUgY29tbWVudCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHtcbiAgICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXNDb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgbWVzc2FnZTogJ1lvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gZWRpdCB0aGlzIGNvbW1lbnQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyhjb21tZW50LnN0YXR1c0NvZGUpLmpzb24oe1xuICAgICAgc3RhdHVzOiBjb21tZW50LnN0YXR1cyxcbiAgICAgIG1lc3NhZ2U6IGNvbW1lbnQuZXJyLm1lc3NhZ2VcbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0cy5ibG9ja0NvbW1lbnQgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgY29uc3QgY29tbWVudElEID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgY29tbWVudCA9IGF3YWl0IENvbW1lbnRTZXJ2aWNlLmdldENvbW1lbnRCeUlEKGNvbW1lbnRJRCk7XG4gIGlmIChjb21tZW50LnN0YXR1c0NvZGUgPT09IDIwMCkge1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gcmVxLmhlYWRlcigneC1hdXRoLWFjY2Vzc1Rva2VuJyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VySUQgPSBqd3RfZGVjb2RlKGFjY2Vzc1Rva2VuKS51c2VyLmlkO1xuICAgICAgY29uc3QgaXNBZG1pbiA9IGF3YWl0IGlzQW5BZG1pbihjdXJyZW50VXNlcklEKTtcbiAgICAgIGlmIChpc0FkbWluKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRTZXJ2aWNlLmJsb2NrQ29tbWVudChjb21tZW50SUQpO1xuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7XG4gICAgICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgYmxvY2tlZCB0aGUgY29tbWVudCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHtcbiAgICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5lcnIubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXNDb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgbWVzc2FnZTogJ1lvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gZWRpdCB0aGlzIGNvbW1lbnQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyhjb21tZW50LnN0YXR1c0NvZGUpLmpzb24oe1xuICAgICAgc3RhdHVzOiBjb21tZW50LnN0YXR1cyxcbiAgICAgIG1lc3NhZ2U6IGNvbW1lbnQuZXJyLm1lc3NhZ2VcbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0cy5nZXRDb21tZW50c0J5RmVlZElEID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIGNvbnN0IGZlZWRJRCA9IHJlcS5wYXJhbXMuaWQ7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRTZXJ2aWNlLmdldENvbW1lbnRzQnlGZWVkSUQoZmVlZElEKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHtcbiAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLFxuICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7XG4gICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsXG4gICAgICBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2VcbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0cy5nZXRDb21tZW50c0J5VXNlcklEID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHVzZXJJRCA9IHJlcS5wYXJhbXMuaWQ7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRTZXJ2aWNlLmdldENvbW1lbnRzQnlVc2VySUQodXNlcklEKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICByZXMuc3RhdHVzKHJlc3VsdC5zdGF0dXNDb2RlKS5qc29uKHtcbiAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLFxuICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzQ29kZSkuanNvbih7XG4gICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsXG4gICAgICBtZXNzYWdlOiByZXN1bHQuZXJyLm1lc3NhZ2VcbiAgICB9KTtcbiAgfVxufTsiXX0=